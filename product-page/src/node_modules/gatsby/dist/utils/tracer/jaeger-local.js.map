{"version":3,"sources":["../../../src/utils/tracer/jaeger-local.ts"],"names":["tracer","create","config","serviceName","reporter","collectorEndpoint","sampler","type","param","options","stop","Promise","resolve","close"],"mappings":";;;;;;AAAA;;AAEA,IAAIA,MAAJ;;AAEA,SAASC,MAAT,GAAgC;AAC9B;AACA;AACA,QAAMC,MAAqB,GAAG;AAC5BC,IAAAA,WAAW,EAAG,QADc;AAE5BC,IAAAA,QAAQ,EAAE;AACR;AACA;AACAC,MAAAA,iBAAiB,EAAG;AAHZ,KAFkB;AAO5BC,IAAAA,OAAO,EAAE;AACPC,MAAAA,IAAI,EAAG,OADA;AAEPC,MAAAA,KAAK,EAAE;AAFA;AAPmB,GAA9B;AAYA,QAAMC,OAAO,GAAG,EAAhB;AACAT,EAAAA,MAAM,GAAG,8BAAWE,MAAX,EAAmBO,OAAnB,CAAT;AACA,SAAOT,MAAP;AACD;;AAED,SAASU,IAAT,GAA+B;AAC7B,SAAO,IAAIC,OAAJ,CAAYC,OAAO,IAAI;AAC5BZ,IAAAA,MAAM,CAACa,KAAP,CAAaD,OAAb;AACD,GAFM,CAAP;AAGD","sourcesContent":["import { initTracer, JaegerTracer, TracingConfig } from \"jaeger-client\"\n\nlet tracer: JaegerTracer\n\nfunction create(): JaegerTracer {\n  // See schema\n  // https://github.com/jaegertracing/jaeger-client-node/blob/master/src/configuration.js#L37\n  const config: TracingConfig = {\n    serviceName: `gatsby`,\n    reporter: {\n      // Provide the traces endpoint; this forces the client to\n      // connect directly to the Collector and send spans over HTTP\n      collectorEndpoint: `http://localhost:14268/api/traces`,\n    },\n    sampler: {\n      type: `const`,\n      param: 1,\n    },\n  }\n  const options = {}\n  tracer = initTracer(config, options)\n  return tracer\n}\n\nfunction stop(): Promise<void> {\n  return new Promise(resolve => {\n    tracer.close(resolve)\n  })\n}\n\nexport { create, stop }\n"],"file":"jaeger-local.js"}