{"version":3,"sources":["../../src/utils/local-eslint-config-finder.ts"],"names":["log","hasLocalEslint","directory","pkg","require","path","resolve","eslintConfig","err","report","error","eslintFiles","glob","sync","cwd","length"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AAEA,MAAMA,GAAG,GAAG,oBAAO,8BAAP,CAAZ;;AAEO,MAAMC,cAAc,GAAIC,SAAD,IAAgC;AAC5D,MAAI;AACFF,IAAAA,GAAG,CAAE,yDAAF,CAAH;;AAEA,UAAMG,GAAG,GAAGC,OAAO,CAACC,cAAKC,OAAL,CAAaJ,SAAb,EAAyB,cAAzB,CAAD,CAAnB;;AACA,QAAIC,GAAG,CAACI,YAAR,EAAsB;AACpB,aAAO,IAAP;AACD;AACF,GAPD,CAOE,OAAOC,GAAP,EAAY;AACZC,sBAAOC,KAAP,CAAc,sDAAd,EAAqEF,GAArE;AACD;;AAEDR,EAAAA,GAAG,CAAE,iCAAF,CAAH;;AACA,QAAMW,WAAW,GAAGC,cAAKC,IAAL,CAAW,kCAAX,EAA8C;AAChEC,IAAAA,GAAG,EAAEZ;AAD2D,GAA9C,CAApB;;AAIA,MAAIS,WAAW,CAACI,MAAhB,EAAwB;AACtB,WAAO,IAAP;AACD;;AAED,SAAO,KAAP;AACD,CAtBM","sourcesContent":["import path from \"path\"\nimport glob from \"glob\"\nimport debug from \"debug\"\nimport report from \"gatsby-cli/lib/reporter\"\n\nconst log = debug(`gatsby:webpack-eslint-config`)\n\nexport const hasLocalEslint = (directory: string): boolean => {\n  try {\n    log(`Attempting to load package.json for eslint config check`)\n\n    const pkg = require(path.resolve(directory, `package.json`))\n    if (pkg.eslintConfig) {\n      return true\n    }\n  } catch (err) {\n    report.error(`There was a problem processing the package.json file`, err)\n  }\n\n  log(`Checking for eslint config file`)\n  const eslintFiles = glob.sync(`.eslintrc?(.js|.json|.yaml|.yml)`, {\n    cwd: directory,\n  })\n\n  if (eslintFiles.length) {\n    return true\n  }\n\n  return false\n}\n"],"file":"local-eslint-config-finder.js"}