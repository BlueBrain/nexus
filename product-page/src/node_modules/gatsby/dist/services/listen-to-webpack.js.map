{"version":3,"sources":["../../src/services/listen-to-webpack.ts"],"names":["createWebpackWatcher","compiler","callback","hooks","invalid","tap","file","reporter","verbose","type"],"mappings":";;;;;;;AAEA;;AAEO,MAAMA,oBAAoB,GAAIC,QAAD,IAClCC,QAD0E,IAEjE;AACTD,EAAAA,QAAQ,CAACE,KAAT,CAAeC,OAAf,CAAuBC,GAAvB,CAA4B,mBAA5B,EAAgDC,IAAI,IAAI;AACtDC,sBAASC,OAAT,CAAkB,yBAAwBF,IAAK,EAA/C;;AACAJ,IAAAA,QAAQ,CAAC;AAAEO,MAAAA,IAAI,EAAG,qBAAT;AAA+BH,MAAAA;AAA/B,KAAD,CAAR;AACD,GAHD;AAID,CAPM","sourcesContent":["import { Compiler } from \"webpack\"\nimport { InvokeCallback } from \"xstate\"\nimport reporter from \"gatsby-cli/lib/reporter\"\n\nexport const createWebpackWatcher = (compiler: Compiler): InvokeCallback => (\n  callback\n): void => {\n  compiler.hooks.invalid.tap(`file invalidation`, file => {\n    reporter.verbose(`Webpack file changed: ${file}`)\n    callback({ type: `SOURCE_FILE_CHANGED`, file })\n  })\n}\n"],"file":"listen-to-webpack.js"}