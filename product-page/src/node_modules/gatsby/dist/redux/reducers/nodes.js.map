{"version":3,"sources":["../../../src/redux/reducers/nodes.ts"],"names":["nodesReducer","state","Map","action","type","set","payload","id","delete","forEach"],"mappings":";;;;;AAEO,MAAMA,YAAY,GAAG,CAC1BC,KAA4B,GAAG,IAAIC,GAAJ,EADL,EAE1BC,MAF0B,KAGA;AAC1B,UAAQA,MAAM,CAACC,IAAf;AACE,SAAM,cAAN;AACE,aAAO,IAAIF,GAAJ,EAAP;;AAEF,SAAM,aAAN;AAAoB;AAClBD,QAAAA,KAAK,CAACI,GAAN,CAAUF,MAAM,CAACG,OAAP,CAAeC,EAAzB,EAA6BJ,MAAM,CAACG,OAApC;AACA,eAAOL,KAAP;AACD;;AAED,SAAM,mBAAN;AACA,SAAM,+BAAN;AACEA,MAAAA,KAAK,CAACI,GAAN,CAAUF,MAAM,CAACG,OAAP,CAAeC,EAAzB,EAA6BJ,MAAM,CAACG,OAApC;AACA,aAAOL,KAAP;;AAEF,SAAM,aAAN;AAAoB;AAClB,YAAIE,MAAM,CAACG,OAAX,EAAoB;AAClBL,UAAAA,KAAK,CAACO,MAAN,CAAaL,MAAM,CAACG,OAAP,CAAeC,EAA5B;AACD;;AACD,eAAON,KAAP;AACD;;AAED,SAAM,cAAN;AAAqB;AACnBE,QAAAA,MAAM,CAACG,OAAP,CAAeG,OAAf,CAAuBF,EAAE,IAAIN,KAAK,CAACO,MAAN,CAAaD,EAAb,CAA7B;AACA,eAAON,KAAP;AACD;;AAED;AACE,aAAOA,KAAP;AA3BJ;AA6BD,CAjCM","sourcesContent":["import { ActionsUnion, IGatsbyState } from \"../types\"\n\nexport const nodesReducer = (\n  state: IGatsbyState[\"nodes\"] = new Map(),\n  action: ActionsUnion\n): IGatsbyState[\"nodes\"] => {\n  switch (action.type) {\n    case `DELETE_CACHE`:\n      return new Map()\n\n    case `CREATE_NODE`: {\n      state.set(action.payload.id, action.payload)\n      return state\n    }\n\n    case `ADD_FIELD_TO_NODE`:\n    case `ADD_CHILD_NODE_TO_PARENT_NODE`:\n      state.set(action.payload.id, action.payload)\n      return state\n\n    case `DELETE_NODE`: {\n      if (action.payload) {\n        state.delete(action.payload.id)\n      }\n      return state\n    }\n\n    case `DELETE_NODES`: {\n      action.payload.forEach(id => state.delete(id))\n      return state\n    }\n\n    default:\n      return state\n  }\n}\n"],"file":"nodes.js"}