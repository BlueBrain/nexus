"use strict";var r=require("wonka"),e=require("graphql/error/GraphQLError"),t=require("graphql/language/printer"),n=require("graphql/language/kinds");function o(){return(o=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t,n=arguments[e];for(t in n)Object.prototype.hasOwnProperty.call(n,t)&&(r[t]=n[t])}return r}).apply(this,arguments)}var i=function(r){return"string"==typeof r?new e.GraphQLError(r):"object"==typeof r&&r.message?new e.GraphQLError(r.message,r.nodes,r.source,r.positions,r.path,r,r.extensions||{}):r};function s(){return this.message}var a=function(r){function e(e){var t=e.networkError,n=e.response,o=function(r,e){var t="";return void 0!==r?t="[Network] "+r.message:(void 0!==e&&e.forEach((function(r){t+="[GraphQL] "+r.message+"\n"})),t.trim())}(t,e=(e.graphQLErrors||[]).map(i));r.call(this,o),this.name="CombinedError",this.message=o,this.graphQLErrors=e,this.networkError=t,this.response=n}return r&&(e.__proto__=r),(e.prototype=Object.create(r&&r.prototype)).constructor=e,e.prototype.toString=s,e}(Error),u=new Set,c=new WeakMap,p=function(r){if(null===r||u.has(r))return"null";if("object"!=typeof r)return JSON.stringify(r)||"";if(r.toJSON)return p(r.toJSON());if(Array.isArray(r)){for(var e="[",t=0,n=r.length;t<n;t++){0<t&&(e+=",");var o=p(r[t]);e+=0<o.length?o:"null"}return e+"]"}if(!(e=Object.keys(r).sort()).length&&r.constructor&&r.constructor!==Object)return e=c.get(r)||Math.random().toString(36).slice(2),c.set(r,e),'{"__key":"'+e+'"}';for(u.add(r),t="{",n=0,o=e.length;n<o;n++){var i=e[n],s=p(r[i]);s&&(1<t.length&&(t+=","),t+=p(i)+":"+s)}return u.delete(r),t+"}"},f=function(r){return u.clear(),p(r)},h=function(r,e,t){return{operation:r,data:e.data,error:Array.isArray(e.errors)?new a({graphQLErrors:e.errors,response:t}):void 0,extensions:"object"==typeof e.extensions&&e.extensions||void 0}},l=function(r,e,t){return{operation:r,data:void 0,error:new a({networkError:e,response:t}),extensions:void 0}},d=function(r){for(var e=0,t=r.definitions.length;e<t;e++){var o=r.definitions[e];if(o.kind===n.Kind.OPERATION_DEFINITION&&o.name)return o.name.value}},m=function(r){return"query"===r.operationName&&!!r.context.preferGetMethod};exports.CombinedError=a,exports._extends=o,exports.makeErrorResult=l,exports.makeFetchBody=function(r){return{query:t.print(r.query),operationName:d(r.query),variables:r.variables||void 0,extensions:void 0}},exports.makeFetchOptions=function(r,e){var t=m(r);return o({},r="function"==typeof r.context.fetchOptions?r.context.fetchOptions():r.context.fetchOptions||{},{body:!t&&e?JSON.stringify(e):void 0,method:t?"GET":"POST",headers:o({},{"content-type":"application/json"},r.headers)})},exports.makeFetchSource=function(e,t,n){return r.make((function(r){var o=r.next,i=r.complete,s="undefined"!=typeof AbortController?new AbortController:null,a=!1;return Promise.resolve().then((function(){if(!a)return s&&(n.signal=s.signal),function(r,e,t){var n,o=!1;return(r.context.fetch||fetch)(e,t).then((function(r){return n=r,o=200>r.status||r.status>=("manual"===t.redirect?400:300),r.json()})).then((function(e){if(!("data"in e)&&!("errors"in e))throw Error("No Content");return h(r,e,n)})).catch((function(e){if("AbortError"!==e.name)return l(r,o?Error(n.statusText):e,n)}))}(e,t,n)})).then((function(r){a||(a=!0,r&&o(r),i())})),function(){a=!0,s&&s.abort()}}))},exports.makeFetchURL=function(r,e){var t=m(r);return r=r.context.url,t&&e?(t=[],e.operationName&&t.push("operationName="+encodeURIComponent(e.operationName)),e.query&&t.push("query="+encodeURIComponent(e.query.replace(/([\s,]|#[^\n\r]+)+/g," ").trim())),e.variables&&t.push("variables="+encodeURIComponent(f(e.variables))),e.extensions&&t.push("extensions="+encodeURIComponent(f(e.extensions))),r+"?"+t.join("&")):r},exports.makeResult=h,exports.stringifyVariables=f;
//# sourceMappingURL=f33764e8.min.js.map
