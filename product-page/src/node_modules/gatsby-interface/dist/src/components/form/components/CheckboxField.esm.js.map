{"version":3,"file":"CheckboxField.esm.js","sources":["../../../../../src/components/form/components/CheckboxField.tsx"],"sourcesContent":["/** @jsx jsx */\nimport { jsx } from \"@emotion/core\"\nimport React from \"react\"\n\nimport { useFormFieldSkeleton } from \"../../form-skeletons/components/FormFieldSkeleton\"\nimport {\n  useStyledFieldLabel,\n  useStyledFieldError,\n  useStyledFieldHint,\n  WithStyledFieldLabel,\n} from \"./FormField\"\nimport { getFocusStyles } from \"./FormField.helpers\"\nimport {\n  CheckboxFieldSkeleton,\n  CheckboxFieldSkeletonProps,\n  CheckboxFieldSkeletonControlProps,\n  CheckboxFieldSkeletonLabel,\n  CheckboxFieldSkeletonErrorProps,\n  CheckboxFieldSkeletonError,\n  CheckboxFieldSkeletonHintProps,\n  CheckboxFieldSkeletonHint,\n  CheckboxFieldSkeletonControl,\n  CheckboxFieldSkeletonLabelProps,\n} from \"../../form-skeletons/components/CheckboxFieldSkeleton\"\nimport { Theme, ThemeCss, getTheme } from \"../../../theme\"\n\nexport type CheckboxFieldProps = CheckboxFieldSkeletonProps\nexport function CheckboxField(props: CheckboxFieldProps) {\n  return <CheckboxFieldSkeleton {...props}></CheckboxFieldSkeleton>\n}\n\nexport type CheckboxFieldControlProps = Omit<\n  CheckboxFieldSkeletonControlProps,\n  \"ref\"\n>\n\nexport const CheckboxFieldControl = React.forwardRef<\n  HTMLInputElement,\n  CheckboxFieldControlProps\n>(function CheckboxFieldControl(props, ref) {\n  const { hasError } = useFormFieldSkeleton()\n\n  return (\n    <CheckboxFieldSkeletonControl\n      ref={ref}\n      css={styledCheckboxCss(hasError)}\n      {...props}\n    />\n  )\n})\n\nconst CHECKBOX_WIDTH = `20px`\nconst CHECKBOX_VERTICAL_OFFSET_CALC = `(1em - 16px) * 0.5`\n\nconst getCheckImage = (color: string) => {\n  const encodedColor = encodeURIComponent(color)\n  return `url(\"data:image/svg+xml,%3Csvg width='20' height='20' viewBox='0 0 20 20' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M7.32505 15.1584L4.19049 10.8791C3.87533 10.423 3.95905 9.80199 4.38373 9.44564L4.38374 9.44564C4.80842 9.08929 5.43452 9.11468 5.82896 9.50424L9.49899 13.3343C10.0964 13.9243 10.0568 14.9003 9.41361 15.44L9.4136 15.44C8.7704 15.9797 7.80237 15.8492 7.32505 15.1584Z' fill='${encodedColor}'/%3E%3Cpath d='M7.58182 15.4296C6.92843 14.8813 6.86426 13.8988 7.44078 13.2703L14.7221 5.33129C15.0919 4.92814 15.7135 4.88754 16.1326 5.23917L16.1326 5.23917C16.5517 5.59081 16.6196 6.21003 16.2868 6.64418L9.73285 15.1935C9.21392 15.8704 8.23522 15.9779 7.58182 15.4296L7.58182 15.4296Z' fill='${encodedColor}'/%3E%3Cpath d='M7.747 11.5322C8.1138 11.9724 8.38279 12.2658 8.8474 11.7523C9.31202 11.2388 8.70068 13.0483 8.70068 13.0483L7.18457 12.5593L7.747 11.5322Z' fill='${encodedColor}'/%3E%3C/svg%3E\")`\n}\n\nconst { colors: staticColors } = getTheme()\n\nexport const styledCheckboxCss = (hasError?: boolean): ThemeCss => {\n  return theme => ({\n    position: `absolute`,\n    opacity: 0,\n\n    \"&:focus + label::before\": {\n      ...getFocusStyles(theme, hasError),\n    },\n\n    \"&:checked + label::before\": {\n      backgroundColor: theme.colors.purple[60],\n      borderColor: theme.colors.purple[60],\n      backgroundOrigin: `border-box`,\n      backgroundImage: getCheckImage(staticColors.white),\n    },\n\n    \"&:checked:disabled + label::before\": {\n      backgroundImage: getCheckImage(staticColors.grey[40]),\n    },\n\n    \"&:disabled + label::before\": {\n      backgroundColor: theme.colors.grey[10],\n      borderColor: theme.colors.grey[30],\n      cursor: `not-allowed`,\n    },\n  })\n}\n\nconst sharedStyles: ThemeCss = theme => ({\n  display: `block`,\n  marginLeft: 0,\n  paddingLeft: `calc(${CHECKBOX_WIDTH} + ${theme.space[4]})`,\n})\n\nexport type CheckboxFieldWrapperProps = Omit<\n  JSX.IntrinsicElements[\"div\"],\n  \"ref\"\n>\nexport function CheckboxFieldWrapper(props: CheckboxFieldWrapperProps) {\n  return <div {...props} />\n}\n\nconst labelCss: ThemeCss = theme => ({\n  cursor: `pointer`,\n  alignItems: `flex-start`,\n  marginBottom: 0,\n  position: `relative`,\n  lineHeight: 1.3,\n\n  \":before\": {\n    backgroundColor: theme.colors.white,\n    border: `2px solid ${theme.colors.grey[30]}`,\n    borderRadius: `3px`,\n    content: `\"\"`,\n    display: `block`,\n    height: CHECKBOX_WIDTH,\n    marginRight: theme.space[3],\n    position: `absolute`,\n    top: 0,\n    left: 0,\n    transition: `0.1s ease-in-out`,\n    transform: `translate(0, calc(${CHECKBOX_VERTICAL_OFFSET_CALC}))`,\n    width: CHECKBOX_WIDTH,\n  },\n})\n\nconst labelWithErrorOrHintCss: ThemeCss = theme => ({\n  marginBottom: theme.space[1],\n})\n\nconst labelWithErrorCss: ThemeCss = theme => ({\n  \":before\": {\n    border: `1px solid ${theme.colors.red[60]}`,\n  },\n})\n\nexport type CheckboxFieldLabelProps = WithStyledFieldLabel<\n  CheckboxFieldSkeletonLabelProps\n>\nexport function CheckboxFieldLabel({\n  children,\n  size,\n  isRequired,\n  ...props\n}: CheckboxFieldLabelProps) {\n  const { hasError, hasHint } = useFormFieldSkeleton()\n  const { css, ...styledProps } = useStyledFieldLabel(children, {\n    size,\n    isRequired,\n  })\n\n  return (\n    <CheckboxFieldSkeletonLabel\n      {...props}\n      {...styledProps}\n      css={(theme: Theme) => [\n        css(theme),\n        labelCss(theme),\n        (hasError || hasHint) && labelWithErrorOrHintCss(theme),\n        hasError && labelWithErrorCss(theme),\n        sharedStyles(theme),\n      ]}\n    />\n  )\n}\n\nexport type CheckboxFieldErrorProps = CheckboxFieldSkeletonErrorProps\nexport function CheckboxFieldError({\n  children,\n  ...props\n}: CheckboxFieldErrorProps) {\n  const { css, ...styledProps } = useStyledFieldError(children)\n\n  return (\n    <CheckboxFieldSkeletonError\n      {...props}\n      {...styledProps}\n      css={(theme: Theme) => [css(theme), sharedStyles(theme)]}\n    />\n  )\n}\n\nexport type CheckboxFieldHintProps = CheckboxFieldSkeletonHintProps\nexport function CheckboxFieldHint(props: CheckboxFieldHintProps) {\n  const { css, ...styledProps } = useStyledFieldHint()\n\n  return (\n    <CheckboxFieldSkeletonHint\n      {...props}\n      {...styledProps}\n      css={(theme: Theme) => [css(theme), sharedStyles(theme)]}\n    />\n  )\n}\n"],"names":["CheckboxField","props","CheckboxFieldControl","React","forwardRef","ref","useFormFieldSkeleton","hasError","styledCheckboxCss","CHECKBOX_WIDTH","CHECKBOX_VERTICAL_OFFSET_CALC","getCheckImage","color","encodedColor","encodeURIComponent","getTheme","staticColors","colors","theme","position","opacity","getFocusStyles","backgroundColor","purple","borderColor","backgroundOrigin","backgroundImage","white","grey","cursor","sharedStyles","display","marginLeft","paddingLeft","space","CheckboxFieldWrapper","labelCss","alignItems","marginBottom","lineHeight","border","borderRadius","content","height","marginRight","top","left","transition","transform","width","labelWithErrorOrHintCss","labelWithErrorCss","red","CheckboxFieldLabel","children","size","isRequired","hasHint","useStyledFieldLabel","css","styledProps","CheckboxFieldError","useStyledFieldError","CheckboxFieldHint","useStyledFieldHint"],"mappings":"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"}