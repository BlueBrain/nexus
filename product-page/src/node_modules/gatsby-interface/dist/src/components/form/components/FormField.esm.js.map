{"version":3,"file":"FormField.esm.js","sources":["../../../../../src/components/form/components/FormField.tsx"],"sourcesContent":["/** @jsx jsx */\nimport { jsx, keyframes } from \"@emotion/core\"\nimport React from \"react\"\n\nimport { MdError } from \"react-icons/md\"\nimport { Theme } from \"../../../theme\"\nimport { ErrorValidationMode } from \"../../form-skeletons\"\n\nimport {\n  getLabelFontSize,\n  getLabelStyles,\n  getDescriptionStyles,\n  RequiredFlag,\n  FormFieldLabelSize,\n  getFieldLayoutStyles,\n} from \"./FormField.helpers\"\n\nexport type StyledFieldLabelProps = {\n  isRequired?: boolean\n  size?: FormFieldLabelSize\n}\n\nexport type WithStyledFieldLabel<T> = Omit<T, keyof StyledFieldLabelProps> &\n  StyledFieldLabelProps\n\nexport function useStyledFieldLabel(\n  label?: React.ReactNode,\n  { size = `M`, isRequired = false }: StyledFieldLabelProps = {}\n) {\n  return {\n    css: (theme: Theme) => [\n      getLabelFontSize(size, theme),\n      getLabelStyles(theme),\n    ],\n    children: (\n      <React.Fragment>\n        {label} {isRequired && <RequiredFlag />}\n      </React.Fragment>\n    ),\n  }\n}\n\nexport function useStyledFieldHint() {\n  return {\n    css: (theme: Theme) => [\n      getDescriptionStyles(theme),\n      {\n        gridArea: `hint`,\n      },\n    ],\n  }\n}\n\nconst errorEntry = keyframes`\n  50% {\n    opacity: .5;\n  }\n  to {\n    opacity: 1;\n  }\n`\n\nconst errorIconEntry = keyframes`\n  to {\n    transform: translateY(-0.1em) scale(1) \n  }\n`\n\nexport function useStyledFieldError(error?: React.ReactNode) {\n  return {\n    css: (theme: Theme) => [\n      getDescriptionStyles(theme),\n      {\n        gridArea: `error`,\n        animation: `${errorEntry} .25s ease forwards`,\n        color: theme.colors.red[70],\n        opacity: 0,\n      },\n    ],\n    children: (\n      <React.Fragment>\n        <MdError\n          css={(theme: Theme) => ({\n            animation: `${errorIconEntry} .25s ease-out forwards`,\n            height: `1em`,\n            marginRight: theme.space[1],\n            transform: `translateY(-0.1em) scale(0)`,\n            verticalAlign: `middle`,\n            width: `1em`,\n          })}\n        />\n        {error}\n      </React.Fragment>\n    ),\n  }\n}\n\nexport type FormFieldBlockLayout = `horizontal` | `vertical`\n\nexport type FormFieldContainerProps = Omit<\n  JSX.IntrinsicElements[\"div\"],\n  \"ref\"\n> & {\n  layout?: FormFieldBlockLayout\n}\n\nexport function FormFieldContainer({\n  layout,\n  ...rest\n}: FormFieldContainerProps) {\n  const layoutProps = useFormFieldContainerProps(layout)\n\n  return <div {...layoutProps} {...rest} />\n}\n\nexport function useFormFieldContainerProps(\n  layout: FormFieldBlockLayout = `vertical`\n) {\n  return {\n    css: (theme: Theme) => getFieldLayoutStyles(theme, layout),\n  }\n}\n\nexport type FormFieldBlockProps = {\n  id: string\n  label: React.ReactNode\n  labelSize?: FormFieldLabelSize\n  error?: React.ReactNode\n  hint?: React.ReactNode\n  validationMode?: ErrorValidationMode\n  layout?: FormFieldBlockLayout\n}\n\nexport type WithFormFieldBlock<T> = Omit<T, keyof FormFieldBlockProps> &\n  FormFieldBlockProps\n"],"names":["useStyledFieldLabel","label","size","isRequired","css","theme","getLabelFontSize","getLabelStyles","children","React","useStyledFieldHint","getDescriptionStyles","gridArea","errorEntry","keyframes","errorIconEntry","useStyledFieldError","error","animation","color","colors","red","opacity","height","marginRight","space","transform","verticalAlign","width","FormFieldContainer","layout","rest","layoutProps","useFormFieldContainerProps","getFieldLayoutStyles"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAyBO,SAASA,mBAAT,CACLC,KADK,EAGL;AAAA,iFAD4D,EAC5D;AAAA,uBADEC,IACF;AAAA,MADEA,IACF;AAAA,6BADcC,UACd;AAAA,MADcA,UACd,gCAD2B,KAC3B;;AACA,SAAO;AACLC,IAAAA,GAAG,EAAE,aAACC,KAAD;AAAA,aAAkB,CACrBC,gBAAgB,CAACJ,IAAD,EAAOG,KAAP,CADK,EAErBE,cAAc,CAACF,KAAD,CAFO,CAAlB;AAAA,KADA;AAKLG,IAAAA,QAAQ,EACN,IAACC,cAAD,CAAO,QAAP,QACGR,KADH,OACWE,UAAU,IAAI,IAAC,YAAD,OADzB;AANG,GAAP;AAWD;AAEM,SAASO,kBAAT,GAA8B;AACnC,SAAO;AACLN,IAAAA,GAAG,EAAE,aAACC,KAAD;AAAA,aAAkB,CACrBM,oBAAoB,CAACN,KAAD,CADC,EAErB;AACEO,QAAAA,QAAQ;AADV,OAFqB,CAAlB;AAAA;AADA,GAAP;AAQD;AAED,IAAMC,UAAU,GAAGC,SAAH,mBAAhB;AASA,IAAMC,cAAc,GAAGD,SAAH,oBAApB;AAMO,SAASE,mBAAT,CAA6BC,KAA7B,EAAsD;AAC3D,SAAO;AACLb,IAAAA,GAAG,EAAE,aAACC,KAAD;AAAA,aAAkB,CACrBM,oBAAoB,CAACN,KAAD,CADC,EAErB;AACEO,QAAAA,QAAQ,SADV;AAEEM,QAAAA,SAAS,YAAKL,UAAL,wBAFX;AAGEM,QAAAA,KAAK,EAAEd,KAAK,CAACe,MAAN,CAAaC,GAAb,CAAiB,EAAjB,CAHT;AAIEC,QAAAA,OAAO,EAAE;AAJX,OAFqB,CAAlB;AAAA,KADA;AAULd,IAAAA,QAAQ,EACN,IAACC,cAAD,CAAO,QAAP,QACE,IAAC,OAAD;AACE,MAAA,GAAG,EAAE,aAACJ,KAAD;AAAA,eAAmB;AACtBa,UAAAA,SAAS,YAAKH,cAAL,4BADa;AAEtBQ,UAAAA,MAAM,OAFgB;AAGtBC,UAAAA,WAAW,EAAEnB,KAAK,CAACoB,KAAN,CAAY,CAAZ,CAHS;AAItBC,UAAAA,SAAS,+BAJa;AAKtBC,UAAAA,aAAa,UALS;AAMtBC,UAAAA,KAAK;AANiB,SAAnB;AAAA;AADP,MADF,EAWGX,KAXH;AAXG,GAAP;AA0BD;AAWM,SAASY,kBAAT,QAGqB;AAAA,MAF1BC,MAE0B,SAF1BA,MAE0B;AAAA,MADvBC,IACuB;;AAC1B,MAAMC,WAAW,GAAGC,0BAA0B,CAACH,MAAD,CAA9C;AAEA,SAAO,wBAASE,WAAT,EAA0BD,IAA1B,EAAP;AACD;;AAVCD,EAAAA;;AAYK,SAASG,0BAAT,GAEL;AAAA,MADAH,MACA;AACA,SAAO;AACL1B,IAAAA,GAAG,EAAE,aAACC,KAAD;AAAA,aAAkB6B,oBAAoB,CAAC7B,KAAD,EAAQyB,MAAR,CAAtC;AAAA;AADA,GAAP;AAGD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}