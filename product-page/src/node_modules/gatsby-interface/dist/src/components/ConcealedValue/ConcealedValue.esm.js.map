{"version":3,"file":"ConcealedValue.esm.js","sources":["../../../../src/components/ConcealedValue/ConcealedValue.tsx"],"sourcesContent":["/** @jsx jsx */\nimport { useState } from \"react\"\nimport { jsx } from \"@emotion/core\"\nimport { Button } from \"../Button\"\nimport copyToClipboard from \"../../utils/helpers/copyToClipboard\"\nimport {\n  concealedValueContainerCss,\n  concealedValueContentCss,\n  concealedValueActionsCss,\n  concealedValueInputCss,\n  concealedValueButtonCss,\n} from \"./ConcealedValue.styles\"\n\nexport type ConcealedValueProps = {\n  value: string\n  ariaLabel: string\n  delay?: number\n  concealed?: boolean\n}\nexport function ConcealedValue({\n  value,\n  ariaLabel,\n  concealed = true,\n  delay = 5000,\n}: ConcealedValueProps) {\n  const [isCopied, setIsCopied] = useState(false)\n  const [isConcealed, setIsConcealed] = useState(concealed)\n\n  const copyHandler = async () => {\n    await copyToClipboard(value)\n    setIsCopied(true)\n    setTimeout(() => {\n      setIsCopied(false)\n    }, delay)\n  }\n\n  const revealHandler = () => {\n    setIsConcealed(!isConcealed)\n  }\n\n  return (\n    <div css={concealedValueContainerCss}>\n      <div css={concealedValueContentCss}>\n        {isConcealed ? (\n          // classic password dots\n          <input\n            css={concealedValueInputCss}\n            type=\"text\"\n            value=\"&bull; &bull; &bull; &bull; &bull; &bull;\"\n            aria-label={`Hidden value of ${ariaLabel}`}\n            readOnly\n          />\n        ) : (\n          // unmasked value\n          <input\n            css={concealedValueInputCss}\n            type=\"text\"\n            value={value}\n            aria-label={ariaLabel}\n            readOnly\n          />\n        )}\n      </div>\n      <div css={concealedValueActionsCss}>\n        <Button\n          size=\"S\"\n          tone=\"NEUTRAL\"\n          variant=\"SECONDARY\"\n          css={concealedValueButtonCss}\n          onClick={copyHandler}\n        >\n          {isCopied ? `Copied` : `Copy`}\n        </Button>\n        <Button\n          size=\"S\"\n          tone=\"NEUTRAL\"\n          variant=\"SECONDARY\"\n          css={concealedValueButtonCss}\n          onClick={revealHandler}\n        >\n          {isConcealed ? `Reveal` : `Conceal`}\n        </Button>\n      </div>\n    </div>\n  )\n}\n"],"names":["ConcealedValue","value","ariaLabel","concealed","delay","useState","isCopied","setIsCopied","isConcealed","setIsConcealed","copyHandler","copyToClipboard","setTimeout","revealHandler","concealedValueContainerCss","concealedValueContentCss","concealedValueInputCss","concealedValueActionsCss","concealedValueButtonCss"],"mappings":";;;;;;;;AAmBO,SAASA,cAAT,OAKiB;AAAA,MAJtBC,KAIsB,QAJtBA,KAIsB;AAAA,MAHtBC,SAGsB,QAHtBA,SAGsB;AAAA,4BAFtBC,SAEsB;AAAA,MAFtBA,SAEsB,+BAFV,IAEU;AAAA,wBADtBC,KACsB;AAAA,MADtBA,KACsB,2BADd,IACc;;AAAA,kBACUC,QAAQ,CAAC,KAAD,CADlB;AAAA;AAAA,MACfC,QADe;AAAA,MACLC,WADK;;AAAA,mBAEgBF,QAAQ,CAACF,SAAD,CAFxB;AAAA;AAAA,MAEfK,WAFe;AAAA,MAEFC,cAFE;;AAItB,MAAMC,WAAW;AAAA,wEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACZC,eAAe,CAACV,KAAD,CADH;;AAAA;AAElBM,cAAAA,WAAW,CAAC,IAAD,CAAX;AACAK,cAAAA,UAAU,CAAC,YAAM;AACfL,gBAAAA,WAAW,CAAC,KAAD,CAAX;AACD,eAFS,EAEPH,KAFO,CAAV;;AAHkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAXM,WAAW;AAAA;AAAA;AAAA,KAAjB;;AAQA,MAAMG,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AAC1BJ,IAAAA,cAAc,CAAC,CAACD,WAAF,CAAd;AACD,GAFD;;AAIA,SACE;AAAK,IAAA,GAAG,EAAEM;AAAV,KACE;AAAK,IAAA,GAAG,EAAEC;AAAV,KACGP,WAAW;AAEV;AACE,IAAA,GAAG,EAAEQ,sBADP;AAEE,IAAA,IAAI,EAAC,MAFP;AAGE,IAAA,KAAK,EAAC,2CAHR;AAIE,4CAA+Bd,SAA/B,CAJF;AAKE,IAAA,QAAQ;AALV,IAFU;AAWV;AACE,IAAA,GAAG,EAAEc,sBADP;AAEE,IAAA,IAAI,EAAC,MAFP;AAGE,IAAA,KAAK,EAAEf,KAHT;AAIE,kBAAYC,SAJd;AAKE,IAAA,QAAQ;AALV,IAZJ,CADF,EAsBE;AAAK,IAAA,GAAG,EAAEe;AAAV,KACE,IAAC,MAAD;AACE,IAAA,IAAI,EAAC,GADP;AAEE,IAAA,IAAI,EAAC,SAFP;AAGE,IAAA,OAAO,EAAC,WAHV;AAIE,IAAA,GAAG,EAAEC,uBAJP;AAKE,IAAA,OAAO,EAAER;AALX,KAOGJ,QAAQ,oBAPX,CADF,EAUE,IAAC,MAAD;AACE,IAAA,IAAI,EAAC,GADP;AAEE,IAAA,IAAI,EAAC,SAFP;AAGE,IAAA,OAAO,EAAC,WAHV;AAIE,IAAA,GAAG,EAAEY,uBAJP;AAKE,IAAA,OAAO,EAAEL;AALX,KAOGL,WAAW,uBAPd,CAVF,CAtBF,CADF;AA6CD;;AAvECP,EAAAA;AACAC,EAAAA;AACAE,EAAAA;AACAD,EAAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}