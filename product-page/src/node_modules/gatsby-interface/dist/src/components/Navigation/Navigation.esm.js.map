{"version":3,"file":"Navigation.esm.js","sources":["../../../../src/components/Navigation/Navigation.tsx"],"sourcesContent":["/** @jsx jsx */\nimport { jsx } from \"@emotion/core\"\nimport React from \"react\"\nimport { ClassNames } from \"@emotion/core\"\nimport {\n  BaseNavigation,\n  BaseNavigationProps,\n  BaseNavigationHamburgerProps,\n  BaseNavigationHamburgerIconProps,\n  BaseNavigationContextValue,\n  BaseNavigationNavProps,\n  BaseNavigationListProps,\n  BaseNavigationListItemProps,\n  BaseNavigationItemAnchorProps,\n  BaseNavigationItemLinkProps,\n  BaseNavigationDropdownProps,\n  BaseNavigationDropdownToggleProps,\n  BaseNavigationAnchorButtonProps,\n  BaseNavigationLinkButtonProps,\n  BaseNavigationDropdownItemProps,\n} from \"../BaseNavigation\"\nimport {\n  navigationBaseCss,\n  hamburgerIconCss,\n  navCss,\n  listCss,\n  itemCss,\n  itemLinkCss,\n  dropdownCss,\n  dropdownListCss,\n  dropdownToggleCss,\n  dropdownItemCss,\n  buttonItemCss,\n} from \"./Navigation.styles\"\n\nexport type NavigationItem = {\n  name: string\n  linkTo: string\n}\n\nexport type NavigationItemOptions = NavigationItem & {\n  items?: NavigationItem[]\n}\n\nexport type NavigationProps = BaseNavigationProps\n\nexport function Navigation({\n  items,\n  isInverted = false,\n  mobileNavMediaQuery = `@media (max-width: 1065px)`,\n  ...delegated\n}: NavigationProps) {\n  return (\n    <BaseNavigation\n      items={items}\n      isInverted={isInverted}\n      mobileNavMediaQuery={mobileNavMediaQuery}\n      // override base components\n      Hamburger={Navigation.Hamburger}\n      HamburgerIcon={Navigation.HamburgerIcon}\n      Nav={Navigation.Nav}\n      List={Navigation.List}\n      Item={Navigation.Item}\n      ItemLink={Navigation.ItemLink}\n      Dropdown={Navigation.Dropdown}\n      DropdownItem={Navigation.DropdownItem}\n      DropdownToggle={Navigation.DropdownToggle}\n      css={navigationBaseCss}\n      {...delegated}\n    />\n  )\n}\n\nexport type NavigartionContextValue = BaseNavigationContextValue\n\nfunction useNavigationContext(): NavigartionContextValue {\n  return BaseNavigation.useNavigationContext()\n}\n\nNavigation.useNavigationContext = useNavigationContext\n\nexport type NavigationHamburgerProps = BaseNavigationHamburgerProps\n\nconst NavigationHamburger = React.forwardRef<\n  HTMLButtonElement,\n  NavigationHamburgerProps\n>(function NavigationHamburger(delegated, ref) {\n  return <BaseNavigation.Hamburger {...delegated} ref={ref} />\n})\n\nNavigation.Hamburger = NavigationHamburger\n\nexport type NavigationHamburgerIconProps = BaseNavigationHamburgerIconProps\n\nfunction NavigationHamburgerIcon(delegated: NavigationHamburgerIconProps) {\n  const { isMobileNavOpen } = Navigation.useNavigationContext()\n\n  return (\n    <BaseNavigation.HamburgerIcon\n      css={hamburgerIconCss}\n      className={isMobileNavOpen ? `active` : ``}\n      {...delegated}\n    />\n  )\n}\n\nNavigation.HamburgerIcon = NavigationHamburgerIcon\n\nexport type NavigationNavProps = BaseNavigationNavProps\n\nfunction NavigationNav(delegated: NavigationNavProps) {\n  const {\n    mobileNavMediaQuery,\n    isMobileNavOpen,\n  } = Navigation.useNavigationContext()\n\n  return (\n    <BaseNavigation.Nav\n      css={navCss(mobileNavMediaQuery, isMobileNavOpen)}\n      {...delegated}\n    />\n  )\n}\n\nNavigation.Nav = NavigationNav\n\nexport type NavigationListProps = BaseNavigationListProps\n\nfunction NavigationList(delegated: NavigationListProps) {\n  const { mobileNavMediaQuery } = Navigation.useNavigationContext()\n\n  return (\n    <BaseNavigation.List css={listCss(mobileNavMediaQuery)} {...delegated} />\n  )\n}\n\nNavigation.List = NavigationList\n\nexport type NavigationSpacerProps = Omit<\n  JSX.IntrinsicElements[\"li\"],\n  \"ref\" | \"role\"\n>\n\nfunction NavigationSpacer(delegated: NavigationSpacerProps) {\n  return <li css={{ flex: 1 }} {...delegated} role=\"separator\" />\n}\n\nNavigation.Spacer = NavigationSpacer\n\nexport type NavigationItemProps = BaseNavigationListItemProps\n\nfunction NavigationItem(delegated: NavigationItemProps) {\n  const { mobileNavMediaQuery } = Navigation.useNavigationContext()\n\n  return (\n    <BaseNavigation.Item css={itemCss(mobileNavMediaQuery)} {...delegated} />\n  )\n}\n\nNavigation.Item = NavigationItem\n\nexport type NavigationItemLinkProps =\n  | BaseNavigationItemAnchorProps\n  | BaseNavigationItemLinkProps\n\nfunction NavigationItemLink(delegated: NavigationItemLinkProps) {\n  const { isInverted, mobileNavMediaQuery } = Navigation.useNavigationContext()\n\n  const commonCss = itemLinkCss(mobileNavMediaQuery, isInverted)\n\n  if (isExternalLinkItem(delegated)) {\n    return <BaseNavigation.ItemAnchor css={commonCss} {...delegated} />\n  }\n\n  return <BaseNavigation.ItemLink css={commonCss} {...delegated} />\n}\n\nNavigation.ItemLink = NavigationItemLink\n\nfunction isExternalLinkItem(\n  props: NavigationItemLinkProps\n): props is BaseNavigationItemAnchorProps {\n  return isExternalLink(props.item.linkTo)\n}\n\nexport type NavigationDropdownProps = BaseNavigationDropdownProps\n\nfunction NavigationDropdown(delegated: NavigationDropdownProps) {\n  const {\n    mobileNavMediaQuery,\n    dropdownOffsets,\n  } = Navigation.useNavigationContext()\n\n  const itemOffset = dropdownOffsets[delegated.item.name]\n  const offset = itemOffset ? `${itemOffset}px` : `0px`\n\n  return (\n    <ClassNames>\n      {({ css, theme }) => (\n        <BaseNavigation.Dropdown\n          css={dropdownCss(mobileNavMediaQuery, offset)}\n          dropdownListClassName={css(\n            dropdownListCss(theme, mobileNavMediaQuery)\n          )}\n          {...delegated}\n        />\n      )}\n    </ClassNames>\n  )\n}\n\nNavigation.Dropdown = NavigationDropdown\n\nexport type NavigationDropdownToggleProps = BaseNavigationDropdownToggleProps\n\nconst NavigationDropdownToggle = React.forwardRef<\n  HTMLButtonElement,\n  NavigationDropdownToggleProps\n>(function NavigationDropdownToggle(delegated, ref) {\n  const { mobileNavMediaQuery } = Navigation.useNavigationContext()\n\n  return (\n    <BaseNavigation.DropdownToggle\n      css={dropdownToggleCss(mobileNavMediaQuery)}\n      {...delegated}\n      ref={ref}\n    />\n  )\n})\n\nNavigation.DropdownToggle = NavigationDropdownToggle\n\nexport type NavigationDropdownItemProps = BaseNavigationDropdownItemProps\n\nfunction NavigationDropdownItem(delegated: NavigationDropdownItemProps) {\n  const { mobileNavMediaQuery } = Navigation.useNavigationContext()\n\n  return (\n    <BaseNavigation.DropdownItem\n      css={dropdownItemCss(mobileNavMediaQuery)}\n      {...delegated}\n    />\n  )\n}\n\nNavigation.DropdownItem = NavigationDropdownItem\n\nexport type NavigationButtonProps =\n  | BaseNavigationAnchorButtonProps\n  | BaseNavigationLinkButtonProps\n\nfunction NavigationButton({ linkTo, ...delegated }: NavigationButtonProps) {\n  const { mobileNavMediaQuery } = Navigation.useNavigationContext()\n\n  const commonCss = buttonItemCss(mobileNavMediaQuery)\n\n  if (isExternalButtonLink(linkTo, delegated)) {\n    return (\n      <li css={commonCss}>\n        <BaseNavigation.AnchorButton href={linkTo} {...delegated} />\n      </li>\n    )\n  }\n\n  return (\n    <li css={commonCss}>\n      <BaseNavigation.LinkButton\n        linkTo={linkTo}\n        {...(delegated as BaseNavigationLinkButtonProps)}\n      />\n    </li>\n  )\n}\n\nNavigation.Button = NavigationButton\n\nfunction isExternalButtonLink(\n  linkTo: string | undefined | null,\n  _props: NavigationButtonProps\n): _props is BaseNavigationAnchorButtonProps {\n  return !linkTo || isExternalLink(linkTo)\n}\n\nconst isExternalLink = (linkTo: string) => {\n  return Boolean(linkTo.match(/(^http|^mailto)/i))\n}\n"],"names":["Navigation","items","isInverted","mobileNavMediaQuery","delegated","Hamburger","HamburgerIcon","Nav","List","Item","ItemLink","Dropdown","DropdownItem","DropdownToggle","navigationBaseCss","useNavigationContext","BaseNavigation","NavigationHamburger","React","forwardRef","ref","NavigationHamburgerIcon","isMobileNavOpen","hamburgerIconCss","NavigationNav","navCss","NavigationList","listCss","NavigationSpacer","flex","Spacer","NavigationItem","itemCss","NavigationItemLink","commonCss","itemLinkCss","isExternalLinkItem","props","isExternalLink","item","linkTo","NavigationDropdown","dropdownOffsets","itemOffset","name","offset","css","theme","dropdownCss","dropdownListCss","NavigationDropdownToggle","dropdownToggleCss","NavigationDropdownItem","dropdownItemCss","NavigationButton","buttonItemCss","isExternalButtonLink","Button","_props","Boolean","match"],"mappings":"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"}