{"version":3,"file":"stack.esm.js","sources":["../../../../src/components/stack/stack.tsx"],"sourcesContent":["import { Interpolation } from \"@emotion/serialize\"\nimport { Theme, ThemeSpace, ThemeMediaBreakpoint } from \"../../theme\"\n\nexport type StackGap = ThemeSpace | string\nexport type ResponsiveStackGap = Partial<Record<ThemeMediaBreakpoint, StackGap>>\n\nexport type StackAlign = `stretch` | `center` | `left` | `right`\nexport type StackAlignCSS = `stretch` | `center` | `flex-start` | `flex-end`\nexport type StackDirection = `column` | `row`\nconst ALIGN_TO_CSS_ALIGN: Record<StackAlign, StackAlignCSS> = {\n  stretch: `stretch`,\n  center: `center`,\n  right: `flex-end`,\n  left: `flex-start`,\n}\n\nexport type GetStackStylesParams = {\n  gap?: StackGap\n  responsiveGap?: ResponsiveStackGap\n  align?: StackAlign\n  direction?: StackDirection\n  theme?: Theme\n}\n\nexport type GetStackStylesReturn = {\n  stackCss: Interpolation\n  stackItemCss: Interpolation\n}\n\nfunction getGapVal(gap: StackGap, t?: Theme): string {\n  if (t && t.space[gap as ThemeSpace]) {\n    return t.space[gap as ThemeSpace]\n  }\n\n  return gap as string\n}\n\nexport function getStackStyles(\n  params?: GetStackStylesParams\n): GetStackStylesReturn {\n  const {\n    gap = 0,\n    responsiveGap = {},\n    align = `stretch`,\n    direction = `column`,\n    theme: t,\n  } = params || {}\n\n  const isHorizontal = direction === `row`\n\n  let responsiveGapCss = {}\n\n  if (t && t.mediaQueries) {\n    responsiveGapCss = Object.entries(responsiveGap).reduce<\n      Record<string, Interpolation>\n    >((acc, [breakpoint, gap]) => {\n      const mediaQuery = t.mediaQueries[breakpoint as ThemeMediaBreakpoint]\n\n      if (mediaQuery && gap !== undefined && gap !== null) {\n        acc[mediaQuery] = {\n          marginTop: !isHorizontal ? getGapVal(gap, t) : undefined,\n          marginLeft: isHorizontal ? getGapVal(gap, t) : undefined,\n        }\n      }\n\n      return acc\n    }, {})\n  }\n\n  const stackCss: Interpolation = {\n    display: `flex`,\n    flexDirection: isHorizontal ? `row` : `column`,\n    alignItems: !isHorizontal\n      ? ALIGN_TO_CSS_ALIGN[align || `stretch`]\n      : undefined,\n    justifyContent: isHorizontal\n      ? ALIGN_TO_CSS_ALIGN[align || `left`]\n      : undefined,\n    overflow: isHorizontal ? `auto` : undefined,\n  }\n\n  const stackItemCss: Interpolation = {\n    marginTop: !isHorizontal ? getGapVal(gap, t) : undefined,\n    marginLeft: isHorizontal ? getGapVal(gap, t) : undefined,\n    flexShrink: isHorizontal ? 0 : undefined,\n\n    \"&:first-child\": {\n      marginTop: !isHorizontal ? 0 : undefined,\n      marginLeft: isHorizontal ? 0 : undefined,\n    },\n\n    ...responsiveGapCss,\n  }\n\n  return {\n    stackCss,\n    stackItemCss,\n  }\n}\n"],"names":["ALIGN_TO_CSS_ALIGN","stretch","center","right","left","getGapVal","gap","t","space","getStackStyles","params","responsiveGap","align","direction","theme","isHorizontal","responsiveGapCss","mediaQueries","Object","entries","reduce","acc","breakpoint","mediaQuery","undefined","marginTop","marginLeft","stackCss","display","flexDirection","alignItems","justifyContent","overflow","stackItemCss","flexShrink"],"mappings":";;AASA,IAAMA,kBAAqD,GAAG;AAC5DC,EAAAA,OAAO,WADqD;AAE5DC,EAAAA,MAAM,UAFsD;AAG5DC,EAAAA,KAAK,YAHuD;AAI5DC,EAAAA,IAAI;AAJwD,CAA9D;;AAoBA,SAASC,SAAT,CAAmBC,GAAnB,EAAkCC,CAAlC,EAAqD;AACnD,MAAIA,CAAC,IAAIA,CAAC,CAACC,KAAF,CAAQF,GAAR,CAAT,EAAqC;AACnC,WAAOC,CAAC,CAACC,KAAF,CAAQF,GAAR,CAAP;AACD;;AAED,SAAOA,GAAP;AACD;;AAEM,SAASG,cAAT,CACLC,MADK,EAEiB;AAAA,aAOlBA,MAAM,IAAI,EAPQ;AAAA,sBAEpBJ,GAFoB;AAAA,MAEpBA,GAFoB,yBAEd,CAFc;AAAA,gCAGpBK,aAHoB;AAAA,MAGpBA,aAHoB,mCAGJ,EAHI;AAAA,wBAIpBC,KAJoB;AAAA,MAIpBA,KAJoB;AAAA,4BAKpBC,SALoB;AAAA,MAKpBA,SALoB;AAAA,MAMbN,CANa,QAMpBO,KANoB;;AAStB,MAAMC,YAAY,GAAGF,SAAS,UAA9B;AAEA,MAAIG,gBAAgB,GAAG,EAAvB;;AAEA,MAAIT,CAAC,IAAIA,CAAC,CAACU,YAAX,EAAyB;AACvBD,IAAAA,gBAAgB,GAAGE,MAAM,CAACC,OAAP,CAAeR,aAAf,EAA8BS,MAA9B,CAEjB,UAACC,GAAD,SAA4B;AAAA;AAAA,UAArBC,UAAqB;AAAA,UAAThB,GAAS;;AAC5B,UAAMiB,UAAU,GAAGhB,CAAC,CAACU,YAAF,CAAeK,UAAf,CAAnB;;AAEA,UAAIC,UAAU,IAAIjB,GAAG,KAAKkB,SAAtB,IAAmClB,GAAG,KAAK,IAA/C,EAAqD;AACnDe,QAAAA,GAAG,CAACE,UAAD,CAAH,GAAkB;AAChBE,UAAAA,SAAS,EAAE,CAACV,YAAD,GAAgBV,SAAS,CAACC,GAAD,EAAMC,CAAN,CAAzB,GAAoCiB,SAD/B;AAEhBE,UAAAA,UAAU,EAAEX,YAAY,GAAGV,SAAS,CAACC,GAAD,EAAMC,CAAN,CAAZ,GAAuBiB;AAF/B,SAAlB;AAID;;AAED,aAAOH,GAAP;AACD,KAbkB,EAahB,EAbgB,CAAnB;AAcD;;AAED,MAAMM,QAAuB,GAAG;AAC9BC,IAAAA,OAAO,QADuB;AAE9BC,IAAAA,aAAa,EAAEd,YAAY,mBAFG;AAG9Be,IAAAA,UAAU,EAAE,CAACf,YAAD,GACRf,kBAAkB,CAACY,KAAK,aAAN,CADV,GAERY,SAL0B;AAM9BO,IAAAA,cAAc,EAAEhB,YAAY,GACxBf,kBAAkB,CAACY,KAAK,UAAN,CADM,GAExBY,SAR0B;AAS9BQ,IAAAA,QAAQ,EAAEjB,YAAY,YAAYS;AATJ,GAAhC;;AAYA,MAAMS,YAA2B;AAC/BR,IAAAA,SAAS,EAAE,CAACV,YAAD,GAAgBV,SAAS,CAACC,GAAD,EAAMC,CAAN,CAAzB,GAAoCiB,SADhB;AAE/BE,IAAAA,UAAU,EAAEX,YAAY,GAAGV,SAAS,CAACC,GAAD,EAAMC,CAAN,CAAZ,GAAuBiB,SAFhB;AAG/BU,IAAAA,UAAU,EAAEnB,YAAY,GAAG,CAAH,GAAOS,SAHA;AAK/B,qBAAiB;AACfC,MAAAA,SAAS,EAAE,CAACV,YAAD,GAAgB,CAAhB,GAAoBS,SADhB;AAEfE,MAAAA,UAAU,EAAEX,YAAY,GAAG,CAAH,GAAOS;AAFhB;AALc,KAU5BR,gBAV4B,CAAjC;;AAaA,SAAO;AACLW,IAAAA,QAAQ,EAARA,QADK;AAELM,IAAAA,YAAY,EAAZA;AAFK,GAAP;AAID;;;;"}