{"version":3,"file":"SidebarNav.esm.js","sources":["../../../../src/components/SidebarNav/SidebarNav.tsx"],"sourcesContent":["/** @jsx jsx */\nimport { jsx } from \"@emotion/core\"\nimport React from \"react\"\nimport { Link } from \"gatsby\"\nimport { Theme, ThemeCss } from \"../../theme\"\n\nexport type SidebarNavItem = {\n  label: React.ReactNode\n  to?: string\n  active?: boolean\n  onClick?: React.MouseEventHandler<HTMLAnchorElement>\n}\n\nexport type SidebarNavOption = SidebarNavItem & {\n  Icon?: React.ComponentType<any>\n  subItems?: SidebarNavItem[]\n}\n\nexport type SidebarNavProps = JSX.IntrinsicElements[\"nav\"] & {\n  options?: SidebarNavOption[]\n}\n\nexport default function SidebarNav({ options, ...rest }: SidebarNavProps) {\n  return (\n    <nav\n      aria-label=\"sidebar navigation\"\n      css={theme => ({\n        paddingLeft: theme.space[8],\n      })}\n      {...rest}\n    >\n      {options && (\n        <SidebarNavList>\n          {options.map(option => {\n            return <SidebarNavListItem key={option.to} {...option} />\n          })}\n        </SidebarNavList>\n      )}\n    </nav>\n  )\n}\n\ntype SidebarNavListProps = JSX.IntrinsicElements[\"ul\"]\n\nfunction SidebarNavList(props: SidebarNavListProps) {\n  return (\n    <ul\n      css={[\n        {\n          listStyle: `none`,\n          margin: 0,\n          padding: 0,\n        },\n      ]}\n      {...props}\n    />\n  )\n}\n\nconst baseNavItemCss: ThemeCss = theme => ({\n  fontFamily: theme.fonts.body,\n  fontSize: theme.fontSizes[1],\n  fontWeight: theme.fontWeights.body,\n  color: theme.colors.grey[60],\n  marginBottom: `0`,\n  \"&:first-of-type\": {\n    paddingTop: `0`,\n  },\n  \"&:last-of-type\": {\n    paddingBottom: `0`,\n  },\n})\n\nconst baseNavItemActiveCss: ThemeCss = theme => ({\n  color: theme.colors.purple[50],\n  fontWeight: theme.fontWeights.semiBold,\n})\n\nconst navItemIconCss: ThemeCss = theme => ({\n  color: theme.colors.grey[40],\n  fontSize: theme.fontSizes[4],\n  verticalAlign: `middle`,\n  position: `absolute`,\n  left: `-${theme.space[8]}`,\n})\n\nconst navItemActiveIconCss: ThemeCss = theme => ({\n  color: theme.colors.purple[40],\n})\n\ntype SidebarNavItemProps = Omit<\n  JSX.IntrinsicElements[\"li\"],\n  \"children\" | \"onClick\"\n> &\n  SidebarNavOption\n\nfunction SidebarNavListItem({\n  label,\n  to,\n  active,\n  onClick,\n  Icon,\n  subItems,\n  ...rest\n}: SidebarNavItemProps) {\n  return (\n    <SidebarBaseItem\n      css={theme => [\n        {\n          position: `relative`,\n          padding: `${theme.space[3]} 0`,\n        },\n      ]}\n      label={\n        <React.Fragment>\n          {Icon && (\n            <Icon\n              css={(theme: Theme) => [\n                navItemIconCss(theme),\n                active && navItemActiveIconCss(theme),\n              ]}\n              size=\"inherit\"\n            />\n          )}\n          {label}\n        </React.Fragment>\n      }\n      to={to}\n      active={active}\n      onClick={onClick}\n      current={active ? \"page\" : undefined}\n      {...rest}\n    >\n      {subItems && active && (\n        <SidebarNavList\n          css={(theme: Theme) => ({\n            paddingTop: theme.space[5],\n            paddingBottom: theme.space[3],\n          })}\n        >\n          {subItems.map(subItem => (\n            <SidebarBaseItem\n              key={subItem.to}\n              css={(theme: Theme) => [\n                {\n                  paddingTop: theme.space[3],\n                  paddingRight: theme.space[5],\n                  paddingBottom: theme.space[3],\n                  paddingLeft: `calc(${theme.space[6]} + 1px)`,\n                  marginBottom: `0`,\n                  marginLeft: `calc(-${theme.space[6]} - 2px)`,\n                  borderLeft: `1px solid ${theme.colors.grey[30]}`,\n                },\n                subItem.active && {\n                  borderLeftColor: theme.colors.purple[50],\n                },\n              ]}\n              current={subItem.active ? \"location\" : undefined}\n              {...subItem}\n            />\n          ))}\n        </SidebarNavList>\n      )}\n    </SidebarBaseItem>\n  )\n}\n\nconst itemLinkCss: ThemeCss = theme => ({\n  color: `inherit`,\n  lineHeight: theme.lineHeights.dense,\n  textDecoration: `none`,\n})\n\ntype SidebarBaseItemProps = Omit<JSX.IntrinsicElements[\"li\"], \"onClick\"> &\n  SidebarNavItem & {\n    current?: \"page\" | \"location\"\n  }\n\nfunction SidebarBaseItem({\n  children,\n  label,\n  to,\n  active,\n  onClick,\n  current,\n  ...rest\n}: SidebarBaseItemProps) {\n  return (\n    <li\n      css={theme => [\n        baseNavItemCss(theme),\n        active && baseNavItemActiveCss(theme),\n      ]}\n      {...rest}\n    >\n      {to ? (\n        <Link\n          to={to}\n          onClick={onClick}\n          css={itemLinkCss}\n          aria-current={current}\n        >\n          {label}\n        </Link>\n      ) : (\n        label\n      )}\n      {children}\n    </li>\n  )\n}\n"],"names":["SidebarNav","options","rest","theme","paddingLeft","space","map","option","to","label","active","onClick","Icon","subItems","SidebarNavList","props","listStyle","margin","padding","baseNavItemCss","fontFamily","fonts","body","fontSize","fontSizes","fontWeight","fontWeights","color","colors","grey","marginBottom","paddingTop","paddingBottom","baseNavItemActiveCss","purple","semiBold","navItemIconCss","verticalAlign","position","left","navItemActiveIconCss","SidebarNavListItem","React","undefined","subItem","paddingRight","marginLeft","borderLeft","borderLeftColor","itemLinkCss","lineHeight","lineHeights","dense","textDecoration","SidebarBaseItem","children","current"],"mappings":"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"}