{"version":3,"file":"FormGroupFieldSkeleton.esm.js","sources":["../../../../../src/components/form-skeletons/components/FormGroupFieldSkeleton.tsx"],"sourcesContent":["import React from \"react\"\nimport {\n  FormFieldSkeleton,\n  FormFieldSkeletonProps,\n  FormFieldSkeletonLabelProps,\n  useFormFieldSkeleton,\n} from \"./FormFieldSkeleton\"\nimport { getFinalAriaDescribedBy } from \"../utils\"\nimport { OmitControlProps } from \"../sharedTypes\"\n\nexport type FormGroupFieldSkeletonProps = FormFieldSkeletonProps &\n  Pick<JSX.IntrinsicElements[\"div\"], \"className\" | \"style\">\n\nexport function FormGroupFieldSkeleton({\n  id,\n  hasError,\n  hasHint,\n  children,\n  className,\n  style,\n}: FormGroupFieldSkeletonProps) {\n  return (\n    <FormFieldSkeleton id={id} hasError={hasError} hasHint={hasHint}>\n      <div\n        role=\"group\"\n        id={id}\n        aria-labelledby={`${id}__legend`}\n        className={className}\n        style={style}\n      >\n        {children}\n      </div>\n    </FormFieldSkeleton>\n  )\n}\n\nexport type FormGroupFieldSkeletonLabelProps = Omit<\n  JSX.IntrinsicElements[\"div\"],\n  \"ref\"\n>\n\nexport const FormGroupFieldSkeletonLabel: React.FC<FormGroupFieldSkeletonLabelProps> = props => {\n  const { id } = useFormFieldSkeleton()\n  return <div {...props} id={`${id}__legend`} />\n}\n\nexport type FormGroupFieldSkeletonOptionProps = Omit<\n  OmitControlProps<JSX.IntrinsicElements[\"input\"]>,\n  \"value\" | \"name\"\n> & {\n  name: string // Force require \"name\" attribute\n  value: string // Force require \"value\" attribute\n}\n\nexport const FormGroupFieldSkeletonOption = React.forwardRef<\n  HTMLInputElement,\n  FormGroupFieldSkeletonOptionProps\n>(function FormGroupFieldSkeletonOption(props, ref) {\n  const { id, hasError, meta } = useFormFieldSkeleton()\n\n  // We have to set aria-describedby for EACH option (see https://russmaxdesign.github.io/accessible-error-fieldset/)\n  return (\n    <input\n      id={getGroupOptionId(id, props.value)}\n      {...props}\n      aria-describedby={getFinalAriaDescribedBy(\n        meta.controlDescribedBy,\n        props[`aria-describedby`]\n      )}\n      aria-invalid={hasError}\n      ref={ref}\n    />\n  )\n})\n\nexport type FormGroupFieldSkeletonOptionLabelProps = FormFieldSkeletonLabelProps & {\n  optionValue: string\n}\n\nexport const FormGroupFieldSkeletonOptionLabel: React.FC<FormGroupFieldSkeletonOptionLabelProps> = ({\n  optionValue,\n  ...rest\n}) => {\n  const { id } = useFormFieldSkeleton()\n\n  return <label htmlFor={getGroupOptionId(id, optionValue)} {...rest} />\n}\n\nfunction getGroupOptionId(fieldId: string, optionValue: string) {\n  return `${fieldId}__option--${optionValue}`\n}\n"],"names":["FormGroupFieldSkeleton","id","hasError","hasHint","children","className","style","React","FormGroupFieldSkeletonLabel","props","useFormFieldSkeleton","FormGroupFieldSkeletonOption","forwardRef","ref","meta","getGroupOptionId","value","getFinalAriaDescribedBy","controlDescribedBy","name","FormGroupFieldSkeletonOptionLabel","optionValue","rest","fieldId"],"mappings":";;;;;;AAaO,SAASA,sBAAT,OAOyB;AAAA,MAN9BC,EAM8B,QAN9BA,EAM8B;AAAA,MAL9BC,QAK8B,QAL9BA,QAK8B;AAAA,MAJ9BC,OAI8B,QAJ9BA,OAI8B;AAAA,MAH9BC,QAG8B,QAH9BA,QAG8B;AAAA,MAF9BC,SAE8B,QAF9BA,SAE8B;AAAA,MAD9BC,KAC8B,QAD9BA,KAC8B;AAC9B,sBACEC,6BAAC,iBAAD;AAAmB,IAAA,EAAE,EAAEN,EAAvB;AAA2B,IAAA,QAAQ,EAAEC,QAArC;AAA+C,IAAA,OAAO,EAAEC;AAAxD,kBACEI;AACE,IAAA,IAAI,EAAC,OADP;AAEE,IAAA,EAAE,EAAEN,EAFN;AAGE,iCAAoBA,EAApB,aAHF;AAIE,IAAA,SAAS,EAAEI,SAJb;AAKE,IAAA,KAAK,EAAEC;AALT,KAOGF,QAPH,CADF,CADF;AAaD;IAOYI,2BAAuE,GAAG,SAA1EA,2BAA0E,CAAAC,KAAK,EAAI;AAAA,8BAC/EC,oBAAoB,EAD2D;AAAA,MACtFT,EADsF,yBACtFA,EADsF;;AAE9F,sBAAOM,iDAASE,KAAT;AAAgB,IAAA,EAAE,YAAKR,EAAL;AAAlB,KAAP;AACD;IAUYU,4BAA4B,GAAGJ,cAAK,CAACK,UAAN,CAG1C,SAASD,4BAAT,CAAsCF,KAAtC,EAA6CI,GAA7C,EAAkD;AAAA,+BACnBH,oBAAoB,EADD;AAAA,MAC1CT,EAD0C,0BAC1CA,EAD0C;AAAA,MACtCC,QADsC,0BACtCA,QADsC;AAAA,MAC5BY,IAD4B,0BAC5BA,IAD4B;;;AAIlD,sBACEP;AACE,IAAA,EAAE,EAAEQ,gBAAgB,CAACd,EAAD,EAAKQ,KAAK,CAACO,KAAX;AADtB,KAEMP,KAFN;AAGE,wBAAkBQ,uBAAuB,CACvCH,IAAI,CAACI,kBADkC,EAEvCT,KAAK,oBAFkC,CAH3C;AAOE,oBAAcP,QAPhB;AAQE,IAAA,GAAG,EAAEW;AARP,KADF;AAYD,CAnB2C;;AAJ1CM,EAAAA;AACAH,EAAAA;;IA4BWI,iCAAmF,GAAG,SAAtFA,iCAAsF,QAG7F;AAAA,MAFJC,WAEI,SAFJA,WAEI;AAAA,MADDC,IACC;;AAAA,+BACWZ,oBAAoB,EAD/B;AAAA,MACIT,EADJ,0BACIA,EADJ;;AAGJ,sBAAOM;AAAO,IAAA,OAAO,EAAEQ,gBAAgB,CAACd,EAAD,EAAKoB,WAAL;AAAhC,KAAuDC,IAAvD,EAAP;AACD;;AAVCD,EAAAA;;;AAYF,SAASN,gBAAT,CAA0BQ,OAA1B,EAA2CF,WAA3C,EAAgE;AAC9D,mBAAUE,OAAV,uBAA8BF,WAA9B;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}