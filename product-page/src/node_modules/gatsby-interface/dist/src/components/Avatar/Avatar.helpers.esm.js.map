{"version":3,"file":"Avatar.helpers.esm.js","sources":["../../../../src/components/Avatar/Avatar.helpers.tsx"],"sourcesContent":["type FitTextOptions = {\n  maxWidth: number\n  minFontSizeInRem: number\n  maxFontSizeInRem: number\n}\n\n// The following is based on textFit library https://github.com/STRML/textFit\nexport function fitText<T extends HTMLElement>({\n  maxWidth: maxTextWidth = 1,\n  minFontSizeInRem,\n  maxFontSizeInRem,\n}: FitTextOptions) {\n  return (element: T | null) => {\n    if (!element) {\n      return\n    }\n    const parent = element.parentElement\n\n    if (!parent) {\n      return\n    }\n\n    // Get base font size so that we can parse rem into px\n    const baseFontSize = parseFloat(\n      window.getComputedStyle(document.documentElement).fontSize\n    )\n\n    let low = baseFontSize * minFontSizeInRem\n    let high = baseFontSize * maxFontSizeInRem\n\n    const maxWidth = parent.clientWidth * maxTextWidth\n    const maxHeight = parent.clientHeight * maxWidth\n\n    let fontSize = low\n    let mid\n\n    // Binary search to find the most fitting font size\n    while (low <= high) {\n      mid = (high + low) / 2\n      element.style.fontSize = mid + \"px\"\n      if (\n        element.scrollWidth <= maxWidth &&\n        element.scrollHeight <= maxHeight\n      ) {\n        fontSize = mid\n        low = mid + 1\n      } else {\n        high = mid - 1\n      }\n    }\n\n    element.style.fontSize = `${fontSize}px`\n  }\n}\n"],"names":["fitText","maxWidth","maxTextWidth","minFontSizeInRem","maxFontSizeInRem","element","parent","parentElement","baseFontSize","parseFloat","window","getComputedStyle","document","documentElement","fontSize","low","high","clientWidth","maxHeight","clientHeight","mid","style","scrollWidth","scrollHeight"],"mappings":"AAMA;AACO,SAASA,OAAT,OAIY;AAAA,2BAHjBC,QAGiB;AAAA,MAHPC,YAGO,8BAHQ,CAGR;AAAA,MAFjBC,gBAEiB,QAFjBA,gBAEiB;AAAA,MADjBC,gBACiB,QADjBA,gBACiB;AACjB,SAAO,UAACC,OAAD,EAAuB;AAC5B,QAAI,CAACA,OAAL,EAAc;AACZ;AACD;;AACD,QAAMC,MAAM,GAAGD,OAAO,CAACE,aAAvB;;AAEA,QAAI,CAACD,MAAL,EAAa;AACX;AACD,KAR2B;;;AAW5B,QAAME,YAAY,GAAGC,UAAU,CAC7BC,MAAM,CAACC,gBAAP,CAAwBC,QAAQ,CAACC,eAAjC,EAAkDC,QADrB,CAA/B;AAIA,QAAIC,GAAG,GAAGP,YAAY,GAAGL,gBAAzB;AACA,QAAIa,IAAI,GAAGR,YAAY,GAAGJ,gBAA1B;AAEA,QAAMH,QAAQ,GAAGK,MAAM,CAACW,WAAP,GAAqBf,YAAtC;AACA,QAAMgB,SAAS,GAAGZ,MAAM,CAACa,YAAP,GAAsBlB,QAAxC;AAEA,QAAIa,QAAQ,GAAGC,GAAf;AACA,QAAIK,GAAJ,CAtB4B;;AAyB5B,WAAOL,GAAG,IAAIC,IAAd,EAAoB;AAClBI,MAAAA,GAAG,GAAG,CAACJ,IAAI,GAAGD,GAAR,IAAe,CAArB;AACAV,MAAAA,OAAO,CAACgB,KAAR,CAAcP,QAAd,GAAyBM,GAAG,GAAG,IAA/B;;AACA,UACEf,OAAO,CAACiB,WAAR,IAAuBrB,QAAvB,IACAI,OAAO,CAACkB,YAAR,IAAwBL,SAF1B,EAGE;AACAJ,QAAAA,QAAQ,GAAGM,GAAX;AACAL,QAAAA,GAAG,GAAGK,GAAG,GAAG,CAAZ;AACD,OAND,MAMO;AACLJ,QAAAA,IAAI,GAAGI,GAAG,GAAG,CAAb;AACD;AACF;;AAEDf,IAAAA,OAAO,CAACgB,KAAR,CAAcP,QAAd,aAA4BA,QAA5B;AACD,GAxCD;AAyCD;;;;"}