{"version":3,"file":"Avatar.esm.js","sources":["../../../../src/components/Avatar/Avatar.tsx"],"sourcesContent":["/** @jsx jsx */\nimport React from \"react\"\nimport { jsx } from \"@emotion/core\"\nimport { css } from \"@emotion/core\"\nimport AvatarSkeleton from \"./AvatarSkeleton\"\nimport { AvatarSize } from \"./types\"\nimport { DEFAULT_SIZE, placeholderFontSizes } from \"./constants\"\nimport { fitText } from \"./Avatar.helpers\"\n\nconst imageCss = css({\n  objectFit: \"cover\",\n  width: \"100%\",\n  height: \"100%\",\n  padding: 0,\n  margin: 0,\n})\n\nconst maxFallbackTextWidth: Record<AvatarSize, number> = {\n  XS: 0.9,\n  S: 0.9,\n  M: 0.9,\n  L: 0.8,\n  XL: 0.8,\n  XXL: 0.8,\n}\n\nexport type AvatarProps = {\n  src: string\n  label: string\n  fallback?: React.ReactNode\n  size?: AvatarSize\n  borderColor?: string | null\n  fitTextFallback?: boolean\n  className?: string\n  style?: React.CSSProperties\n}\n\nexport default function Avatar({\n  src,\n  fallback,\n  label,\n  size = DEFAULT_SIZE,\n  borderColor = null,\n  className,\n  style,\n}: AvatarProps) {\n  const textFitter = fitText<HTMLSpanElement>({\n    maxWidth: maxFallbackTextWidth[size],\n    minFontSizeInRem: parseFloat(placeholderFontSizes.XS),\n    maxFontSizeInRem: parseFloat(placeholderFontSizes[size]),\n  })\n\n  return (\n    <AvatarSkeleton\n      size={size}\n      borderColor={borderColor}\n      className={className}\n      style={style}\n      title={label}\n    >\n      {src ? (\n        <img css={imageCss} src={src} alt={label} />\n      ) : (\n        <span aria-label={label} ref={textFitter}>\n          {fallback}\n        </span>\n      )}\n    </AvatarSkeleton>\n  )\n}\n"],"names":["imageCss","css","objectFit","width","height","padding","margin","maxFallbackTextWidth","XS","S","M","L","XL","XXL","Avatar","src","fallback","label","size","DEFAULT_SIZE","borderColor","className","style","textFitter","fitText","maxWidth","minFontSizeInRem","parseFloat","placeholderFontSizes","maxFontSizeInRem","fitTextFallback"],"mappings":";;;;;;AASA,IAAMA,QAAQ,GAAGC,GAAG,CAAC;AACnBC,EAAAA,SAAS,EAAE,OADQ;AAEnBC,EAAAA,KAAK,EAAE,MAFY;AAGnBC,EAAAA,MAAM,EAAE,MAHW;AAInBC,EAAAA,OAAO,EAAE,CAJU;AAKnBC,EAAAA,MAAM,EAAE;AALW,CAAD,CAApB;AAQA,IAAMC,oBAAgD,GAAG;AACvDC,EAAAA,EAAE,EAAE,GADmD;AAEvDC,EAAAA,CAAC,EAAE,GAFoD;AAGvDC,EAAAA,CAAC,EAAE,GAHoD;AAIvDC,EAAAA,CAAC,EAAE,GAJoD;AAKvDC,EAAAA,EAAE,EAAE,GALmD;AAMvDC,EAAAA,GAAG,EAAE;AANkD,CAAzD;AAoBe,SAASC,MAAT,OAQC;AAAA,MAPdC,GAOc,QAPdA,GAOc;AAAA,MANdC,QAMc,QANdA,QAMc;AAAA,MALdC,KAKc,QALdA,KAKc;AAAA,uBAJdC,IAIc;AAAA,MAJdA,IAIc,0BAJPC,YAIO;AAAA,8BAHdC,WAGc;AAAA,MAHdA,WAGc,iCAHA,IAGA;AAAA,MAFdC,SAEc,QAFdA,SAEc;AAAA,MADdC,KACc,QADdA,KACc;AACd,MAAMC,UAAU,GAAGC,OAAO,CAAkB;AAC1CC,IAAAA,QAAQ,EAAElB,oBAAoB,CAACW,IAAD,CADY;AAE1CQ,IAAAA,gBAAgB,EAAEC,UAAU,CAACC,oBAAoB,CAACpB,EAAtB,CAFc;AAG1CqB,IAAAA,gBAAgB,EAAEF,UAAU,CAACC,oBAAoB,CAACV,IAAD,CAArB;AAHc,GAAlB,CAA1B;AAMA,SACE,IAAC,cAAD;AACE,IAAA,IAAI,EAAEA,IADR;AAEE,IAAA,WAAW,EAAEE,WAFf;AAGE,IAAA,SAAS,EAAEC,SAHb;AAIE,IAAA,KAAK,EAAEC,KAJT;AAKE,IAAA,KAAK,EAAEL;AALT,KAOGF,GAAG,GACF;AAAK,IAAA,GAAG,EAAEf,QAAV;AAAoB,IAAA,GAAG,EAAEe,GAAzB;AAA8B,IAAA,GAAG,EAAEE;AAAnC,IADE,GAGF;AAAM,kBAAYA,KAAlB;AAAyB,IAAA,GAAG,EAAEM;AAA9B,KACGP,QADH,CAVJ,CADF;AAiBD;;AA1CCD,EAAAA;AACAE,EAAAA;AACAD,EAAAA;AAEAI,EAAAA;AACAU,EAAAA;AACAT,EAAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}