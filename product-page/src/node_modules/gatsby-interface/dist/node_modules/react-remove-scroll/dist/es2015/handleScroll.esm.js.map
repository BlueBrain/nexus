{"version":3,"file":"handleScroll.esm.js","sources":["../../../../../node_modules/react-remove-scroll/dist/es2015/handleScroll.js"],"sourcesContent":["var elementCouldBeVScrolled = function (node) {\n    var styles = window.getComputedStyle(node);\n    return (styles.overflowY !== 'hidden' && // not-not-scrollable\n        !(styles.overflowY === styles.overflowX && styles.overflowY === 'visible') // scrollable\n    );\n};\nvar elementCouldBeHScrolled = function (node) {\n    var styles = window.getComputedStyle(node);\n    return (styles.overflowX !== 'hidden' && // not-not-scrollable\n        !(styles.overflowY === styles.overflowX && styles.overflowX === 'visible') // scrollable\n    );\n};\nexport var locationCouldBeScrolled = function (axis, node) {\n    var current = node;\n    do {\n        var isScrollable = elementCouldBeScrolled(axis, current);\n        if (isScrollable) {\n            var _a = getScrollVariables(axis, current), s = _a[1], d = _a[2];\n            if (s > d) {\n                return true;\n            }\n        }\n        current = current.parentNode;\n    } while (current && current !== document.body);\n    return false;\n};\nvar getVScrollVariables = function (_a) {\n    var scrollTop = _a.scrollTop, scrollHeight = _a.scrollHeight, clientHeight = _a.clientHeight;\n    return [scrollTop, scrollHeight, clientHeight];\n};\nvar getHScrollVariables = function (_a) {\n    var scrollLeft = _a.scrollLeft, scrollWidth = _a.scrollWidth, clientWidth = _a.clientWidth;\n    return [scrollLeft, scrollWidth, clientWidth];\n};\nvar elementCouldBeScrolled = function (axis, node) {\n    return axis === 'v' ? elementCouldBeVScrolled(node) : elementCouldBeHScrolled(node);\n};\nvar getScrollVariables = function (axis, node) {\n    return axis === 'v' ? getVScrollVariables(node) : getHScrollVariables(node);\n};\nexport var handleScroll = function (axis, endTarget, event, sourceDelta, noOverscroll) {\n    var delta = sourceDelta;\n    // find scrollable target\n    var target = event.target;\n    var targetInLock = endTarget.contains(target);\n    var shouldCancelScroll = false;\n    var isDeltaPositive = delta > 0;\n    var availableScroll = 0;\n    var availableScrollTop = 0;\n    do {\n        var _a = getScrollVariables(axis, target), position = _a[0], scroll_1 = _a[1], capacity = _a[2];\n        var elementScroll = scroll_1 - capacity - position;\n        if (position || elementScroll) {\n            if (elementCouldBeScrolled(axis, target)) {\n                availableScroll += elementScroll;\n                availableScrollTop += position;\n            }\n        }\n        target = target.parentNode;\n    } while (\n    // portaled content\n    (!targetInLock && target !== document.body) ||\n        // self content\n        (targetInLock && (endTarget.contains(target) || endTarget === target)));\n    if (0) {\n    }\n    else if (isDeltaPositive &&\n        ((noOverscroll && availableScroll === 0) ||\n            (!noOverscroll && delta > availableScroll))) {\n        shouldCancelScroll = true;\n    }\n    else if (!isDeltaPositive &&\n        ((noOverscroll && availableScrollTop === 0) ||\n            (!noOverscroll && -delta > availableScrollTop))) {\n        shouldCancelScroll = true;\n    }\n    return shouldCancelScroll;\n};\n"],"names":[],"mappings":"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"}