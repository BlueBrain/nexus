{"version":3,"file":"menu-button.esm.esm.js","sources":["../../../../../node_modules/@reach/menu-button/dist/menu-button.esm.js"],"sourcesContent":["import React, { useRef, useReducer, useEffect, useContext, forwardRef, useMemo, useState, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { useId } from '@reach/auto-id';\nimport Popover from '@reach/popover';\nimport { useDescendantsInit, DescendantProvider, useDescendants, useDescendantKeyDown, createDescendantContext, useDescendant } from '@reach/descendants';\nimport { makeId, checkStyles, isFunction, forwardRefWithAs, useForkedRef, wrapEvent, usePrevious, isString, noop, createNamedContext, getOwnerDocument } from '@reach/utils';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\n// Actions\n\nvar CLEAR_SELECTION_INDEX = \"CLEAR_SELECTION_INDEX\";\nvar CLICK_MENU_ITEM = \"CLICK_MENU_ITEM\";\nvar CLOSE_MENU = \"CLOSE_MENU\";\nvar OPEN_MENU_AT_FIRST_ITEM = \"OPEN_MENU_AT_FIRST_ITEM\";\nvar OPEN_MENU_CLEARED = \"OPEN_MENU_CLEARED\";\nvar SEARCH_FOR_ITEM = \"SEARCH_FOR_ITEM\";\nvar SELECT_ITEM_AT_INDEX = \"SELECT_ITEM_AT_INDEX\";\nvar SET_BUTTON_ID = \"SET_BUTTON_ID\";\nvar MenuDescendantContext = /*#__PURE__*/createDescendantContext(\"MenuDescendantContext\");\nvar MenuContext = /*#__PURE__*/createNamedContext(\"MenuContext\", {});\nvar initialState = {\n  // The button ID is needed for aria controls and can be set directly and\n  // updated for top-level use via context. Otherwise a default is set by useId.\n  // TODO: Consider deprecating direct ID in 1.0 in favor of id at the top level\n  //       for passing deterministic IDs to descendent components.\n  buttonId: null,\n  // Whether or not the menu is expanded\n  isExpanded: false,\n  // When a user begins typing a character string, the selection will change if\n  // a matching item is found\n  typeaheadQuery: \"\",\n  // The index of the current selected item. When the selection is cleared a\n  // value of -1 is used.\n  selectionIndex: -1\n}; ////////////////////////////////////////////////////////////////////////////////\n\n/**\r\n * Menu\r\n *\r\n * The wrapper component for the other components. No DOM element is rendered.\r\n *\r\n * @see Docs https://reacttraining.com/reach-ui/menu-button#menu\r\n */\n\nvar Menu = function Menu(_ref) {\n  var id = _ref.id,\n      children = _ref.children;\n  var buttonRef = useRef(null);\n  var menuRef = useRef(null);\n  var popoverRef = useRef(null);\n\n  var _useDescendantsInit = useDescendantsInit(),\n      descendants = _useDescendantsInit[0],\n      setDescendants = _useDescendantsInit[1];\n\n  var _useReducer = useReducer(reducer, initialState),\n      state = _useReducer[0],\n      dispatch = _useReducer[1];\n\n  var _id = useId(id);\n\n  var menuId = id || makeId(\"menu\", _id); // We use an event listener attached to the window to capture outside clicks\n  // that close the menu. We don't want the initial button click to trigger this\n  // when a menu is closed, so we can track this behavior in a ref for now.\n  // We shouldn't need this when we rewrite with state machine logic.\n\n  var buttonClickedRef = useRef(false); // We will put children callbacks in a ref to avoid triggering endless render\n  // loops when using render props if the app code doesn't useCallback\n  // https://github.com/reach/reach-ui/issues/523\n\n  var selectCallbacks = useRef([]);\n  var context = {\n    buttonRef: buttonRef,\n    dispatch: dispatch,\n    menuId: menuId,\n    menuRef: menuRef,\n    popoverRef: popoverRef,\n    buttonClickedRef: buttonClickedRef,\n    selectCallbacks: selectCallbacks,\n    state: state\n  }; // When the menu is open, focus is placed on the menu itself so that\n  // keyboard navigation is still possible.\n\n  useEffect(function () {\n    if (state.isExpanded) {\n      // @ts-ignore\n      window.__REACH_DISABLE_TOOLTIPS = true;\n      window.requestAnimationFrame(function () {\n        focus(menuRef.current);\n      });\n    } else {\n      // We want to ignore the immediate focus of a tooltip so it doesn't pop\n      // up again when the menu closes, only pops up when focus returns again\n      // to the tooltip (like native OS tooltips).\n      // @ts-ignore\n      window.__REACH_DISABLE_TOOLTIPS = false;\n    }\n  }, [state.isExpanded]);\n  useEffect(function () {\n    return checkStyles(\"menu-button\");\n  }, []);\n  return React.createElement(DescendantProvider, {\n    context: MenuDescendantContext,\n    items: descendants,\n    set: setDescendants\n  }, React.createElement(MenuContext.Provider, {\n    value: context\n  }, isFunction(children) ? children({\n    isExpanded: state.isExpanded,\n    // TODO: Remove in 1.0\n    isOpen: state.isExpanded\n  }) : children));\n};\n\nif (process.env.NODE_ENV !== \"production\") {\n  Menu.displayName = \"Menu\";\n  Menu.propTypes = {\n    children: /*#__PURE__*/PropTypes.oneOfType([PropTypes.func, PropTypes.node])\n  };\n} ////////////////////////////////////////////////////////////////////////////////\n\n/**\r\n * MenuButton\r\n *\r\n * Wraps a DOM `button` that toggles the opening and closing of the dropdown\r\n * menu. Must be rendered inside of a `<Menu>`.\r\n *\r\n * @see Docs https://reacttraining.com/reach-ui/menu-button#menubutton\r\n */\n\n\nvar MenuButton = /*#__PURE__*/forwardRefWithAs(function MenuButton(_ref2, forwardedRef) {\n  var _ref2$as = _ref2.as,\n      Comp = _ref2$as === void 0 ? \"button\" : _ref2$as,\n      onKeyDown = _ref2.onKeyDown,\n      onMouseDown = _ref2.onMouseDown,\n      id = _ref2.id,\n      props = _objectWithoutPropertiesLoose(_ref2, [\"as\", \"onKeyDown\", \"onMouseDown\", \"id\"]);\n\n  var _useContext = useContext(MenuContext),\n      buttonRef = _useContext.buttonRef,\n      buttonClickedRef = _useContext.buttonClickedRef,\n      menuId = _useContext.menuId,\n      _useContext$state = _useContext.state,\n      buttonId = _useContext$state.buttonId,\n      isExpanded = _useContext$state.isExpanded,\n      dispatch = _useContext.dispatch;\n\n  var ref = useForkedRef(buttonRef, forwardedRef);\n  useEffect(function () {\n    var newButtonId = id != null ? id : menuId ? makeId(\"menu-button\", menuId) : \"menu-button\";\n\n    if (buttonId !== newButtonId) {\n      dispatch({\n        type: SET_BUTTON_ID,\n        payload: newButtonId\n      });\n    }\n  }, [buttonId, dispatch, id, menuId]);\n\n  function handleKeyDown(event) {\n    switch (event.key) {\n      case \"ArrowDown\":\n      case \"ArrowUp\":\n        event.preventDefault(); // prevent scroll\n\n        dispatch({\n          type: OPEN_MENU_AT_FIRST_ITEM\n        });\n        break;\n\n      case \"Enter\":\n      case \" \":\n        dispatch({\n          type: OPEN_MENU_AT_FIRST_ITEM\n        });\n        break;\n    }\n  }\n\n  function handleMouseDown(event) {\n    if (!isExpanded) {\n      buttonClickedRef.current = true;\n    }\n\n    if (isRightClick(event.nativeEvent)) {\n      return;\n    } else if (isExpanded) {\n      dispatch({\n        type: CLOSE_MENU,\n        payload: {\n          buttonRef: buttonRef\n        }\n      });\n    } else {\n      dispatch({\n        type: OPEN_MENU_CLEARED\n      });\n    }\n  }\n\n  return React.createElement(Comp // When the menu is displayed, the element with role `button` has\n  // `aria-expanded` set to `true`. When the menu is hidden, it is\n  // recommended that `aria-expanded` is not present.\n  // https://www.w3.org/TR/wai-aria-practices-1.2/#menubutton\n  , Object.assign({\n    \"aria-expanded\": isExpanded ? true : undefined,\n    \"aria-haspopup\": true,\n    \"aria-controls\": menuId\n  }, props, {\n    ref: ref,\n    \"data-reach-menu-button\": \"\",\n    id: buttonId || undefined,\n    onKeyDown: wrapEvent(onKeyDown, handleKeyDown),\n    onMouseDown: wrapEvent(onMouseDown, handleMouseDown),\n    type: \"button\"\n  }));\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  MenuButton.displayName = \"MenuButton\";\n  MenuButton.propTypes = {\n    children: PropTypes.node\n  };\n} ////////////////////////////////////////////////////////////////////////////////\n\n/**\r\n * MenuItemImpl\r\n *\r\n * MenuItem and MenuLink share most of the same functionality captured here.\r\n */\n\n\nvar MenuItemImpl = /*#__PURE__*/forwardRefWithAs(function MenuItemImpl(_ref3, forwardedRef) {\n  var Comp = _ref3.as,\n      indexProp = _ref3.index,\n      _ref3$isLink = _ref3.isLink,\n      isLink = _ref3$isLink === void 0 ? false : _ref3$isLink,\n      onClick = _ref3.onClick,\n      onDragStart = _ref3.onDragStart,\n      onMouseDown = _ref3.onMouseDown,\n      onMouseEnter = _ref3.onMouseEnter,\n      onMouseLeave = _ref3.onMouseLeave,\n      onMouseMove = _ref3.onMouseMove,\n      onMouseUp = _ref3.onMouseUp,\n      onSelect = _ref3.onSelect,\n      valueTextProp = _ref3.valueText,\n      props = _objectWithoutPropertiesLoose(_ref3, [\"as\", \"index\", \"isLink\", \"onClick\", \"onDragStart\", \"onMouseDown\", \"onMouseEnter\", \"onMouseLeave\", \"onMouseMove\", \"onMouseUp\", \"onSelect\", \"valueText\"]);\n\n  var _useContext2 = useContext(MenuContext),\n      buttonRef = _useContext2.buttonRef,\n      dispatch = _useContext2.dispatch,\n      selectCallbacks = _useContext2.selectCallbacks,\n      selectionIndex = _useContext2.state.selectionIndex;\n\n  var ownRef = useRef(null); // After the ref is mounted to the DOM node, we check to see if we have an\n  // explicit valueText prop before looking for the node's textContent for\n  // typeahead functionality.\n\n  var _useState = useState(valueTextProp || \"\"),\n      valueText = _useState[0],\n      setValueText = _useState[1];\n\n  var setValueTextFromDom = useCallback(function (node) {\n    if (node) {\n      ownRef.current = node;\n\n      if (!valueTextProp || node.textContent && valueText !== node.textContent) {\n        setValueText(node.textContent);\n      }\n    }\n  }, [valueText, valueTextProp]);\n  var ref = useForkedRef(forwardedRef, setValueTextFromDom);\n  var mouseEventStarted = useRef(false);\n  var index = useDescendant({\n    element: ownRef.current,\n    key: valueText,\n    isLink: isLink\n  }, MenuDescendantContext, indexProp);\n  var isSelected = index === selectionIndex; // Update the callback ref array on every render\n\n  selectCallbacks.current[index] = onSelect;\n\n  function select() {\n    focus(buttonRef.current);\n    onSelect && onSelect();\n    dispatch({\n      type: CLICK_MENU_ITEM\n    });\n  }\n\n  function handleClick(event) {\n    if (isLink && !isRightClick(event.nativeEvent)) {\n      select();\n    }\n  }\n\n  function handleDragStart(event) {\n    // Because we don't preventDefault on mousedown for links (we need the\n    // native click event), clicking and holding on a link triggers a\n    // dragstart which we don't want.\n    if (isLink) {\n      event.preventDefault();\n    }\n  }\n\n  function handleMouseDown(event) {\n    if (isRightClick(event.nativeEvent)) return;\n\n    if (isLink) {\n      // Signal that the mouse is down so we can react call the right function\n      // if the user is clicking on a link.\n      mouseEventStarted.current = true;\n    } else {\n      event.preventDefault();\n    }\n  }\n\n  function handleMouseEnter(event) {\n    if (!isSelected && index != null) {\n      dispatch({\n        type: SELECT_ITEM_AT_INDEX,\n        payload: {\n          index: index\n        }\n      });\n    }\n  }\n\n  function handleMouseLeave(event) {\n    // Clear out selection when mouse over a non-menu item child.\n    dispatch({\n      type: CLEAR_SELECTION_INDEX\n    });\n  }\n\n  function handleMouseMove(event) {\n    if (!isSelected && index != null) {\n      dispatch({\n        type: SELECT_ITEM_AT_INDEX,\n        payload: {\n          index: index\n        }\n      });\n    }\n  }\n\n  function handleMouseUp(event) {\n    if (isRightClick(event.nativeEvent)) return;\n\n    if (isLink) {\n      // If a mousedown event was initiated on a menu link followed by a\n      // mouseup event on the same link, we do nothing; a click event will\n      // come next and handle selection. Otherwise, we trigger a click event.\n      if (mouseEventStarted.current) {\n        mouseEventStarted.current = false;\n      } else if (ownRef.current) {\n        ownRef.current.click();\n      }\n    } else {\n      select();\n    }\n  } // Any time a mouseup event occurs anywhere in the document, we reset the\n  // mouseEventStarted ref so we can check it again when needed.\n\n\n  useEffect(function () {\n    var ownerDocument = getOwnerDocument(ownRef.current) || document;\n\n    var listener = function listener() {\n      return mouseEventStarted.current = false;\n    };\n\n    ownerDocument.addEventListener(\"mouseup\", listener);\n    return function () {\n      return ownerDocument.removeEventListener(\"mouseup\", listener);\n    };\n  }, []);\n  return React.createElement(Comp, Object.assign({\n    role: \"menuitem\",\n    id: useMenuItemId(index),\n    tabIndex: -1\n  }, props, {\n    ref: ref,\n    \"data-reach-menu-item\": \"\",\n    \"data-selected\": isSelected ? \"\" : undefined,\n    \"data-valuetext\": valueText,\n    onClick: wrapEvent(onClick, handleClick),\n    onDragStart: wrapEvent(onDragStart, handleDragStart),\n    onMouseDown: wrapEvent(onMouseDown, handleMouseDown),\n    onMouseEnter: wrapEvent(onMouseEnter, handleMouseEnter),\n    onMouseLeave: wrapEvent(onMouseLeave, handleMouseLeave),\n    onMouseMove: wrapEvent(onMouseMove, handleMouseMove),\n    onMouseUp: wrapEvent(onMouseUp, handleMouseUp)\n  }));\n}); ////////////////////////////////////////////////////////////////////////////////\n\n/**\r\n * MenuItem\r\n *\r\n * Handles menu selection. Must be a direct child of a `<MenuList>`.\r\n *\r\n * @see Docs https://reacttraining.com/reach-ui/menu-button#menuitem\r\n */\n\nvar MenuItem = /*#__PURE__*/forwardRefWithAs(function MenuItem(_ref4, forwardedRef) {\n  var _ref4$as = _ref4.as,\n      as = _ref4$as === void 0 ? \"div\" : _ref4$as,\n      props = _objectWithoutPropertiesLoose(_ref4, [\"as\"]);\n\n  return React.createElement(MenuItemImpl, Object.assign({}, props, {\n    ref: forwardedRef,\n    as: as\n  }));\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  MenuItem.displayName = \"MenuItem\";\n  MenuItem.propTypes = {\n    as: PropTypes.any,\n    onSelect: PropTypes.func.isRequired\n  };\n} ////////////////////////////////////////////////////////////////////////////////\n\n/**\r\n * MenuItems\r\n *\r\n * A low-level wrapper for menu items. Compose it with `MenuPopover` for more\r\n * control over the nested components and their rendered DOM nodes, or if you\r\n * need to nest arbitrary components between the outer wrapper and your list.\r\n *\r\n * @see Docs https://reacttraining.com/reach-ui/menu-button#menuitems\r\n */\n\n\nvar MenuItems = /*#__PURE__*/forwardRefWithAs(function MenuItems(_ref5, forwardedRef) {\n  var _ref5$as = _ref5.as,\n      Comp = _ref5$as === void 0 ? \"div\" : _ref5$as,\n      children = _ref5.children,\n      id = _ref5.id,\n      onKeyDown = _ref5.onKeyDown,\n      props = _objectWithoutPropertiesLoose(_ref5, [\"as\", \"children\", \"id\", \"onKeyDown\"]);\n\n  var _useContext3 = useContext(MenuContext),\n      menuId = _useContext3.menuId,\n      dispatch = _useContext3.dispatch,\n      buttonRef = _useContext3.buttonRef,\n      menuRef = _useContext3.menuRef,\n      selectCallbacks = _useContext3.selectCallbacks,\n      _useContext3$state = _useContext3.state,\n      isExpanded = _useContext3$state.isExpanded,\n      buttonId = _useContext3$state.buttonId,\n      selectionIndex = _useContext3$state.selectionIndex,\n      typeaheadQuery = _useContext3$state.typeaheadQuery;\n\n  var menuItems = useDescendants(MenuDescendantContext);\n  var ref = useForkedRef(menuRef, forwardedRef);\n  useEffect(function () {\n    // Respond to user char key input with typeahead\n    var match = findItemFromTypeahead(menuItems, typeaheadQuery);\n\n    if (typeaheadQuery && match != null) {\n      dispatch({\n        type: SELECT_ITEM_AT_INDEX,\n        payload: {\n          index: match\n        }\n      });\n    }\n\n    var timeout = window.setTimeout(function () {\n      return typeaheadQuery && dispatch({\n        type: SEARCH_FOR_ITEM,\n        payload: \"\"\n      });\n    }, 1000);\n    return function () {\n      return window.clearTimeout(timeout);\n    };\n  }, [dispatch, menuItems, typeaheadQuery]);\n  var prevMenuItemsLength = usePrevious(menuItems.length);\n  var prevSelected = usePrevious(menuItems[selectionIndex]);\n  var prevSelectionIndex = usePrevious(selectionIndex);\n  useEffect(function () {\n    if (selectionIndex > menuItems.length - 1) {\n      // If for some reason our selection index is larger than our possible\n      // index range (let's say the last item is selected and the list\n      // dynamically updates), we need to select the last item in the list.\n      dispatch({\n        type: SELECT_ITEM_AT_INDEX,\n        payload: {\n          index: menuItems.length - 1\n        }\n      });\n    } else if ( // Checks if\n    //  - menu length has changed\n    //  - selection index has not changed BUT selected item has changed\n    //\n    // This prevents any dynamic adding/removing of menu items from actually\n    // changing a user's expected selection.\n    prevMenuItemsLength !== menuItems.length && selectionIndex > -1 && prevSelected && prevSelectionIndex === selectionIndex && menuItems[selectionIndex] !== prevSelected) {\n      dispatch({\n        type: SELECT_ITEM_AT_INDEX,\n        payload: {\n          index: menuItems.findIndex(function (i) {\n            return i.key === prevSelected.key;\n          })\n        }\n      });\n    }\n  }, [dispatch, menuItems, prevMenuItemsLength, prevSelected, prevSelectionIndex, selectionIndex]);\n  var handleKeyDown = wrapEvent(function handleKeyDown(event) {\n    var key = event.key;\n\n    if (!isExpanded) {\n      return;\n    }\n\n    switch (key) {\n      case \"Enter\":\n      case \" \":\n        var selected = menuItems.find(function (item) {\n          return item.index === selectionIndex;\n        }); // For links, the Enter key will trigger a click by default, but for\n        // consistent behavior across menu items we'll trigger a click when\n        // the spacebar is pressed.\n\n        if (selected) {\n          if (selected.isLink && selected.element) {\n            selected.element.click();\n          } else {\n            event.preventDefault(); // Focus the button first by default when an item is selected.\n            // We fire the onSelect callback next so the app can manage\n            // focus if needed.\n\n            focus(buttonRef.current);\n            selectCallbacks.current[selected.index] && selectCallbacks.current[selected.index]();\n            dispatch({\n              type: CLICK_MENU_ITEM\n            });\n          }\n        }\n\n        break;\n\n      case \"Escape\":\n        focus(buttonRef.current);\n        dispatch({\n          type: CLOSE_MENU,\n          payload: {\n            buttonRef: buttonRef\n          }\n        });\n        break;\n\n      case \"Tab\":\n        // prevent leaving\n        event.preventDefault();\n        break;\n\n      default:\n        // Check if a user is typing some char keys and respond by setting\n        // the query state.\n        if (isString(key) && key.length === 1) {\n          var query = typeaheadQuery + key.toLowerCase();\n          dispatch({\n            type: SEARCH_FOR_ITEM,\n            payload: query\n          });\n        }\n\n        break;\n    }\n  }, useDescendantKeyDown(MenuDescendantContext, {\n    currentIndex: selectionIndex,\n    orientation: \"vertical\",\n    rotate: false,\n    callback: function callback(index) {\n      dispatch({\n        type: SELECT_ITEM_AT_INDEX,\n        payload: {\n          index: index\n        }\n      });\n    },\n    key: \"index\"\n  }));\n  return (// TODO: Should probably file a but in jsx-a11y, but this is correct\n    // according to https://www.w3.org/TR/wai-aria-practices-1.2/examples/menu-button/menu-button-actions-active-descendant.html\n    // eslint-disable-next-line jsx-a11y/aria-activedescendant-has-tabindex\n    React.createElement(Comp // Refers to the descendant menuitem element that is visually indicated\n    // as focused.\n    // https://www.w3.org/TR/wai-aria-practices-1.2/examples/menu-button/menu-button-actions-active-descendant.html\n    , Object.assign({\n      \"aria-activedescendant\": useMenuItemId(selectionIndex) || undefined,\n      \"aria-labelledby\": buttonId || undefined,\n      // The element that contains the menu items displayed by activating the\n      // button has role menu.\n      // https://www.w3.org/TR/wai-aria-practices-1.2/#menubutton\n      role: \"menu\",\n      tabIndex: -1\n    }, props, {\n      ref: ref,\n      \"data-reach-menu-items\": \"\",\n      id: menuId,\n      onKeyDown: wrapEvent(onKeyDown, handleKeyDown)\n    }), children)\n  );\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  MenuItems.displayName = \"MenuItems\";\n  MenuItems.propTypes = {\n    children: PropTypes.node\n  };\n} ////////////////////////////////////////////////////////////////////////////////\n\n/**\r\n * MenuLink\r\n *\r\n * Handles linking to a different page in the menu. By default it renders `<a>`,\r\n * but also accepts any other kind of Link as long as the `Link` uses the\r\n * `React.forwardRef` API.\r\n *\r\n * Must be a direct child of a `<MenuList>`.\r\n *\r\n * @see Docs https://reacttraining.com/reach-ui/menu-button#menulink\r\n */\n\n\nvar MenuLink = /*#__PURE__*/forwardRefWithAs(function MenuLink(_ref6, forwardedRef) {\n  var _ref6$as = _ref6.as,\n      as = _ref6$as === void 0 ? \"a\" : _ref6$as,\n      component = _ref6.component,\n      onSelect = _ref6.onSelect,\n      props = _objectWithoutPropertiesLoose(_ref6, [\"as\", \"component\", \"onSelect\"]);\n\n  if (component) {\n    console.warn(\"[@reach/menu-button]: Please use the `as` prop instead of `component`.\");\n  }\n\n  return React.createElement(\"div\", {\n    role: \"none\",\n    tabIndex: -1\n  }, React.createElement(MenuItemImpl, Object.assign({}, props, {\n    ref: forwardedRef,\n    \"data-reach-menu-link\": \"\",\n    as: as,\n    isLink: true,\n    onSelect: onSelect || noop\n  })));\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  MenuLink.displayName = \"MenuLink\";\n  MenuLink.propTypes = {\n    as: PropTypes.any,\n    component: PropTypes.any\n  };\n} ////////////////////////////////////////////////////////////////////////////////\n\n/**\r\n * MenuList\r\n *\r\n * Wraps a DOM element that renders the menu items. Must be rendered inside of\r\n * a `<Menu>`.\r\n *\r\n * @see Docs https://reacttraining.com/reach-ui/menu-button#menulist\r\n */\n\n\nvar MenuList = /*#__PURE__*/forwardRef(function MenuList(_ref7, forwardedRef) {\n  var _ref7$portal = _ref7.portal,\n      portal = _ref7$portal === void 0 ? true : _ref7$portal,\n      props = _objectWithoutPropertiesLoose(_ref7, [\"portal\"]);\n\n  return React.createElement(MenuPopover, {\n    portal: portal\n  }, React.createElement(MenuItems, Object.assign({}, props, {\n    ref: forwardedRef,\n    \"data-reach-menu-list\": \"\"\n  })));\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  MenuList.displayName = \"MenuList\";\n  MenuList.propTypes = {\n    children: PropTypes.node.isRequired\n  };\n} ////////////////////////////////////////////////////////////////////////////////\n\n/**\r\n * MenuPopover\r\n *\r\n * A low-level wrapper for the popover that appears when a menu button is open.\r\n * You can compose it with `MenuItems` for more control over the nested\r\n * components and their rendered DOM nodes, or if you need to nest arbitrary\r\n * components between the outer wrapper and your list.\r\n *\r\n * @see Docs https://reacttraining.com/reach-ui/menu-button#menupopover\r\n */\n\n\nvar MenuPopover = /*#__PURE__*/forwardRef(function MenuPopover(_ref8, forwardedRef) {\n  var children = _ref8.children,\n      _ref8$portal = _ref8.portal,\n      portal = _ref8$portal === void 0 ? true : _ref8$portal,\n      position = _ref8.position,\n      props = _objectWithoutPropertiesLoose(_ref8, [\"children\", \"portal\", \"position\"]);\n\n  var _useContext4 = useContext(MenuContext),\n      buttonRef = _useContext4.buttonRef,\n      buttonClickedRef = _useContext4.buttonClickedRef,\n      dispatch = _useContext4.dispatch,\n      menuRef = _useContext4.menuRef,\n      popoverRef = _useContext4.popoverRef,\n      isExpanded = _useContext4.state.isExpanded;\n\n  var ref = useForkedRef(popoverRef, forwardedRef);\n  useEffect(function () {\n    function listener(event) {\n      if (buttonClickedRef.current) {\n        buttonClickedRef.current = false;\n      } else {\n        var relatedTarget = event.relatedTarget,\n            target = event.target; // We on want to close only if focus rests outside the menu\n\n        if (isExpanded && popoverRef.current) {\n          var _popoverRef$current;\n\n          if (!((_popoverRef$current = popoverRef.current) === null || _popoverRef$current === void 0 ? void 0 : _popoverRef$current.contains(relatedTarget || target))) {\n            dispatch({\n              type: CLOSE_MENU,\n              payload: {\n                buttonRef: buttonRef\n              }\n            });\n          }\n        }\n      }\n    }\n\n    window.addEventListener(\"mousedown\", listener);\n    return function () {\n      window.removeEventListener(\"mousedown\", listener);\n    };\n  }, [buttonClickedRef, buttonRef, dispatch, isExpanded, menuRef, popoverRef]);\n\n  var commonProps = _extends({\n    ref: ref,\n    // TODO: remove in 1.0\n    \"data-reach-menu\": \"\",\n    \"data-reach-menu-popover\": \"\",\n    hidden: !isExpanded,\n    children: children\n  }, props);\n\n  return portal ? React.createElement(Popover, Object.assign({}, commonProps, {\n    targetRef: buttonRef,\n    position: position\n  })) : React.createElement(\"div\", Object.assign({}, commonProps));\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  MenuPopover.displayName = \"MenuPopover\";\n  MenuPopover.propTypes = {\n    children: PropTypes.node\n  };\n} ////////////////////////////////////////////////////////////////////////////////\n\n/**\r\n * A hook that exposes data for a given `Menu` component to its descendants.\r\n *\r\n * @see Docs https://reacttraining.com/reach-ui/menu-button#usemenubuttoncontext\r\n */\n\n\nfunction useMenuButtonContext() {\n  var _useContext5 = useContext(MenuContext),\n      isExpanded = _useContext5.state.isExpanded;\n\n  return useMemo(function () {\n    return {\n      isExpanded: isExpanded\n    };\n  }, [isExpanded]);\n} ////////////////////////////////////////////////////////////////////////////////\n\n/**\r\n * When a user's typed input matches the string displayed in a menu item, it is\r\n * expected that the matching menu item is selected. This is our matching\r\n * function.\r\n */\n\nfunction findItemFromTypeahead(items, string) {\n  if (string === void 0) {\n    string = \"\";\n  }\n\n  if (!string) {\n    return null;\n  }\n\n  var found = items.find(function (_ref9) {\n    var _element$dataset, _element$dataset$valu;\n\n    var element = _ref9.element;\n    return element === null || element === void 0 ? void 0 : (_element$dataset = element.dataset) === null || _element$dataset === void 0 ? void 0 : (_element$dataset$valu = _element$dataset.valuetext) === null || _element$dataset$valu === void 0 ? void 0 : _element$dataset$valu.toLowerCase().startsWith(string);\n  });\n  return found ? items.indexOf(found) : null;\n}\n\nfunction useMenuItemId(index) {\n  var _useContext6 = useContext(MenuContext),\n      menuId = _useContext6.menuId;\n\n  return index != null && index > -1 ? makeId(\"option-\" + index, menuId) : undefined;\n}\n\nfunction isRightClick(nativeEvent) {\n  return nativeEvent.which === 3 || nativeEvent.button === 2;\n}\n\nfunction focus(element) {\n  element && element.focus();\n}\n\nfunction reducer(state, action) {\n  if (action === void 0) {\n    action = {};\n  }\n\n  switch (action.type) {\n    case CLICK_MENU_ITEM:\n      return _extends(_extends({}, state), {}, {\n        isExpanded: false,\n        selectionIndex: -1\n      });\n\n    case CLOSE_MENU:\n      return _extends(_extends({}, state), {}, {\n        isExpanded: false,\n        selectionIndex: -1\n      });\n\n    case OPEN_MENU_AT_FIRST_ITEM:\n      return _extends(_extends({}, state), {}, {\n        isExpanded: true,\n        selectionIndex: 0\n      });\n\n    case OPEN_MENU_CLEARED:\n      return _extends(_extends({}, state), {}, {\n        isExpanded: true,\n        selectionIndex: -1\n      });\n\n    case SELECT_ITEM_AT_INDEX:\n      if (action.payload.index >= 0) {\n        return _extends(_extends({}, state), {}, {\n          selectionIndex: action.payload.max != null ? Math.min(Math.max(action.payload.index, 0), action.payload.max) : Math.max(action.payload.index, 0)\n        });\n      }\n\n      return state;\n\n    case CLEAR_SELECTION_INDEX:\n      return _extends(_extends({}, state), {}, {\n        selectionIndex: -1\n      });\n\n    case SET_BUTTON_ID:\n      return _extends(_extends({}, state), {}, {\n        buttonId: action.payload\n      });\n\n    case SEARCH_FOR_ITEM:\n      if (typeof action.payload !== \"undefined\") {\n        return _extends(_extends({}, state), {}, {\n          typeaheadQuery: action.payload\n        });\n      }\n\n      return state;\n\n    default:\n      return state;\n  }\n}\n\nexport { Menu, MenuButton, MenuItem, MenuItems, MenuLink, MenuList, MenuPopover, useMenuButtonContext };\n//# sourceMappingURL=menu-button.esm.js.map\n"],"names":["React","PropTypes"],"mappings":"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"}