{"version":3,"file":"alert.esm.esm.js","sources":["../../../../../node_modules/@reach/alert/dist/alert.esm.js"],"sourcesContent":["import React, { forwardRef, useRef, useMemo, useEffect } from 'react';\nimport { render } from 'react-dom';\nimport VisuallyHidden from '@reach/visually-hidden';\nimport { useForkedRef, usePrevious, getOwnerDocument } from '@reach/utils';\nimport PropTypes from 'prop-types';\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\n/*\r\n * Singleton state is fine because you don't server render\r\n * an alert (SRs don't read them on first load anyway)\r\n */\n\nvar keys = {\n  polite: -1,\n  assertive: -1\n};\nvar elements = {\n  polite: {},\n  assertive: {}\n};\nvar liveRegions = {\n  polite: null,\n  assertive: null\n};\nvar renderTimer; ////////////////////////////////////////////////////////////////////////////////\n\n/**\r\n * Alert\r\n *\r\n * Screen-reader-friendly alert messages. In many apps developers add \"alert\"\r\n * messages when network events or other things happen. Users with assistive\r\n * technologies may not know about the message unless you develop for it.\r\n *\r\n * @see Docs https://reacttraining.com/reach-ui/alert\r\n */\n\nvar Alert = /*#__PURE__*/forwardRef(function Alert(_ref, forwardedRef) {\n  var children = _ref.children,\n      _ref$type = _ref.type,\n      type = _ref$type === void 0 ? \"polite\" : _ref$type,\n      props = _objectWithoutPropertiesLoose(_ref, [\"children\", \"type\"]);\n\n  var ownRef = useRef(null);\n  var ref = useForkedRef(forwardedRef, ownRef);\n  var child = useMemo(function () {\n    return React.createElement(\"div\", Object.assign({}, props, {\n      ref: ref,\n      \"data-reach-alert\": true\n    }), children);\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [children, props]);\n  useMirrorEffects(type, child, ownRef);\n  return child;\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  Alert.displayName = \"Alert\";\n  Alert.propTypes = {\n    children: PropTypes.node,\n    type: /*#__PURE__*/PropTypes.oneOf([\"assertive\", \"polite\"])\n  };\n}\n\nfunction createMirror(type, doc) {\n  var key = ++keys[type];\n\n  var mount = function mount(element) {\n    if (liveRegions[type]) {\n      elements[type][key] = element;\n      renderAlerts();\n    } else {\n      var node = doc.createElement(\"div\");\n      node.setAttribute(\"data-reach-live-\" + type, \"true\");\n      liveRegions[type] = node;\n      doc.body.appendChild(liveRegions[type]);\n      mount(element);\n    }\n  };\n\n  var update = function update(element) {\n    elements[type][key] = element;\n    renderAlerts();\n  };\n\n  var unmount = function unmount() {\n    delete elements[type][key];\n    renderAlerts();\n  };\n\n  return {\n    mount: mount,\n    update: update,\n    unmount: unmount\n  };\n}\n\nfunction renderAlerts() {\n  if (renderTimer != null) {\n    window.clearTimeout(renderTimer);\n  }\n\n  renderTimer = window.setTimeout(function () {\n    Object.keys(elements).forEach(function (elementType) {\n      var type = elementType;\n      var container = liveRegions[type];\n\n      if (container) {\n        render(React.createElement(VisuallyHidden, null, React.createElement(\"div\", {\n          // The status role is a type of live region and a container whose\n          // content is advisory information for the user that is not\n          // important enough to justify an alert, and is often presented as\n          // a status bar. When the role is added to an element, the browser\n          // will send out an accessible status event to assistive\n          // technology products which can then notify the user about it.\n          // https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/ARIA_Techniques/Using_the_status_role\n          role: type === \"assertive\" ? \"alert\" : \"status\",\n          \"aria-live\": type\n        }, Object.keys(elements[type]).map(function (key) {\n          return React.cloneElement(elements[type][key], {\n            key: key,\n            ref: null\n          });\n        }))), liveRegions[type]);\n      }\n    });\n  }, 500);\n}\n\nfunction useMirrorEffects(type, element, ref) {\n  var prevType = usePrevious(type);\n  var mirror = useRef(null);\n  var mounted = useRef(false);\n  useEffect(function () {\n    var ownerDocument = getOwnerDocument(ref.current) || document;\n\n    if (!mounted.current) {\n      mounted.current = true;\n      mirror.current = createMirror(type, ownerDocument);\n      mirror.current.mount(element);\n    } else if (prevType !== type) {\n      mirror.current && mirror.current.unmount();\n      mirror.current = createMirror(type, ownerDocument);\n      mirror.current.mount(element);\n    } else {\n      mirror.current && mirror.current.update(element);\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [element, type, prevType]);\n  useEffect(function () {\n    return function () {\n      mirror.current && mirror.current.unmount();\n    };\n  }, []);\n}\n\nexport default Alert;\nexport { Alert };\n//# sourceMappingURL=alert.esm.js.map\n"],"names":["React","PropTypes"],"mappings":"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"}