{"version":3,"file":"rect.esm.esm.js","sources":["../../../../../node_modules/@reach/rect/dist/rect.esm.js"],"sourcesContent":["import { useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport observeRect from '@reach/observe-rect';\nimport { useIsomorphicLayoutEffect } from '@reach/utils';\n\n/**\r\n * Welcome to @reach/rect!\r\n *\r\n * Measures DOM elements (aka. bounding client rect).\r\n *\r\n * @see getBoundingClientRect https://developer.mozilla.org/en-US/docs/Web/API/Element/getBoundingClientRect\r\n * @see Docs                  https://reacttraining.com/reach-ui/rect\r\n * @see Source                https://github.com/reach/reach-ui/tree/master/packages/rect\r\n */\n\n/**\r\n * Rect\r\n *\r\n * @param props\r\n */\n\nvar Rect = function Rect(_ref) {\n  var onChange = _ref.onChange,\n      _ref$observe = _ref.observe,\n      observe = _ref$observe === void 0 ? true : _ref$observe,\n      children = _ref.children;\n  var ref = useRef(null);\n  var rect = useRect(ref, observe, onChange);\n  return children({\n    ref: ref,\n    rect: rect\n  });\n};\n\nif (process.env.NODE_ENV !== \"production\") {\n  Rect.displayName = \"Rect\";\n  Rect.propTypes = {\n    children: PropTypes.func.isRequired,\n    observe: PropTypes.bool,\n    onChange: PropTypes.func\n  };\n} ////////////////////////////////////////////////////////////////////////////////\n\n/**\r\n * useRect\r\n *\r\n * @param nodeRef\r\n * @param observe\r\n * @param onChange\r\n */\n\n\nfunction useRect(nodeRef, observe, onChange) {\n  if (observe === void 0) {\n    observe = true;\n  }\n\n  var initialRectSet = useRef(false);\n\n  var _useState = useState(null),\n      rect = _useState[0],\n      setRect = _useState[1];\n\n  var observerRef = useRef(null);\n  useIsomorphicLayoutEffect(function () {\n    var cleanup = function cleanup() {\n      observerRef.current && observerRef.current.unobserve();\n    };\n\n    if (!nodeRef.current) {\n      console.warn(\"You need to place the ref\");\n      return cleanup;\n    }\n\n    if (!observerRef.current) {\n      observerRef.current = observeRect(nodeRef.current, function (rect) {\n        onChange && onChange(rect);\n        setRect(rect);\n      });\n    }\n\n    if (!initialRectSet.current) {\n      initialRectSet.current = true;\n      setRect(nodeRef.current.getBoundingClientRect());\n    }\n\n    observe && observerRef.current.observe();\n    return cleanup; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [observe, onChange]);\n  return rect;\n}\n\nexport default Rect;\nexport { Rect, useRect };\n//# sourceMappingURL=rect.esm.js.map\n"],"names":["PropTypes"],"mappings":"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"}