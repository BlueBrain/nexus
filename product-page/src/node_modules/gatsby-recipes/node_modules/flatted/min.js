self.Flatted=function(n){"use strict";function s(n,t){return t}function c(n){return n instanceof y?y(n):n}function f(n,t){return typeof t==v?new y(t):t}function l(n,t,r){var e=y(t.push(r)-1);return n.set(r,e),e}var a=JSON.parse,p=JSON.stringify,o=Object.keys,y=String,v="string",d="object";return n.parse=function(n,t){var r=a(n,f).map(c),e=r[0],u=t||s,i=typeof e==d&&e?function u(i,c,n,f){return o(n).reduce(function(n,t){var r,e=n[t];return e instanceof y?typeof(r=i[e])!=d||c.has(r)?n[t]=f.call(n,t,r):(c.add(r),n[t]=f.call(n,t,u(i,c,r,f))):n[t]=f.call(n,t,e),n},n)}(r,new Set,e,u):e;return u.call({"":i},"",i)},n.stringify=function(n,r,t){for(var e=r&&typeof r==d?function(n,t){return""===n||-1<r.indexOf(n)?t:void 0}:r||s,u=new Map,i=[],c=[],f=+l(u,i,e.call({"":n},"",n)),a=!f;f<i.length;)a=!0,c[f]=p(i[f++],o,t);return"["+c.join(",")+"]";function o(n,t){if(a)return a=!a,t;var r=e.call(this,n,t);switch(typeof r){case d:if(null===r)return r;case v:return u.get(r)||l(u,i,r)}return r}},n}({});