.PHONY: build test clean

install:
	@echo "Installing project's dependencies... ğŸš€"
	@docker-compose run --rm nexus-product-page install

start:
	@echo "Launching dev mode ğŸ„"
	@docker-compose run --rm --service-port nexus-product-page start

build:
	$(MAKE) clean
	@echo "Building project... ğŸ‘·"
	@docker-compose run --rm nexus-product-page
	@echo "Copying index.html to paradox root folder... ğŸ“‹"
	@mv ../paradox/public/index.html ../paradox/index.html
	@rm -rf public
	$(MAKE) open

open:
	@echo "Opening output html in your browser... ğŸ–"
	@open ../paradox/index.html

test:
	@echo "Running tests... ğŸ§ª"
	@docker-compose run --rm nexus-product-page test

lint:
	@echo "Linting... âœ¨"
	@docker-compose run --rm nexus-product-page run lint

clean:
	@echo "Cleaning old output... ğŸ§¼"
	@rm -rf ../paradox/public