<!DOCTYPE html>
<html lang="en" class="no-js">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="description" content="docs">
<meta name="generator" content="Paradox, paradox-material-theme=0.5.1, mkdocs-material=3.0.3">

<meta name="lang:clipboard.copy" content="Copy to clipboard">
<meta name="lang:clipboard.copied" content="Copied to clipboard">
<meta name="lang:search.language" content="">
<meta name="lang:search.pipeline.stopwords" content="true">
<meta name="lang:search.pipeline.trimmer" content="true">
<meta name="lang:search.result.none" content="No matching documents">
<meta name="lang:search.result.one" content="1 matching document">
<meta name="lang:search.result.other" content="# matching documents">
<meta name="lang:search.tokenizer" content="[\s\-]+">


<meta name="description" content="docs">
<link rel="shortcut icon" href="../../.././assets/img/favicon-32x32.png">
<title>Plugins · Blue Brain Nexus</title>
<link rel="stylesheet" href="../../../assets/stylesheets/application.451f80e5.css">
<link rel="stylesheet" href="../../../assets/stylesheets/application-palette.22915126.css">
<meta name="theme-color" content="#03a9f4" />
<link rel="stylesheet" href="../../../lib/material__tabs/dist/mdc.tabs.min.css">
<link rel="stylesheet" href="../../../lib/prettify/prettify.css">
<script src="../../../assets/javascripts/modernizr.1aa3b519.js"></script>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
<style>
body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}
code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}
</style>
<link rel="stylesheet" href="../../../assets/fonts/font-awesome.css">
<link rel="stylesheet" href="../../../assets/fonts/material-icons.css">
<link rel="stylesheet" href="../../../assets/stylesheets/paradox-material-theme.css">
<link rel="stylesheet" href="../../.././assets/css/docs.css">
</head>
<body
data-md-color-primary="light-blue"
data-md-color-accent="cyan"
>
<input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
<input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
<label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
<header class="md-header" data-md-component="header">
<nav class="md-header-nav md-grid">
<div class="md-flex">
<div class="md-flex__cell md-flex__cell--shrink">
<a href="../../../docs/index.html" title="Blue Brain Nexus" class="md-header-nav__button md-logo">
<img src="../../.././assets/img/logo.png" width="24" height="24">
</a>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
</div>
<div class="md-flex__cell md-flex__cell--stretch">
<div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
<span class="md-header-nav__topic">
Blue Brain Nexus
</span>
<span class="md-header-nav__topic">
Plugins
</span>
</div>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
<label class="md-icon md-search__icon" for="__search"></label>
<button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">&#xE5CD;</button>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix>
<div class="md-search-result" data-md-component="result">
<div class="md-search-result__meta">
Type to start searching
</div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>

</div>
<div class="md-flex__cell md-flex__cell--shrink">
<div class="md-header-nav__source">
<a href="https://github.com/BlueBrain/nexus"
title="Go to repository"
class="md-source"
data-md-source="github">
<div class="md-source__icon">
<i class="fa fa-github"></i>
</div>
<div class="md-source__repository">
BlueBrain/nexus
</div>
</a>

</div>
</div>
</div>
</nav>
</header>

<div class="md-container">
<main class="md-main">
<div class="md-main__inner md-grid" data-md-component="container">
<div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav class="md-nav md-nav--primary" data-md-level="0" style="visibility: hidden">
<label class="md-nav__title md-nav__title--site" for="drawer">
<a href="../../../docs/index.html" title="Blue Brain Nexus" class="md-nav__button md-logo">
<span class="md-nav__button md-logo">
<img src="../../.././assets/img/logo.png" width="24" height="24">
</a>
<a href="../../../docs/index.html" title="Blue Brain Nexus">
Blue Brain Nexus
</a>
</label>
<div class="md-nav__source">
<a href="https://github.com/BlueBrain/nexus"
title="Go to repository"
class="md-source"
data-md-source="github">
<div class="md-source__icon">
<i class="fa fa-github"></i>
</div>
<div class="md-source__repository">
BlueBrain/nexus
</div>
</a>

</div>
<ul>
  <li><a href="../../../docs/getting-started/index.html" class="page">Getting Started</a>
  <ul>
    <li><a href="../../../docs/getting-started/understanding-knowledge-graphs.html" class="page">Understanding Knowledge Graphs</a></li>
    <li><a href="../../../docs/getting-started/try-nexus.html" class="page">Try Nexus</a></li>
    <li><a href="../../../docs/getting-started/running-nexus/index.html" class="page">Running Nexus</a>
    <ul>
      <li><a href="../../../docs/getting-started/running-nexus/configuration/index.html" class="page">Nexus configuration</a></li>
    </ul></li>
  </ul></li>
  <li><a href="../../../docs/releases/index.html" class="page">Releases</a>
  <ul>
    <li><a href="../../../docs/releases/v1.5-release-notes.html" class="page">v1.5 Release Notes</a></li>
    <li><a href="../../../docs/releases/v1.4-to-v1.5-migration.html" class="page">v1.4 To v1.5 Migration</a></li>
    <li><a href="../../../docs/releases/v1.4-release-notes.html" class="page">v1.4 Release Notes</a></li>
    <li><a href="../../../docs/releases/v1.3-to-v1.4-migration.html" class="page">v1.3 To v1.4 Migration</a></li>
    <li><a href="../../../docs/releases/v1.3-release-notes.html" class="page">v1.3 Release Notes</a></li>
    <li><a href="../../../docs/releases/v1.2-to-v1.3-migration.html" class="page">v1.2 To v1.3 Migration</a></li>
    <li><a href="../../../docs/releases/v1.2-release-notes.html" class="page">v1.2 Release Notes</a></li>
    <li><a href="../../../docs/releases/v1.1-release-notes.html" class="page">v1.1 Release Notes</a></li>
    <li><a href="../../../docs/releases/v1.0-to-v1.1-migration.html" class="page">v1.0 To v1.1 Migration</a></li>
    <li><a href="../../../docs/releases/v1.0-release-notes.html" class="page">v1.0 Release Notes</a></li>
  </ul></li>
  <li><a href="../../../docs/roadmap.html" class="page">Roadmap</a></li>
  <li><a href="../../../docs/fusion/index.html" class="page">Nexus Fusion</a>
  <ul>
    <li><a href="../../../docs/fusion/architecture.html" class="page">Architecture</a></li>
    <li><a href="../../../docs/fusion/plugins.html" class="page">Plugins</a></li>
    <li><a href="../../../docs/fusion/studio.html" class="page">Studios</a></li>
    <li><a href="../../../docs/fusion/search.html" class="page">Search</a></li>
    <li><a href="../../../docs/fusion/admin.html" class="page">Admin</a></li>
    <li><a href="../../../docs/fusion/workflow.html" class="page">Workflow (alpha)</a></li>
    <li><a href="../../../docs/fusion/add-your-own-app.html" class="page">Add your own App</a></li>
  </ul></li>
  <li><a href="../../../docs/forge.html" class="page">Nexus Forge</a></li>
  <li><a href="../../../docs/delta/index.html" class="page">Nexus Delta</a>
  <ul>
    <li><a href="../../../docs/delta/architecture.html" class="page">Architecture</a></li>
    <li><a href="../../../docs/delta/api/current/index.html" class="page">API Reference</a>
    <ul>
      <li><a href="../../../docs/delta/api/current/content-negotiation.html" class="page">Content Negotiation</a></li>
      <li><a href="../../../docs/delta/api/current/error-signaling.html" class="page">Error Signaling</a></li>
      <li><a href="../../../docs/delta/api/current/version.html" class="page">Version endpoint</a></li>
      <li><a href="../../../docs/delta/api/current/authentication.html" class="page">Authentication &amp; Authorization</a></li>
      <li><a href="../../../docs/delta/api/current/iam-identities.html" class="page">Identities</a></li>
      <li><a href="../../../docs/delta/api/current/iam-permissions-api.html" class="page">Permissions</a></li>
      <li><a href="../../../docs/delta/api/current/iam-realms-api.html" class="page">Realms</a></li>
      <li><a href="../../../docs/delta/api/current/iam-acls-api.html" class="page">Access Control Lists</a></li>
      <li><a href="../../../docs/delta/api/current/admin-orgs-api.html" class="page">Organizations</a></li>
      <li><a href="../../../docs/delta/api/current/admin-projects-api.html" class="page">Projects</a></li>
      <li><a href="../../../docs/delta/api/current/kg-schemas-api.html" class="page">Schemas</a></li>
      <li><a href="../../../docs/delta/api/current/kg-resources-api.html" class="page">Resources</a></li>
      <li><a href="../../../docs/delta/api/current/kg-resolvers-api.html" class="page">Resolvers</a></li>
      <li><a href="../../../docs/delta/api/current/views/index.html" class="page">Views</a>
      <ul>
        <li><a href="../../../docs/delta/api/current/views/elasticsearch-view-api.html" class="page">ElasticSearchView</a></li>
        <li><a href="../../../docs/delta/api/current/views/aggregated-es-view-api.html" class="page">AggregateElasticSearchView</a></li>
        <li><a href="../../../docs/delta/api/current/views/sparql-view-api.html" class="page">SparqlView</a></li>
        <li><a href="../../../docs/delta/api/current/views/aggregated-sparql-view-api.html" class="page">AggregateSparqlView</a></li>
        <li><a href="../../../docs/delta/api/current/views/composite-view-api.html" class="page">CompositeView</a></li>
      </ul></li>
      <li><a href="../../../docs/delta/api/current/kg-storages-api.html" class="page">Storages</a></li>
      <li><a href="../../../docs/delta/api/current/kg-files-api.html" class="page">Files</a></li>
      <li><a href="../../../docs/delta/api/current/kg-archives-api.html" class="page">Archives</a></li>
    </ul></li>
    <li><a href="../../../docs/delta/plugins/index.html" class="active page">Plugins</a></li>
    <li><a href="../../../docs/delta/benchmarks/index.html" class="page">Benchmarks</a>
    <ul>
      <li><a href="../../../docs/delta/benchmarks/v1.4.2.html" class="page">Benchmarks v1.4.2</a></li>
      <li><a href="../../../docs/delta/benchmarks/v1.2.1.html" class="page">Benchmarks v1.2.1</a></li>
    </ul></li>
  </ul></li>
  <li><a href="../../../docs/utilities/index.html" class="page">Utilities</a>
  <ul>
    <li><a href="../../../docs/utilities/projections.html" class="page">Indexing data in other systems</a></li>
    <li><a href="../../../docs/utilities/nexus-python-cli.html" class="page">MovieLens Tutorial using the Nexus Python CLI</a></li>
  </ul></li>
  <li><a href="../../../docs/faq.html" class="page">FAQ</a></li>
</ul>
<nav class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">Table of contents</label>
<ul>
  <li><a href="../../../docs/delta/plugins/index.html#plugins" class="header">Plugins</a>
  <ul>
    <li><a href="../../../docs/delta/plugins/index.html#plugin-development" class="header">Plugin development</a>
    <ul>
      <li><a href="../../../docs/delta/plugins/index.html#delta-sdk" class="header">Delta SDK</a></li>
      <li><a href="../../../docs/delta/plugins/index.html#dependency-injection" class="header">Dependency injection</a></li>
      <li><a href="../../../docs/delta/plugins/index.html#class-loading" class="header">Class loading</a></li>
      <li><a href="../../../docs/delta/plugins/index.html#configuration" class="header">Configuration</a></li>
      <li><a href="../../../docs/delta/plugins/index.html#adding-plugins-to-a-delta-deployment" class="header">Adding plugins to a Delta deployment</a></li>
      <li><a href="../../../docs/delta/plugins/index.html#enabling-disabling-plugins" class="header">Enabling/disabling plugins</a></li>
    </ul></li>
    <li><a href="../../../docs/delta/plugins/index.html#existing-plugins" class="header">Existing plugins</a></li>
  </ul></li>
</ul>
</nav>

</nav>
<ul style="display: none">
<li class="md-nav__item md-version" id="project.version">
<label class="md-nav__link" for="__version">
<i class="md-icon" title="Version">label_outline</i> 0.0.0+1-cc462b3e*
</label>
</li>
</ul>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">Table of contents</label>
<ul>
  <li><a href="../../../docs/delta/plugins/index.html#plugins" class="header">Plugins</a>
  <ul>
    <li><a href="../../../docs/delta/plugins/index.html#plugin-development" class="header">Plugin development</a>
    <ul>
      <li><a href="../../../docs/delta/plugins/index.html#delta-sdk" class="header">Delta SDK</a></li>
      <li><a href="../../../docs/delta/plugins/index.html#dependency-injection" class="header">Dependency injection</a></li>
      <li><a href="../../../docs/delta/plugins/index.html#class-loading" class="header">Class loading</a></li>
      <li><a href="../../../docs/delta/plugins/index.html#configuration" class="header">Configuration</a></li>
      <li><a href="../../../docs/delta/plugins/index.html#adding-plugins-to-a-delta-deployment" class="header">Adding plugins to a Delta deployment</a></li>
      <li><a href="../../../docs/delta/plugins/index.html#enabling-disabling-plugins" class="header">Enabling/disabling plugins</a></li>
    </ul></li>
    <li><a href="../../../docs/delta/plugins/index.html#existing-plugins" class="header">Existing plugins</a></li>
  </ul></li>
</ul>
</nav>

</div>
</div>
</div>
<div class="md-content">
<article class="md-content__inner md-typeset">
<div class="md-content__searchable">
<h1><a href="#plugins" name="plugins" class="anchor"><span class="anchor-link"></span></a>Plugins</h1>
<p>Starting from version 1.5, Delta introduces the ability to extend its functionality using plugins. Plugins enable developers to add new functionality to Nexus Delta without the need to modify Delta itself. Plugins can introduce various new functionalities, including new API endpoints and indexing capabilities. </p><div class="callout note "><div class="callout-title">Note</div>
<p>Plugins are still an experimental feature and Delta SDKs and dependent modules(rdf, sourcing) provide no binary compatibility guarantees.</p></div>
<h2><a href="#plugin-development" name="plugin-development" class="anchor"><span class="anchor-link"></span></a>Plugin development</h2>
<p>Plugins used by Delta need to be packaged as a <code>.jar</code> file containing the plugin code with all its dependencies. Delta loads plugins from <code>.jar</code> files located in a directory specified by <code>DELTA_PLUGINS</code> environment variable.</p>
<p>Plugins must define exactly one class which extends <a href="https://github.com/BlueBrain/nexus/blob/v1.5.0/delta/sdk/src/main/scala/ch/epfl/bluebrain/nexus/delta/sdk/plugin/PluginDef.scala" title="PluginDef" target="_blank" rel="noopener noreferrer">PluginDef</a> trait.</p>
<p>The class must define following methods:</p>
<pre class="prettyprint"><code class="language-scala">def info: PluginDescription
</code></pre>
<p>this method returns instance of <a href="https://github.com/BlueBrain/nexus/blob/v1.5.0/delta/sdk/src/main/scala/ch/epfl/bluebrain/nexus/delta/sdk/model/ComponentDescription.scala#L50" title="PluginDescription" target="_blank" rel="noopener noreferrer">PluginDescription</a> which defines the plugin name and version.</p>
<pre class="prettyprint"><code class="language-scala">def initialize(locator: Locator): Task[Plugin]
</code></pre>
<p>this method can be used to initialize the plugin and returns an instance of a <code>Plugin</code>, which can additionally define logic to stop the plugin gracefully.</p>
<pre class="prettyprint"><code class="language-scala">def module: ModuleDef
</code></pre>
<p>this method must return <code>ModuleDef</code> from <a href="https://izumi.7mind.io/distage/basics.html#quick-start" title="distage library" target="_blank" rel="noopener noreferrer">distage library</a>. This is the only way in which plugins can use dependencies provided by core of Delta and other plugins, as well as provide dependencies which can be used by Delta and other plugins.</p>
<p><strong>Example</strong></p>
<dl>
  <dt>TestPluginRoutes.scala
  </dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/delta/plugins/test-plugin/src/main/scala/ch/epfl/bluebrain/nexus/delta/testplugin/TestPluginRoutes.scala" target="_blank" title="Go to snippet source"></a><code class="language-scala">package ch.epfl.bluebrain.nexus.delta.testplugin

import akka.http.scaladsl.server.Directives._
import akka.http.scaladsl.server.Route
import ch.epfl.bluebrain.nexus.delta.sdk.Permissions
import monix.execution.Scheduler

class TestPluginRoutes(permissions: Permissions)(implicit sc: Scheduler) {
  def routes: Route =
    pathPrefix(&quot;test-plugin&quot;) {
      concat(
        get {
          complete(permissions.fetchPermissionSet.map(ps =&gt; s&quot;${ps.mkString(&quot;,&quot;)}&quot;).runToFuture)
        }
      )
    }
}</code></pre></dd>
</dl>
<dl>
  <dt>TestPluginDef.scala
  </dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/delta/plugins/test-plugin/src/main/scala/ch/epfl/bluebrain/nexus/delta/testplugin/TestPluginDef.scala" target="_blank" title="Go to snippet source"></a><code class="language-scala">package ch.epfl.bluebrain.nexus.delta.testplugin

import ch.epfl.bluebrain.nexus.delta.sdk.model.ComponentDescription.PluginDescription
import ch.epfl.bluebrain.nexus.delta.sdk.model.Name
import ch.epfl.bluebrain.nexus.delta.sdk.plugin.{Plugin, PluginDef}
import ch.epfl.bluebrain.nexus.delta.sdk.{Permissions, PriorityRoute}
import izumi.distage.model.Locator
import izumi.distage.model.definition.ModuleDef
import monix.bio.Task
import monix.execution.Scheduler

case class TestPluginDef() extends PluginDef {

  override def module: ModuleDef =
    new ModuleDef {
      make[TestPlugin]
      make[TestPluginRoutes].from { (permissions: Permissions, scheduler: Scheduler) =&gt;
        implicit val sc = scheduler
        new TestPluginRoutes(permissions)
      }
      many[PriorityRoute].add((routes: TestPluginRoutes) =&gt; PriorityRoute(1, routes.routes))
    }

  override val info: PluginDescription = PluginDescription(Name.unsafe(&quot;testplugin&quot;), &quot;0.1.0&quot;)

  override def initialize(locator: Locator): Task[Plugin] = Task.pure(locator.get[TestPlugin])

}</code></pre></dd>
</dl>
<h3><a href="#delta-sdk" name="delta-sdk" class="anchor"><span class="anchor-link"></span></a>Delta SDK</h3>
<p>The Delta SDK can be included as following dependencies:</p>
<ul>
  <li>SDK - general Delta SDK</li>
  <li>SDK views - SDK with functionality related to views.</li>
</ul>
<p>All the above dependencies should be used in <code>provided</code> scope and must not be bundled in the plugin.</p>
<pre class="prettyprint"><code class="language-sbt">libraryDependencies += &quot;ch.epfl.bluebrain.nexus&quot; %% &quot;delta-sdk&quot; % deltaVersion % Provided
libraryDependencies += &quot;ch.epfl.bluebrain.nexus&quot; %% &quot;delta-sdk-views&quot; % deltaVersion % Provided
</code></pre>
<h3><a href="#dependency-injection" name="dependency-injection" class="anchor"><span class="anchor-link"></span></a>Dependency injection</h3>
<p>Delta uses <a href="https://izumi.7mind.io/distage/basics.html#quick-start" title="distage library" target="_blank" rel="noopener noreferrer">distage library</a> for dependency injection. Each plugin must define <code>ModuleDef</code> to create instances of its own classes. All the dependencies provided by <code>ModuleDef</code>s defined in <a href="https://github.com/BlueBrain/nexus/tree/v1.5.0/delta/app/src/main/scala/ch/epfl/bluebrain/nexus/delta/wiring" title="Delta modules" target="_blank" rel="noopener noreferrer">Delta modules</a>, as well as other plugins can be used here.</p>
<p>The plugin can also define instances of following traits/classes, which will be used in Delta:</p>
<ul>
  <li><a href="https://github.com/BlueBrain/nexus/blob/v1.5.0/delta/sdk/src/main/scala/ch/epfl/bluebrain/nexus/delta/sdk/PriorityRoute.scala" title="PriorityRoute" target="_blank" rel="noopener noreferrer">PriorityRoute</a> - allows the plugin to define <a href="https://doc.akka.io/docs/akka-http/current/routing-dsl/index.html" title="Akka HTTP Route" target="_blank" rel="noopener noreferrer">Akka HTTP Route</a> with priority. The priority is used by Delta to prioritize route evaluation</li>
  <li><a href="https://github.com/BlueBrain/nexus/blob/v1.5.0/delta/sdk/src/main/scala/ch/epfl/bluebrain/nexus/delta/sdk/ScopeInitialization.scala" title="ScopeInitialization" target="_blank" rel="noopener noreferrer">ScopeInitialization</a> - allows the plugin to define hooks which will be run on organization and project creation.</li>
  <li><a href="https://github.com/BlueBrain/nexus/blob/v1.5.0/delta/sdk/src/main/scala/ch/epfl/bluebrain/nexus/delta/sdk/EventExchange.scala" title="EventExchange" target="_blank" rel="noopener noreferrer">EventExchange</a> - enables Delta to exchange plugin events for their different representation. Needs to be defined by the plugin in order for resources created by the plugin to be indexed or available via SSE endpoints.</li>
  <li><a href="https://github.com/BlueBrain/nexus/blob/v1.5.0/delta/sdk/src/main/scala/ch/epfl/bluebrain/nexus/delta/sdk/ReferenceExchange.scala" title="ReferenceExchange" target="_blank" rel="noopener noreferrer">ReferenceExchange</a> - enables Delta to exchange a resource reference for a JSON-LD value allowing Delta to handle multiple resources in a uniform way</li>
  <li><a href="https://github.com/BlueBrain/nexus/blob/v1.5.0/delta/sdk/src/main/scala/ch/epfl/bluebrain/nexus/delta/sdk/model/MetadataContextValue.scala" title="MetadataContextValue" target="_blank" rel="noopener noreferrer">MetadataContextValue</a> - registers metadata context of this plugin into global metadata context</li>
  <li><a href="https://github.com/BlueBrain/nexus/blob/v1.5.0/delta/rdf/src/main/scala/ch/epfl/bluebrain/nexus/delta/rdf/jsonld/context/RemoteContextResolution.scala" title="RemoteContextResolution" target="_blank" rel="noopener noreferrer">RemoteContextResolution</a> - enables Delta to resolve static contexts defined by the plugin</li>
  <li><a href="https://github.com/BlueBrain/nexus/blob/v1.5.0/delta/sdk/src/main/scala/ch/epfl/bluebrain/nexus/delta/sdk/ServiceDependency.scala" title="ServiceDependency" target="_blank" rel="noopener noreferrer">ServiceDependency</a> - allows the plugin to define dependencies which will be displayed in <code>/version</code> endpoint.</li>
  <li><a href="https://github.com/BlueBrain/nexus/blob/v1.5.0/delta/sdk/src/main/scala/ch/epfl/bluebrain/nexus/delta/sdk/model/projects/ApiMappings.scala" title="ApiMappings" target="_blank" rel="noopener noreferrer">ApiMappings</a> - allows the plugin to define default API mappings used to shorten URLs</li>
  <li><a href="https://github.com/BlueBrain/nexus/blob/v1.5.0/delta/sdk/src/main/scala/ch/epfl/bluebrain/nexus/delta/sdk/model/ResourceToSchemaMappings.scala" title="ResourceToSchemaMappings" target="_blank" rel="noopener noreferrer">ResourceToSchemaMappings</a> - allows the plugin to define mapping from the resource type to schema, which can be used to interact with resources created by the plugin through <code>/resources</code> endpoints.</li>
  <li><a href="https://github.com/BlueBrain/nexus/blob/v1.5.0/delta/sdk/src/main/scala/ch/epfl/bluebrain/nexus/delta/sdk/model/EntityType.scala" title="EntityType" target="_blank" rel="noopener noreferrer">EntityType</a> - allows plugin to define its entity type in order to create Akka Persistence <code>persistence_id</code>s.</li>
</ul>
<h3><a href="#class-loading" name="class-loading" class="anchor"><span class="anchor-link"></span></a>Class loading</h3>
<p>In order to avoid clashes between different plugins, Delta uses custom classloader to load plugin classes, which will load classes from the plugin first, then using application classloader and other plugins after that. It is therefore recommended to not include in the plugin jar any dependencies which are also provided by SDK. Libraries can be easily excluded from dependencies in <code>sbt</code>:</p>
<pre class="prettyprint"><code class="language-sbt">libraryDependencies       ++= Seq(
  &quot;com.lightbend.akka&quot; %% &quot;akka-stream-alpakka-sse&quot; % alpakkaVersion excludeAll (
        ExclusionRule(organization = &quot;com.typesafe.akka&quot;, name = &quot;akka-stream_2.13&quot;),
        ExclusionRule(organization = &quot;com.typesafe.akka&quot;, name = &quot;akka-http_2.13&quot;)
      )
</code></pre>
<h3><a href="#configuration" name="configuration" class="anchor"><span class="anchor-link"></span></a>Configuration</h3>
<p>Plugins should provide their default configuration in <code>{plugin_name}.conf</code> file, where <code>plugin_name</code> is the same as the one in <code>PluginDescription</code>. Plugins should include their config inside <code>plugins.{plugin_name}</code> namespace in the config. <code>plugins.{plugin_name}.priority</code> configuration setting defines priority of the plugin, which is used to determine order in which routes provided by plugins are evaluated.</p>
<h3><a href="#adding-plugins-to-a-delta-deployment" name="adding-plugins-to-a-delta-deployment" class="anchor"><span class="anchor-link"></span></a>Adding plugins to a Delta deployment</h3>
<p>Delta loads plugins from <code>.jar</code> files present in a folder specified by <code>DELTA_PLUGINS</code> environment variable. In order to make delta discover the plugin, the <code>.jar</code> file of the plugin must be added(or symlinked) to that directory. In the official Delta Docker image the plugins are loaded from <code>/opt/docker/plugins</code> directory.</p>
<h3><a href="#enabling-disabling-plugins" name="enabling-disabling-plugins" class="anchor"><span class="anchor-link"></span></a>Enabling/disabling plugins</h3>
<p>Additionally, plugins can be enabled/disabled using <code>plugins.{plugin_name}.enabled</code> property. Setting this property to <code>false</code>, will disable the given plugin.</p>
<h2><a href="#existing-plugins" name="existing-plugins" class="anchor"><span class="anchor-link"></span></a>Existing plugins</h2>
<p>Currently, following Delta functionality is provided by plugins:</p>
<ul>
  <li>archives <a href="../api/current/kg-archives-api.html">API Reference</a> | <a href="https://github.com/BlueBrain/nexus/tree/v1.5.0/delta/plugins/archive/src" title="code" target="_blank" rel="noopener noreferrer">code</a></li>
  <li>SPARQL views <a href="../api/current/views/sparql-view-api.html">API Reference</a> | <a href="https://github.com/BlueBrain/nexus/tree/v1.5.0/delta/plugins/blazegraph/src" title="code" target="_blank" rel="noopener noreferrer">code</a></li>
  <li>Elasticsearch views <a href="../api/current/views/elasticsearch-view-api.html">API Reference</a> | <a href="https://github.com/BlueBrain/nexus/tree/v1.5.0/delta/plugins/elasticsearch/src" title="code" target="_blank" rel="noopener noreferrer">code</a></li>
  <li>composite views <a href="../api/current/views/composite-view-api.html">API Reference</a> | <a href="https://github.com/BlueBrain/nexus/tree/v1.5.0/delta/plugins/composite-views/src" title="code" target="_blank" rel="noopener noreferrer">code</a></li>
  <li>files and storages <a href="../api/current/kg-files-api.html">API Reference</a> | <a href="https://github.com/BlueBrain/nexus/tree/v1.5.0/delta/plugins/storage/src" title="code" target="_blank" rel="noopener noreferrer">code</a></li>
</ul>
<p>Elasticsearch plugin is required in order to provide listings in the API, other plugins can be excluded if their functionality is not needed. All the above plugins are included in the Delta <a href="https://hub.docker.com/r/bluebrain/nexus-delta/" title="Docker image" target="_blank" rel="noopener noreferrer">Docker image</a>. </p>
</div>
<div>
<a href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/plugins/index.md" title="Edit this page" class="md-source-file md-edit">
Edit this page
</a>
</div>
<div class="print-only">
<span class="md-source-file md-version">
0.0.0+1-cc462b3e*
</span>
</div>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-nav">
<nav class="md-footer-nav__inner md-grid">
<a href="../../../docs/delta/api/current/kg-archives-api.html" title="Archives" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
<div class="md-flex__cell md-flex__cell--shrink">
<i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
</div>
<div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
<span class="md-flex__ellipsis">
<span class="md-footer-nav__direction">
Previous
</span>
Archives
</span>
</div>
</a>
<a href="../../../docs/delta/benchmarks/index.html" title="Benchmarks" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
<div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
<span class="md-flex__ellipsis">
<span class="md-footer-nav__direction">
Next
</span>
Benchmarks
</span>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
</div>
</a>
</nav>
</div>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-footer-copyright">
<div class="md-footer-copyright__highlight">
Nexus is Open Source and available under the Apache 2 License.<br/>
© 2017-2021 <a href="https://epfl.ch/">EPFL</a> | <a href="https://bluebrain.epfl.ch/">The Blue Brain Project</a>

</div>
Powered by
<a href="https://github.com/lightbend/paradox">Paradox</a>
and
<a href="https://jonas.github.io/paradox-material-theme/">Paradox Material Theme</a>

</div>
<div class="md-footer-social">
<a href="https://github.com/BlueBrain" class="md-footer-social__link fa fa-github"></a><a href="https://gitter.im/BlueBrain/nexus" class="md-footer-social__link fa fa-globe"></a>
</div>

</div>
</div>
</footer>

</div>
<script src="../../../assets/javascripts/application.583bbe55.js"></script>
<script src="../../../assets/javascripts/paradox-material-theme.js"></script>
<script>app.initialize({version:"0.17",url:{base:"../../../."}})</script>
<script type="text/javascript" src="../../../lib/prettify/prettify.js"></script>
<script type="text/javascript" src="../../../lib/prettify/lang-scala.js"></script>
<script type="text/javascript">
document.addEventListener("DOMContentLoaded", function(event) {
window.prettyPrint && prettyPrint();
});
</script>
<script src="../../.././public/js/gtm.js"></script>
</body>
</html>
