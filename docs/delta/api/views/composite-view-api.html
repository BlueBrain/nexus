<!DOCTYPE html>
<html lang="en" class="no-js">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="description" content="docs">
<meta name="generator" content="Paradox, paradox-material-theme=0.6.0, mkdocs-material=3.0.3">

<meta name="lang:clipboard.copy" content="Copy to clipboard">
<meta name="lang:clipboard.copied" content="Copied to clipboard">
<meta name="lang:search.language" content="">
<meta name="lang:search.pipeline.stopwords" content="true">
<meta name="lang:search.pipeline.trimmer" content="true">
<meta name="lang:search.result.none" content="No matching documents">
<meta name="lang:search.result.one" content="1 matching document">
<meta name="lang:search.result.other" content="# matching documents">
<meta name="lang:search.tokenizer" content="[\s\-]+">


<meta name="description" content="docs">
<link rel="shortcut icon" href="../../../.././assets/img/favicon-32x32.png">
<title>CompositeView Â· Blue Brain Nexus</title>
<link rel="stylesheet" href="../../../../assets/stylesheets/application.451f80e5.css">
<link rel="stylesheet" href="../../../../assets/stylesheets/application-palette.22915126.css">
<meta name="theme-color" content="#03a9f4" />
<link rel="stylesheet" href="../../../../lib/material__tabs/dist/mdc.tabs.min.css">
<link rel="stylesheet" href="../../../../lib/prettify/prettify.css">
<script src="../../../../assets/javascripts/modernizr.1aa3b519.js"></script>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
<style>
body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}
code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}
</style>
<link rel="stylesheet" href="../../../../assets/fonts/font-awesome.css">
<link rel="stylesheet" href="../../../../assets/fonts/material-icons.css">
<link rel="stylesheet" href="../../../../assets/stylesheets/paradox-material-theme.css">
<link rel="stylesheet" href="../../../.././assets/css/docs.css">
</head>
<body
data-md-color-primary="light-blue"
data-md-color-accent="cyan"
>
<input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
<input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
<label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
<header class="md-header" data-md-component="header">
<nav class="md-header-nav md-grid">
<div class="md-flex">
<div class="md-flex__cell md-flex__cell--shrink">
<a href="../../../../docs/index.html" title="Blue Brain Nexus" class="md-header-nav__button md-logo">
<img src="../../../.././assets/img/logo.png" width="24" height="24">
</a>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
</div>
<div class="md-flex__cell md-flex__cell--stretch">
<div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
<span class="md-header-nav__topic">
Blue Brain Nexus
</span>
<span class="md-header-nav__topic">
CompositeView
</span>
</div>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
<label class="md-icon md-search__icon" for="__search"></label>
<button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">&#xE5CD;</button>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix>
<div class="md-search-result" data-md-component="result">
<div class="md-search-result__meta">
Type to start searching
</div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>

</div>
<div class="md-flex__cell md-flex__cell--shrink">
<div class="md-header-nav__source">
<a href="https://github.com/BlueBrain/nexus"
title="Go to repository"
class="md-source"
data-md-source="github">
<div class="md-source__icon">
<i class="fa fa-github"></i>
</div>
<div class="md-source__repository">
BlueBrain/nexus
</div>
</a>

</div>
</div>
</div>
</nav>
</header>

<div class="md-container">
<main class="md-main">
<div class="md-main__inner md-grid" data-md-component="container">
<div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav class="md-nav md-nav--primary" data-md-level="0" style="visibility: hidden">
<label class="md-nav__title md-nav__title--site" for="drawer">
<a href="../../../../docs/index.html" title="Blue Brain Nexus" class="md-nav__button md-logo">
<span class="md-nav__button md-logo">
<img src="../../../.././assets/img/logo.png" width="24" height="24">
</a>
<a href="../../../../docs/index.html" title="Blue Brain Nexus">
Blue Brain Nexus
</a>
</label>
<div class="md-nav__source">
<a href="https://github.com/BlueBrain/nexus"
title="Go to repository"
class="md-source"
data-md-source="github">
<div class="md-source__icon">
<i class="fa fa-github"></i>
</div>
<div class="md-source__repository">
BlueBrain/nexus
</div>
</a>

</div>
<ul>
  <li><a href="../../../../docs/versions.html" class="page">Versions</a></li>
  <li><a href="../../../../docs/getting-started/index.html" class="page">Getting Started</a>
  <ul>
    <li><a href="../../../../docs/getting-started/understanding-knowledge-graphs.html" class="page">Understanding Knowledge Graphs</a></li>
    <li><a href="../../../../docs/getting-started/try-nexus.html" class="page">Try Nexus with Neuroscience Datasets</a></li>
    <li><a href="../../../../docs/getting-started/try-nexus-movielens.html" class="page">Try Nexus with the MovieLens Dataset</a></li>
    <li><a href="../../../../docs/getting-started/running-nexus/index.html" class="page">Running Nexus</a>
    <ul>
      <li><a href="../../../../docs/getting-started/running-nexus/configuration/index.html" class="page">Nexus configuration</a></li>
      <li><a href="../../../../docs/getting-started/running-nexus/search-configuration.html" class="page">Search configuration</a></li>
    </ul></li>
  </ul></li>
  <li><a href="../../../../docs/releases/index.html" class="page">Releases</a>
  <ul>
    <li><a href="../../../../docs/releases/v1.9-release-notes.html" class="page">v1.9 Release Notes</a></li>
    <li><a href="../../../../docs/releases/v1.8-to-v1.9-migration.html" class="page">v1.8 To v1.9 Migration</a></li>
    <li><a href="../../../../docs/releases/v1.8-release-notes.html" class="page">v1.8 Release Notes</a></li>
    <li><a href="../../../../docs/releases/v1.7-to-v1.8-migration.html" class="page">v1.7 To v1.8 Migration</a></li>
    <li><a href="../../../../docs/releases/v1.7-release-notes.html" class="page">v1.7 Release Notes</a></li>
    <li><a href="../../../../docs/releases/v1.6-to-v1.7-migration.html" class="page">v1.6 To v1.7 Migration</a></li>
    <li><a href="../../../../docs/releases/v1.6-release-notes.html" class="page">v1.6 Release Notes</a></li>
    <li><a href="../../../../docs/releases/v1.5-to-v1.6-migration.html" class="page">v1.5 To v1.6 Migration</a></li>
    <li><a href="../../../../docs/releases/v1.5-release-notes.html" class="page">v1.5 Release Notes</a></li>
    <li><a href="../../../../docs/releases/v1.4-to-v1.5-migration.html" class="page">v1.4 To v1.5 Migration</a></li>
    <li><a href="../../../../docs/releases/older-releases.html" class="page">Older releases</a></li>
  </ul></li>
  <li><a href="../../../../docs/roadmap.html" class="page">Roadmap</a></li>
  <li><a href="../../../../docs/fusion/index.html" class="page">Nexus Fusion</a>
  <ul>
    <li><a href="../../../../docs/fusion/architecture.html" class="page">Architecture</a></li>
    <li><a href="../../../../docs/fusion/organizations.html" class="page">Organizations</a></li>
    <li><a href="../../../../docs/fusion/projects.html" class="page">Projects</a>
    <ul>
      <li><a href="../../../../docs/fusion/project.html" class="page">Project</a></li>
    </ul></li>
    <li><a href="../../../../docs/fusion/search.html" class="page">Global Search Types</a></li>
    <li><a href="../../../../docs/fusion/studios.html" class="page">Studios</a>
    <ul>
      <li><a href="../../../../docs/fusion/studio.html" class="page">Studio</a></li>
    </ul></li>
    <li><a href="../../../../docs/fusion/my-data.html" class="page">User data</a></li>
    <li><a href="../../../../docs/fusion/plugins.html" class="page">Plugins</a></li>
  </ul></li>
  <li><a href="../../../../docs/forge.html" class="page">Nexus Forge</a></li>
  <li><a href="../../../../docs/delta/index.html" class="page">Nexus Delta</a>
  <ul>
    <li><a href="../../../../docs/delta/architecture.html" class="page">Architecture</a></li>
    <li><a href="../../../../docs/delta/api/index.html" class="page">API Reference</a>
    <ul>
      <li><a href="../../../../docs/delta/api/content-negotiation.html" class="page">Content Negotiation</a></li>
      <li><a href="../../../../docs/delta/api/error-signaling.html" class="page">Error Signaling</a></li>
      <li><a href="../../../../docs/delta/api/version.html" class="page">Version</a></li>
      <li><a href="../../../../docs/delta/api/authentication.html" class="page">Authentication &amp; Authorization</a></li>
      <li><a href="../../../../docs/delta/api/identities.html" class="page">Identities</a></li>
      <li><a href="../../../../docs/delta/api/permissions-api.html" class="page">Permissions</a></li>
      <li><a href="../../../../docs/delta/api/realms-api.html" class="page">Realms</a></li>
      <li><a href="../../../../docs/delta/api/acls-api.html" class="page">Access Control Lists</a></li>
      <li><a href="../../../../docs/delta/api/user-permissions-api.html" class="page">User Permissions</a></li>
      <li><a href="../../../../docs/delta/api/orgs-api.html" class="page">Organizations</a></li>
      <li><a href="../../../../docs/delta/api/projects-api.html" class="page">Projects</a></li>
      <li><a href="../../../../docs/delta/api/quotas.html" class="page">Quotas</a></li>
      <li><a href="../../../../docs/delta/api/schemas-api.html" class="page">Schemas</a></li>
      <li><a href="../../../../docs/delta/api/resources-api.html" class="page">Resources</a></li>
      <li><a href="../../../../docs/delta/api/trial.html" class="page">Trial</a></li>
      <li><a href="../../../../docs/delta/api/multi-fetch.html" class="page">Multi fetch</a></li>
      <li><a href="../../../../docs/delta/api/id-resolution.html" class="page">Id Resolution</a></li>
      <li><a href="../../../../docs/delta/api/resolvers-api.html" class="page">Resolvers</a></li>
      <li><a href="../../../../docs/delta/api/views/index.html" class="page">Views</a>
      <ul>
        <li><a href="../../../../docs/delta/api/views/elasticsearch-view-api.html" class="page">ElasticSearchView</a></li>
        <li><a href="../../../../docs/delta/api/views/pipes.html" class="page">Elasticsearch Pipes</a></li>
        <li><a href="../../../../docs/delta/api/views/aggregated-es-view-api.html" class="page">AggregateElasticSearchView</a></li>
        <li><a href="../../../../docs/delta/api/views/sparql-view-api.html" class="page">SparqlView</a></li>
        <li><a href="../../../../docs/delta/api/views/aggregated-sparql-view-api.html" class="page">AggregateSparqlView</a></li>
        <li><a href="../../../../docs/delta/api/views/composite-view-api.html" class="active page">CompositeView</a></li>
      </ul></li>
      <li><a href="../../../../docs/delta/api/storages-api.html" class="page">Storages</a></li>
      <li><a href="../../../../docs/delta/api/files-api.html" class="page">Files</a></li>
      <li><a href="../../../../docs/delta/api/archives-api.html" class="page">Archives</a></li>
      <li><a href="../../../../docs/delta/api/search-api.html" class="page">Global search</a></li>
      <li><a href="../../../../docs/delta/api/graph-analytics-api.html" class="page">Graph analytics</a></li>
      <li><a href="../../../../docs/delta/api/jira.html" class="page">Jira integration</a></li>
      <li><a href="../../../../docs/delta/api/events-api.html" class="page">Global events</a></li>
      <li><a href="../../../../docs/delta/api/supervision-api.html" class="page">Supervision</a></li>
    </ul></li>
    <li><a href="../../../../docs/delta/metadata.html" class="page">Nexus Metadata</a></li>
    <li><a href="../../../../docs/delta/plugins/index.html" class="page">Plugins</a></li>
    <li><a href="../../../../docs/delta/benchmarks/index.html" class="page">Benchmarks</a>
    <ul>
      <li><a href="../../../../docs/delta/benchmarks/v1.4.2.html" class="page">Benchmarks v1.4.2</a></li>
      <li><a href="../../../../docs/delta/benchmarks/v1.2.1.html" class="page">Benchmarks v1.2.1</a></li>
    </ul></li>
  </ul></li>
  <li><a href="../../../../docs/utilities/index.html" class="page">Utilities</a></li>
  <li><a href="../../../../docs/faq.html" class="page">FAQ</a></li>
</ul>
<nav class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">Table of contents</label>
<ul>
  <li><a href="../../../../docs/delta/api/views/composite-view-api.html#compositeview" class="header">CompositeView</a>
  <ul>
    <li><a href="../../../../docs/delta/api/views/composite-view-api.html#processing-pipeline" class="header">Processing pipeline</a></li>
    <li><a href="../../../../docs/delta/api/views/composite-view-api.html#sources" class="header">Sources</a>
    <ul>
      <li><a href="../../../../docs/delta/api/views/composite-view-api.html#projecteventstream" class="header">ProjectEventStream</a></li>
      <li><a href="../../../../docs/delta/api/views/composite-view-api.html#crossprojecteventstream" class="header">CrossProjectEventStream</a></li>
      <li><a href="../../../../docs/delta/api/views/composite-view-api.html#remoteprojecteventstream" class="header">RemoteProjectEventStream</a></li>
    </ul></li>
    <li><a href="../../../../docs/delta/api/views/composite-view-api.html#intermediate-sparql-space" class="header">Intermediate Sparql space</a></li>
    <li><a href="../../../../docs/delta/api/views/composite-view-api.html#projections" class="header">Projections</a>
    <ul>
      <li><a href="../../../../docs/delta/api/views/composite-view-api.html#elasticsearchprojection" class="header">ElasticSearchProjection</a></li>
      <li><a href="../../../../docs/delta/api/views/composite-view-api.html#sparqlprojection" class="header">SparqlProjection</a></li>
    </ul></li>
    <li><a href="../../../../docs/delta/api/views/composite-view-api.html#batching-queries-to-the-intermediate-space" class="header">Batching queries to the intermediate space</a></li>
    <li><a href="../../../../docs/delta/api/views/composite-view-api.html#payload" class="header">Payload</a>
    <ul>
      <li><a href="../../../../docs/delta/api/views/composite-view-api.html#example" class="header">Example</a></li>
    </ul></li>
    <li><a href="../../../../docs/delta/api/views/composite-view-api.html#create-using-post" class="header">Create using POST</a></li>
    <li><a href="../../../../docs/delta/api/views/composite-view-api.html#create-using-put" class="header">Create using PUT</a></li>
    <li><a href="../../../../docs/delta/api/views/composite-view-api.html#update" class="header">Update</a></li>
    <li><a href="../../../../docs/delta/api/views/composite-view-api.html#tag" class="header">Tag</a></li>
    <li><a href="../../../../docs/delta/api/views/composite-view-api.html#deprecate" class="header">Deprecate</a></li>
    <li><a href="../../../../docs/delta/api/views/composite-view-api.html#fetch" class="header">Fetch</a></li>
    <li><a href="../../../../docs/delta/api/views/composite-view-api.html#fetch-original-payload" class="header">Fetch original payload</a></li>
    <li><a href="../../../../docs/delta/api/views/composite-view-api.html#fetch-tags" class="header">Fetch tags</a></li>
    <li><a href="../../../../docs/delta/api/views/composite-view-api.html#search-documents-in-projection-s-" class="header">Search Documents in projection(s)</a></li>
    <li><a href="../../../../docs/delta/api/views/composite-view-api.html#sparql-query-in-projection-s-" class="header">SPARQL query in projection(s)</a></li>
    <li><a href="../../../../docs/delta/api/views/composite-view-api.html#sparql-query-in-the-intermediate-space" class="header">SPARQL query in the intermediate space</a></li>
    <li><a href="../../../../docs/delta/api/views/composite-view-api.html#fetch-statistics" class="header">Fetch statistics</a></li>
    <li><a href="../../../../docs/delta/api/views/composite-view-api.html#fetch-source-s-statistics" class="header">Fetch source(s) statistics</a></li>
    <li><a href="../../../../docs/delta/api/views/composite-view-api.html#fetch-projection-s-statistics" class="header">Fetch projection(s) statistics</a></li>
    <li><a href="../../../../docs/delta/api/views/composite-view-api.html#fetch-indexing" class="header">Fetch indexing</a></li>
    <li><a href="../../../../docs/delta/api/views/composite-view-api.html#fetch-projection-s-indexing" class="header">Fetch projection(s) indexing</a></li>
    <li><a href="../../../../docs/delta/api/views/composite-view-api.html#restart-indexing" class="header">Restart indexing</a></li>
    <li><a href="../../../../docs/delta/api/views/composite-view-api.html#restart-projection-s-indexing" class="header">Restart projection(s) indexing</a></li>
    <li><a href="../../../../docs/delta/api/views/composite-view-api.html#restart-projection" class="header">Restart projection</a></li>
  </ul></li>
</ul>
</nav>

</nav>
<ul style="display: none">
<li class="md-nav__item md-version" id="project.version">
<label class="md-nav__link" for="__version">
<i class="md-icon" title="Version">label_outline</i> Snapshot
</label>
</li>
</ul>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">Table of contents</label>
<ul>
  <li><a href="../../../../docs/delta/api/views/composite-view-api.html#compositeview" class="header">CompositeView</a>
  <ul>
    <li><a href="../../../../docs/delta/api/views/composite-view-api.html#processing-pipeline" class="header">Processing pipeline</a></li>
    <li><a href="../../../../docs/delta/api/views/composite-view-api.html#sources" class="header">Sources</a>
    <ul>
      <li><a href="../../../../docs/delta/api/views/composite-view-api.html#projecteventstream" class="header">ProjectEventStream</a></li>
      <li><a href="../../../../docs/delta/api/views/composite-view-api.html#crossprojecteventstream" class="header">CrossProjectEventStream</a></li>
      <li><a href="../../../../docs/delta/api/views/composite-view-api.html#remoteprojecteventstream" class="header">RemoteProjectEventStream</a></li>
    </ul></li>
    <li><a href="../../../../docs/delta/api/views/composite-view-api.html#intermediate-sparql-space" class="header">Intermediate Sparql space</a></li>
    <li><a href="../../../../docs/delta/api/views/composite-view-api.html#projections" class="header">Projections</a>
    <ul>
      <li><a href="../../../../docs/delta/api/views/composite-view-api.html#elasticsearchprojection" class="header">ElasticSearchProjection</a></li>
      <li><a href="../../../../docs/delta/api/views/composite-view-api.html#sparqlprojection" class="header">SparqlProjection</a></li>
    </ul></li>
    <li><a href="../../../../docs/delta/api/views/composite-view-api.html#batching-queries-to-the-intermediate-space" class="header">Batching queries to the intermediate space</a></li>
    <li><a href="../../../../docs/delta/api/views/composite-view-api.html#payload" class="header">Payload</a>
    <ul>
      <li><a href="../../../../docs/delta/api/views/composite-view-api.html#example" class="header">Example</a></li>
    </ul></li>
    <li><a href="../../../../docs/delta/api/views/composite-view-api.html#create-using-post" class="header">Create using POST</a></li>
    <li><a href="../../../../docs/delta/api/views/composite-view-api.html#create-using-put" class="header">Create using PUT</a></li>
    <li><a href="../../../../docs/delta/api/views/composite-view-api.html#update" class="header">Update</a></li>
    <li><a href="../../../../docs/delta/api/views/composite-view-api.html#tag" class="header">Tag</a></li>
    <li><a href="../../../../docs/delta/api/views/composite-view-api.html#deprecate" class="header">Deprecate</a></li>
    <li><a href="../../../../docs/delta/api/views/composite-view-api.html#fetch" class="header">Fetch</a></li>
    <li><a href="../../../../docs/delta/api/views/composite-view-api.html#fetch-original-payload" class="header">Fetch original payload</a></li>
    <li><a href="../../../../docs/delta/api/views/composite-view-api.html#fetch-tags" class="header">Fetch tags</a></li>
    <li><a href="../../../../docs/delta/api/views/composite-view-api.html#search-documents-in-projection-s-" class="header">Search Documents in projection(s)</a></li>
    <li><a href="../../../../docs/delta/api/views/composite-view-api.html#sparql-query-in-projection-s-" class="header">SPARQL query in projection(s)</a></li>
    <li><a href="../../../../docs/delta/api/views/composite-view-api.html#sparql-query-in-the-intermediate-space" class="header">SPARQL query in the intermediate space</a></li>
    <li><a href="../../../../docs/delta/api/views/composite-view-api.html#fetch-statistics" class="header">Fetch statistics</a></li>
    <li><a href="../../../../docs/delta/api/views/composite-view-api.html#fetch-source-s-statistics" class="header">Fetch source(s) statistics</a></li>
    <li><a href="../../../../docs/delta/api/views/composite-view-api.html#fetch-projection-s-statistics" class="header">Fetch projection(s) statistics</a></li>
    <li><a href="../../../../docs/delta/api/views/composite-view-api.html#fetch-indexing" class="header">Fetch indexing</a></li>
    <li><a href="../../../../docs/delta/api/views/composite-view-api.html#fetch-projection-s-indexing" class="header">Fetch projection(s) indexing</a></li>
    <li><a href="../../../../docs/delta/api/views/composite-view-api.html#restart-indexing" class="header">Restart indexing</a></li>
    <li><a href="../../../../docs/delta/api/views/composite-view-api.html#restart-projection-s-indexing" class="header">Restart projection(s) indexing</a></li>
    <li><a href="../../../../docs/delta/api/views/composite-view-api.html#restart-projection" class="header">Restart projection</a></li>
  </ul></li>
</ul>
</nav>

</div>
</div>
</div>
<div class="md-content">
<article class="md-content__inner md-typeset">
<div class="callout note warning admonition" style="visibility: visible; margin-top: 0px">
<div class="callout-title admonition-title">Snapshot version</div>
<p>
You are browsing the docs for the snapshot version of Nexus,
the latest release is available <a href="https://bluebrainnexus.io/docs/" title="here">here</a>
</p>
</div>
<div class="md-content__searchable">
<h1><a href="#compositeview" name="compositeview" class="anchor"><span class="anchor-link"></span></a>CompositeView</h1>
<p>This view is composed by multiple <code>sources</code> and <code>projections</code>.</p>
<h2><a href="#processing-pipeline" name="processing-pipeline" class="anchor"><span class="anchor-link"></span></a>Processing pipeline</h2>
<p>An asynchronous process gets triggered for every view. This process can be visualized as a pipeline with different stages. </p>
<p>The first stage is the input of the pipeline: a stream of sources.</p>
<p>The last stage takes the resulting output from the pipeline and index it on the configured projection.</p>
<p><a href="../assets/views/composite/pipeline.png"><img src="../assets/views/composite/pipeline.png" alt="CompositeView pipeline" title="CompositeView pipeline" /></a></p>
<h2><a href="#sources" name="sources" class="anchor"><span class="anchor-link"></span></a>Sources</h2>
<p>A source defines the location where to retrieve the resources. It is the input of the pipeline.</p>
<p>There are 3 types of sources available.</p>
<h3><a href="#projecteventstream" name="projecteventstream" class="anchor"><span class="anchor-link"></span></a>ProjectEventStream</h3>
<p>This source reads events in a streaming fashion from the current project event log.</p>
<p>The events are offered to the projections stage.</p>
<pre class="prettyprint"><code class="language-json">{
   &quot;sources&quot;: [
      {
         &quot;@id&quot;: &quot;{sourceId},
         &quot;@type&quot;: &quot;ProjectEventStream&quot;,
         &quot;resourceSchemas&quot;: [ &quot;{resourceSchema}&quot;, ...],
         &quot;resourceTypes&quot;: [ &quot;{resourceType}&quot;, ...],
         &quot;resourceTag&quot;: &quot;{tag}&quot;
      }
   ],
   ...
}
</code></pre>
<p>where&hellip;</p>
<ul>
  <li><code>{sourceId}</code>: Iri - The identifier of the source. This field is optional. When missing, a randomly generated Iri will be assigned.</li>
  <li><code>{resourceSchema}</code>: Iri - Selects only resources that are validated against the provided schema Iri. This field is optional.</li>
  <li><code>{resourceType}</code>: Iri - Select only resources of the provided type Iri. This field is optional.</li>
  <li><code>{tag}</code>: String - Selects only resources with the provided tag. This field is optional.</li>
</ul>
<h3><a href="#crossprojecteventstream" name="crossprojecteventstream" class="anchor"><span class="anchor-link"></span></a>CrossProjectEventStream</h3>
<p>This source reads events in a streaming fashion from the defined project event log in the current Nexus Delta deployment.</p>
<p>The specified list of identities will be used to retrieve the resources from the project. The identities must have <code>events/read</code> permission on the target project in order to read events.</p>
<p>The events are offered to the projections stage.</p>
<pre class="prettyprint"><code class="language-json">{
   &quot;sources&quot;: [
      {
         &quot;@id&quot;: &quot;{sourceId}&quot;,
         &quot;@type&quot;: &quot;CrossProjectEventStream&quot;,
         &quot;project&quot;: &quot;{project}&quot;,
         &quot;identities&quot;: [ {_identity_}, {...} ],
         &quot;resourceSchemas&quot;: [ &quot;{resourceSchema}&quot;, ...],
         &quot;resourceTypes&quot;: [ &quot;{resourceType}&quot;, ...],
         &quot;resourceTag&quot;: &quot;{tag}&quot;
      }
   ],
   ...
}
</code></pre>
<p>where&hellip;</p>
<ul>
  <li><code>{sourceId}</code>: Iri - The identifier of the source. This field is optional. When missing, a randomly generated Iri  will be assigned.</li>
  <li><code>{project}</code>: String - the target project (in the format &lsquo;myorg/myproject&rsquo;).</li>
  <li><code>_identity_</code>: Json object - the identity against which to enforce ACLs during the resource retrieval process.</li>
  <li><code>{resourceSchema}</code>: Iri - Selects only resources that are validated against the provided schema Iri. This field is  optional.</li>
  <li><code>{resourceType}</code>: Iri - Select only resources of the provided type Iri. This field is optional.</li>
  <li><code>{tag}</code>: String - Selects only resources with the provided tag. This field is optional.</li>
</ul>
<h3><a href="#remoteprojecteventstream" name="remoteprojecteventstream" class="anchor"><span class="anchor-link"></span></a>RemoteProjectEventStream</h3>
<p>This source reads events in a streaming fashion from the defined project event log in a remote Nexus Delta deployment. The provided <code>token</code> must have <code>events/read</code> permissions on the target project in order to read events.</p>
<p>The events are offered to the projections stage.</p>
<pre class="prettyprint"><code class="language-json">{
   &quot;sources&quot;: [
      {
         &quot;@id&quot;: &quot;{sourceId}&quot;,
         &quot;@type&quot;: &quot;RemoteProjectEventStream&quot;,
         &quot;project&quot;: &quot;{project}&quot;,
         &quot;endpoint&quot;: &quot;{endpoint}&quot;,
         &quot;token&quot;: &quot;{token}&quot;,
         &quot;resourceSchemas&quot;: [ &quot;{resourceSchema}&quot;, ...],
         &quot;resourceTypes&quot;: [ &quot;{resourceType}&quot;, ...],
         &quot;resourceTag&quot;: &quot;{tag}&quot;
      }
   ],
   ...
}
</code></pre>
<p>where&hellip;</p>
<ul>
  <li><code>{sourceId}</code>: Iri - The identifier of the source. This field is optional. When missing, a randomly generated Iri  will be assigned.</li>
  <li><code>{project}</code>: String - the remote project (in the format &lsquo;myorg/myproject&rsquo;).</li>
  <li><code>{endpoint}</code>: Iri - the Nexus deployment endpoint.</li>
  <li><code>{token}</code>: String - the Nexus deployment token. This field is optional. When missing, the Nexus endpoint will be  accessed without authentication.</li>
  <li><code>{resourceSchema}</code>: Iri - Selects only resources that are validated against the provided schema Iri. This field is  optional.</li>
  <li><code>{resourceType}</code>: Iri - Select only resources of the provided type Iri. This field is optional.</li>
  <li><code>{tag}</code>: String - Selects only resources with the provided tag. This field is optional.</li>
</ul>
<h2><a href="#intermediate-sparql-space" name="intermediate-sparql-space" class="anchor"><span class="anchor-link"></span></a>Intermediate Sparql space</h2>
<p>After the events are gathered from each source, the following steps are executed:</p>
<ol>
  <li>Convert event into a resource.</li>
  <li>Discard undesired resources (resources not matching the source <code>resourceSchemas</code>, <code>resourceTypes</code> or <code>resourceTag</code>).</li>
  <li>Store the RDF triple representation of a resource in an intermediate Sparql space. This space will be used by the  projections in the following pipeline steps.</li>
</ol>
<h2><a href="#projections" name="projections" class="anchor"><span class="anchor-link"></span></a>Projections</h2>
<p>A projection defines the type of indexing and the query to transform the data. It is the output of the pipeline.</p>
<p>There are 2 types of projections available</p>
<h3><a href="#elasticsearchprojection" name="elasticsearchprojection" class="anchor"><span class="anchor-link"></span></a>ElasticSearchProjection</h3>
<p>This projection executes the following steps:</p>
<ol>
  <li>Discard undesired resources (resources not matching the projection <code>resourceSchemas</code>, <code>resourceTypes</code> or <code>resourceTag</code>).</li>
  <li>Transform the resource by executing an SPARQL <a href="https://www.w3.org/TR/rdf-sparql-query/#construct" title="construct query" target="_blank" rel="noopener noreferrer">construct query</a> against the intermediate Sparql space.</li>
  <li>Convert the resulting RDF triples into JSON using the provided JSON-LD context.</li>
  <li>Stores the resulting JSON as a Document in an ElasticSearch index.</li>
</ol>
<pre class="prettyprint"><code class="language-json">{
   &quot;projections&quot;: [
      {
         &quot;@id&quot;: &quot;{projectionId}&quot;,
         &quot;@type&quot;: &quot;ElasticSearchProjection&quot;,
         &quot;indexGroup&quot;: {elasticsearchIndexGroup},
         &quot;mapping&quot;: _elasticsearch mapping_,
         &quot;settings&quot;: _elasticsearch settings_,
         &quot;query&quot;: &quot;{query}&quot;,
         &quot;context&quot;: _context_,
         &quot;resourceSchemas&quot;: [ &quot;{resourceSchema}&quot;, ...],
         &quot;resourceTypes&quot;: [ &quot;{resourceType}&quot;, ...],
         &quot;includeMetadata&quot;: {includeMetadata},
         &quot;includeDeprecated&quot;: {includeDeprecated},
         &quot;permission&quot;: {permission},
         &quot;includeContext&quot;: {includeContext}
      }
   ],
   ...
}
</code></pre>
<p>where&hellip;</p>
<ul>
  <li><code>{projectionId}</code>: Iri - The identifier of the projection. This field is optional. When missing, a randomly generated  Iri will be assigned.</li>
  <li><code>{elasticsearchIndexGroup}</code>: String - Allow to add a prefix to the name of the created index so as to make easier to query all of the indices  with a same index group by using a wildcard (ex: <code>delta_mygroup_*</code>). This field is optional.</li>
  <li><code>_elasticsearch mapping_</code>: Json object - Defines the value types for the Json keys, as stated at the  <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/mapping.html" title="ElasticSearch mapping documentation" target="_blank" rel="noopener noreferrer">ElasticSearch mapping documentation</a>.</li>
  <li><code>_elasticsearch settings_</code>: Json object - Defines the indexing configuration, as stated at the  <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/index-modules.html#index-modules-settings" title="ElasticSearch settings documentation" target="_blank" rel="noopener noreferrer">ElasticSearch settings documentation</a>.</li>
  <li><code>_context_</code>: Json - the JSON-LD context value applied to the query results.</li>
  <li><code>{query}</code>: <a href="https://www.w3.org/TR/rdf-sparql-query/#construct" title="Sparql Construct Query" target="_blank" rel="noopener noreferrer">Sparql Construct Query</a> - Defines the Sparql query to execute against the  intermediate Sparql space for each target resource.</li>
  <li><code>{resourceSchema}</code>: Iri - Selects only resources that are validated against the provided schema Iri to perform the  query. This field is optional.</li>
  <li><code>{resourceType}</code>: Iri - Select only resources of the provided type Iri to perform the query. This field is optional.</li>
  <li><code>{includeMetadata}</code>: Boolean - If true, the resource&rsquo;s nexus metadata (<code>_constrainedBy</code>, <code>_deprecated</code>, &hellip;) will be  included in the ElasticSearch document. The default value is <code>false</code>.</li>
  <li><code>{includeDeprecated}</code>: Boolean - If true, deprecated resources are also indexed. The default value is <code>false</code>.</li>
  <li><code>{permission}</code>: String - the permission necessary to query this projection. Defaults to <code>views/query</code>.</li>
  <li><code>{includeContext}</code>: Boolean - If true, the JSON-LD context object is also added to the document indexed by ElasticSearch. The default value is <code>false</code>.</li>
</ul>
<h3><a href="#sparqlprojection" name="sparqlprojection" class="anchor"><span class="anchor-link"></span></a>SparqlProjection</h3>
<p>This projection executes the following steps:</p>
<ol>
  <li>Discard undesired resources.</li>
  <li>Transform the resource by executing an Sparql construct query against the intermediate Sparql space.</li>
  <li>Stores the resulting RDF Triple in a Blazegraph namespace.</li>
</ol>
<pre class="prettyprint"><code class="language-json">{
   &quot;projections&quot;: [
      {
         &quot;@id&quot;: &quot;{projectionId}&quot;,
         &quot;@type&quot;: &quot;SparqlProjection&quot;,
         &quot;query&quot;: &quot;{query}&quot;,
         &quot;resourceSchemas&quot;: [ &quot;{resourceSchema}&quot;, ...],
         &quot;resourceTypes&quot;: [ &quot;{resourceType}&quot;, ...],
         &quot;includeMetadata&quot;: {includeMetadata},
         &quot;includeDeprecated&quot;: {includeDeprecated},
        &quot;permission&quot;: &quot;{permission}&quot;
      }
   ],
   ...
}
</code></pre>
<p>where&hellip;</p>
<ul>
  <li><code>{projectionId}</code>: Iri - The identifier of the projection. This field is optional. When missing, a randomly generated  Iri will be assigned.</li>
  <li><code>{resourceSchema}</code>: Iri - Selects only resources that are validated against the provided schema Iri to perform the  query. This field is optional.</li>
  <li><code>{resourceType}</code>: Iri - Select only resources of the provided type Iri to perform the query. This field is optional.</li>
  <li><code>{includeMetadata}</code>: Boolean - If true, the resource&rsquo;s nexus metadata (<code>_constrainedBy</code>, <code>_deprecated</code>, &hellip;) will be  stored in the ElasticSearch document. Otherwise it won&rsquo;t. The default value is <code>false</code>.</li>
  <li><code>{includeDeprecated}</code>: Boolean - If true, deprecated resources are also indexed. The default value is <code>false</code>.</li>
  <li><code>{query}</code>: <a href="https://www.w3.org/TR/rdf-sparql-query/#construct" title="Sparql Construct Query" target="_blank" rel="noopener noreferrer">Sparql Construct Query</a> - Defines the Sparql query to  execute against the intermediate Sparql space for each target resource.</li>
  <li><code>{permission}</code>: String - the permission necessary to query this projection. Defaults to <code>views/query</code>.</li>
</ul>
<h2><a href="#batching-queries-to-the-intermediate-space" name="batching-queries-to-the-intermediate-space" class="anchor"><span class="anchor-link"></span></a>Batching queries to the intermediate space</h2>
<p>The queries that projections perform to the intermediate Sparql space can be either executed per individual resource, or in batches containing multiple resources. To learn more about it, please refer to the <a href="composite-sink.html">Composite Sink page</a>.</p>
<h2><a href="#payload" name="payload" class="anchor"><span class="anchor-link"></span></a>Payload</h2>
<pre class="prettyprint"><code class="language-json">{
  &quot;@id&quot;: &quot;{someid}&quot;,
  &quot;@type&quot;: &quot;CompositeView&quot;,
  &quot;sources&quot;: [ _source_, ...],
  &quot;projections&quot;: [ _projection_, ...],
  &quot;rebuildStrategy&quot;: {
    &quot;@type&quot;: &quot;Interval&quot;,
    &quot;value&quot;: &quot;{interval_value}&quot;
  }
}
</code></pre>
<p>where&hellip;</p>
<ul>
  <li><code>_source_</code>: Json - The source definition.</li>
  <li><code>_projection_</code>: Json - The projection definition.</li>
  <li><code>{interval_value}</code>: String - The maximum interval delay for a resource to be present in a projection, in a human-readable format (e.g.: 10 minutes).</li>
</ul>
<p>Note: The <code>rebuildStrategy</code> block is optional. If missing, the view won&rsquo;t be automatically restarted.</p>
<h3><a href="#example" name="example" class="anchor"><span class="anchor-link"></span></a>Example</h3>
<p>The following example creates a Composite view containing 3 sources and 2 projections.</p>
<p>The incoming data from each of the sources is stored as RDF triples in the intermediate Sparql space . </p>
<p>The ElasticSearch projection <code>http://music.com/es</code> queries the Sparql intermediate namespace when the current resource in the pipeline has the type <code>http://music.com/Band</code>.</p>
<p>The Sparql projection <code>http://music.com/sparql</code> queries the Sparql intermediate namespace when the current resource in the pipeline has the type <code>http://music.com/Album</code>.</p>
<p>The view is restarted every 10 minutes if there are new resources in any of the sources since the last time it was restarted. This allows to deal with partial graph visibility issues.</p>
<pre class="prettyprint"><code class="language-json">{
  &quot;@type&quot;: &quot;CompositeView&quot;,
  &quot;sources&quot;: [
    {
      &quot;@id&quot;: &quot;http://music.com/source_bands&quot;,
      &quot;@type&quot;: &quot;ProjectEventStream&quot;,
      &quot;resourceTypes&quot;: [ &quot;http://music.com/Band&quot; ]
    },
    {
      &quot;@id&quot;: &quot;http://music.com/source_albums&quot;,
      &quot;@type&quot;: &quot;CrossProjectEventStream&quot;,
      &quot;project&quot;: &quot;myorg/albums&quot;,
      &quot;identities&quot;: {
        &quot;@type&quot;: &quot;Anonymous&quot;
      },
      &quot;resourceTypes&quot;: [ &quot;http://music.com/Album&quot; ]
    },
    {
      &quot;@id&quot;: &quot;http://music.com/source_songs&quot;,
      &quot;@type&quot;: &quot;RemoteProjectEventStream&quot;,
      &quot;endpoint&quot;: &quot;http://localhost:8080/v1&quot;,
      &quot;project&quot;: &quot;myorg/songs&quot;,
      &quot;resourceTypes&quot;: [ &quot;http://music.com/Song&quot; ]
    }
  ],
  &quot;projections&quot;: [
    {
      &quot;@id&quot;: &quot;http://music.com/es&quot;,
      &quot;@type&quot;: &quot;ElasticSearchProjection&quot;,
      &quot;indexGroup&quot;: &quot;music&quot;,
      &quot;mapping&quot;: {
        &quot;properties&quot;: {
          &quot;@type&quot;: {
            &quot;type&quot;: &quot;keyword&quot;
          },
          &quot;@id&quot;: {
            &quot;type&quot;: &quot;keyword&quot;
          },
          &quot;name&quot;: {
            &quot;type&quot;: &quot;keyword&quot;
          },
          &quot;genre&quot;: {
            &quot;type&quot;: &quot;keyword&quot;
          },
          &quot;start&quot;: {
            &quot;type&quot;: &quot;integer&quot;
          },
          &quot;album&quot;: {
            &quot;type&quot;: &quot;nested&quot;,
            &quot;properties&quot;: {
              &quot;title&quot;: {
                &quot;type&quot;: &quot;text&quot;
              }
            }
          }
        },
        &quot;dynamic&quot;: false
      },
      &quot;query&quot;: &quot;prefix music: &lt;http://music.com/&gt; CONSTRUCT {{resource_id} music:name ?bandName ; music:genre      ?bandGenre ; music:start      ?bandStartYear ; music:album      ?albumId . ?albumId music:title ?albumTitle . } WHERE {{resource_id}   music:name       ?bandName ; music:start ?bandStartYear; music:genre ?bandGenre . OPTIONAL {{resource_id} ^music:by ?albumId . ?albumId        music:title   ?albumTitle . } }&quot;,
      &quot;context&quot;: {
        &quot;@base&quot;: &quot;http://music.com/&quot;,
        &quot;@vocab&quot;: &quot;http://music.com/&quot;
      },
      &quot;resourceTypes&quot;: [ &quot;http://music.com/Band&quot; ]
    },
    {
      &quot;@id&quot;: &quot;http://music.com/sparql&quot;,
      &quot;@type&quot;: &quot;SparqlProjection&quot;,
      &quot;query&quot;: &quot;prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; prefix music: &lt;http://music.com/&gt; prefix nxv: &lt;https://bluebrain.github.io/nexus/vocabulary/&gt; CONSTRUCT { {resource_id}             music:name               ?albumTitle ; music:length             ?albumLength ; music:numberOfSongs      ?numberOfSongs } WHERE {SELECT ?albumReleaseDate ?albumTitle (sum(xsd:integer(?songLength)) as ?albumLength) (count(?albumReleaseDate) as ?numberOfSongs) WHERE {OPTIONAL { {resource_id}           ^music:on / music:length   ?songLength } {resource_id} music:released             ?albumReleaseDate ; music:title                ?albumTitle . } GROUP BY ?albumReleaseDate ?albumTitle }&quot;,
      &quot;context&quot;: {
        &quot;@base&quot;: &quot;http://music.com/&quot;,
        &quot;@vocab&quot;: &quot;http://music.com/&quot;
      },
      &quot;resourceTypes&quot;: [ &quot;http://music.com/Album&quot; ]
    }
  ],
  &quot;rebuildStrategy&quot;: {
    &quot;@type&quot;: &quot;Interval&quot;,
    &quot;value&quot;: &quot;10 minute&quot;
  }
}
</code></pre>
<h2><a href="#create-using-post" name="create-using-post" class="anchor"><span class="anchor-link"></span></a>Create using POST</h2>
<pre><code>POST /v1/views/{org_label}/{project_label}
  {...}
</code></pre>
<p>The json payload:</p>
<ul>
  <li>If the <code>@id</code> value is found on the payload, this <code>@id</code> will be used.</li>
  <li>If the <code>@id</code> value is not found on the payload, an <code>@id</code> will be generated as follows: <code>base:{UUID}</code>. The <code>base</code> is the  <code>prefix</code> defined on the resource&rsquo;s project (<code>{project_label}</code>).</li>
</ul>
<p><strong>Example</strong></p>
<dl>
  <dt>Request</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/views/composite/create.sh" target="_blank" title="Go to snippet source">source</a><code class="language-sh">curl -X POST \
     -H &quot;Content-Type: application/json&quot; \
     &quot;http://localhost:8080/v1/views/myorg/bands&quot; \
     -d \
&#39;{
    &quot;@type&quot;: &quot;CompositeView&quot;,
    &quot;sources&quot;: [
        {
            &quot;@id&quot;: &quot;http://music.com/source_bands&quot;,
            &quot;@type&quot;: &quot;ProjectEventStream&quot;,
            &quot;resourceTypes&quot;: [ &quot;http://music.com/Band&quot; ]
        },
        {
            &quot;@id&quot;: &quot;http://music.com/source_albums&quot;,
            &quot;@type&quot;: &quot;CrossProjectEventStream&quot;,
            &quot;project&quot;: &quot;myorg/albums&quot;,
            &quot;identities&quot;: {
                &quot;@type&quot;: &quot;Anonymous&quot;
            },
            &quot;resourceTypes&quot;: [ &quot;http://music.com/Album&quot; ]
        },
        {
            &quot;@id&quot;: &quot;http://music.com/source_songs&quot;,
            &quot;@type&quot;: &quot;RemoteProjectEventStream&quot;,
            &quot;endpoint&quot;: &quot;http://localhost:8080/v1&quot;,
            &quot;project&quot;: &quot;myorg/songs&quot;,
            &quot;resourceTypes&quot;: [ &quot;http://music.com/Song&quot; ]
        }
    ],
    &quot;projections&quot;: [
        {
            &quot;@id&quot;: &quot;http://music.com/es&quot;,
            &quot;@type&quot;: &quot;ElasticSearchProjection&quot;,
            &quot;indexGroup&quot;: &quot;music&quot;,
            &quot;mapping&quot;: {
                &quot;properties&quot;: {
                    &quot;@type&quot;: {
                        &quot;type&quot;: &quot;keyword&quot;
                    },
                    &quot;@id&quot;: {
                        &quot;type&quot;: &quot;keyword&quot;
                    },
                    &quot;name&quot;: {
                        &quot;type&quot;: &quot;keyword&quot;
                    },
                    &quot;genre&quot;: {
                        &quot;type&quot;: &quot;keyword&quot;
                    },
                    &quot;start&quot;: {
                        &quot;type&quot;: &quot;integer&quot;
                    },
                    &quot;album&quot;: {
                        &quot;type&quot;: &quot;nested&quot;,
                        &quot;properties&quot;: {
                            &quot;title&quot;: {
                                &quot;type&quot;: &quot;text&quot;
                            }
                        }
                    }
                },
                &quot;dynamic&quot;: false
            },
            &quot;query&quot;: &quot;prefix music: &lt;http://music.com/&gt; CONSTRUCT {{resource_id} music:name ?bandName ; music:genre      ?bandGenre ; music:start      ?bandStartYear ; music:album      ?albumId . ?albumId music:title ?albumTitle . } WHERE {{resource_id}   music:name       ?bandName ; music:start ?bandStartYear; music:genre ?bandGenre . OPTIONAL {{resource_id} ^music:by ?albumId . ?albumId        music:title   ?albumTitle . } }&quot;,
            &quot;context&quot;: {
                &quot;@base&quot;: &quot;http://music.com/&quot;,
                &quot;@vocab&quot;: &quot;http://music.com/&quot;
            },
            &quot;resourceTypes&quot;: [ &quot;http://music.com/Band&quot; ]
        },
        {
            &quot;@id&quot;: &quot;http://music.com/sparql&quot;,
            &quot;@type&quot;: &quot;SparqlProjection&quot;,
            &quot;query&quot;: &quot;prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; prefix music: &lt;http://music.com/&gt; prefix nxv: &lt;https://bluebrain.github.io/nexus/vocabulary/&gt; CONSTRUCT { {resource_id}             music:name               ?albumTitle ; music:length             ?albumLength ; music:numberOfSongs      ?numberOfSongs } WHERE {SELECT ?albumReleaseDate ?albumTitle (sum(xsd:integer(?songLength)) as ?albumLength) (count(?albumReleaseDate) as ?numberOfSongs) WHERE {OPTIONAL { {resource_id}           ^music:on / music:length   ?songLength } {resource_id} music:released             ?albumReleaseDate ; music:title                ?albumTitle . } GROUP BY ?albumReleaseDate ?albumTitle }&quot;,
            &quot;context&quot;: {
                &quot;@base&quot;: &quot;http://music.com/&quot;,
                &quot;@vocab&quot;: &quot;http://music.com/&quot;
            },
            &quot;resourceTypes&quot;: [ &quot;http://music.com/Album&quot; ]
        }
    ],
    &quot;rebuildStrategy&quot;: {
        &quot;@type&quot;: &quot;Interval&quot;,
        &quot;value&quot;: &quot;10 minute&quot;
    }
}&#39;</code></pre></dd>
  <dt>Payload</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/views/composite/payload.json" target="_blank" title="Go to snippet source">source</a><code class="language-json">{
  &quot;@type&quot;: &quot;CompositeView&quot;,
  &quot;sources&quot;: [
    {
      &quot;@id&quot;: &quot;http://music.com/source_bands&quot;,
      &quot;@type&quot;: &quot;ProjectEventStream&quot;,
      &quot;resourceTypes&quot;: [ &quot;http://music.com/Band&quot; ]
    },
    {
      &quot;@id&quot;: &quot;http://music.com/source_albums&quot;,
      &quot;@type&quot;: &quot;CrossProjectEventStream&quot;,
      &quot;project&quot;: &quot;myorg/albums&quot;,
      &quot;identities&quot;: {
        &quot;@type&quot;: &quot;Anonymous&quot;
      },
      &quot;resourceTypes&quot;: [ &quot;http://music.com/Album&quot; ]
    },
    {
      &quot;@id&quot;: &quot;http://music.com/source_songs&quot;,
      &quot;@type&quot;: &quot;RemoteProjectEventStream&quot;,
      &quot;endpoint&quot;: &quot;http://localhost:8080/v1&quot;,
      &quot;project&quot;: &quot;myorg/songs&quot;,
      &quot;resourceTypes&quot;: [ &quot;http://music.com/Song&quot; ]
    }
  ],
  &quot;projections&quot;: [
    {
      &quot;@id&quot;: &quot;http://music.com/es&quot;,
      &quot;@type&quot;: &quot;ElasticSearchProjection&quot;,
      &quot;indexGroup&quot;: &quot;music&quot;,
      &quot;mapping&quot;: {
        &quot;properties&quot;: {
          &quot;@type&quot;: {
            &quot;type&quot;: &quot;keyword&quot;
          },
          &quot;@id&quot;: {
            &quot;type&quot;: &quot;keyword&quot;
          },
          &quot;name&quot;: {
            &quot;type&quot;: &quot;keyword&quot;
          },
          &quot;genre&quot;: {
            &quot;type&quot;: &quot;keyword&quot;
          },
          &quot;start&quot;: {
            &quot;type&quot;: &quot;integer&quot;
          },
          &quot;album&quot;: {
            &quot;type&quot;: &quot;nested&quot;,
            &quot;properties&quot;: {
              &quot;title&quot;: {
                &quot;type&quot;: &quot;text&quot;
              }
            }
          }
        },
        &quot;dynamic&quot;: false
      },
      &quot;query&quot;: &quot;prefix music: &lt;http://music.com/&gt; CONSTRUCT {{resource_id} music:name ?bandName ; music:genre      ?bandGenre ; music:start      ?bandStartYear ; music:album      ?albumId . ?albumId music:title ?albumTitle . } WHERE {{resource_id}   music:name       ?bandName ; music:start ?bandStartYear; music:genre ?bandGenre . OPTIONAL {{resource_id} ^music:by ?albumId . ?albumId        music:title   ?albumTitle . } }&quot;,
      &quot;context&quot;: {
        &quot;@base&quot;: &quot;http://music.com/&quot;,
        &quot;@vocab&quot;: &quot;http://music.com/&quot;
      },
      &quot;resourceTypes&quot;: [ &quot;http://music.com/Band&quot; ]
    },
    {
      &quot;@id&quot;: &quot;http://music.com/sparql&quot;,
      &quot;@type&quot;: &quot;SparqlProjection&quot;,
      &quot;query&quot;: &quot;prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; prefix music: &lt;http://music.com/&gt; prefix nxv: &lt;https://bluebrain.github.io/nexus/vocabulary/&gt; CONSTRUCT { {resource_id}             music:name               ?albumTitle ; music:length             ?albumLength ; music:numberOfSongs      ?numberOfSongs } WHERE {SELECT ?albumReleaseDate ?albumTitle (sum(xsd:integer(?songLength)) as ?albumLength) (count(?albumReleaseDate) as ?numberOfSongs) WHERE {OPTIONAL { {resource_id}           ^music:on / music:length   ?songLength } {resource_id} music:released             ?albumReleaseDate ; music:title                ?albumTitle . } GROUP BY ?albumReleaseDate ?albumTitle }&quot;,
      &quot;context&quot;: {
        &quot;@base&quot;: &quot;http://music.com/&quot;,
        &quot;@vocab&quot;: &quot;http://music.com/&quot;
      },
      &quot;resourceTypes&quot;: [ &quot;http://music.com/Album&quot; ]
    }
  ],
  &quot;rebuildStrategy&quot;: {
    &quot;@type&quot;: &quot;Interval&quot;,
    &quot;value&quot;: &quot;3 minute&quot;
  }
}</code></pre></dd>
  <dt>Response</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/views/composite/created.json" target="_blank" title="Go to snippet source">source</a><code class="language-json">{
  &quot;@context&quot;: [
    &quot;https://bluebrain.github.io/nexus/contexts/composite-views-metadata.json&quot;,
    &quot;https://bluebrain.github.io/nexus/contexts/metadata.json&quot;
  ],
  &quot;@id&quot;: &quot;http://music.com/fb935e64-58c0-4f84-85ef-c6a97d06b699&quot;,
  &quot;@type&quot;: [
    &quot;View&quot;,
    &quot;CompositeView&quot;
  ],
  &quot;_constrainedBy&quot;: &quot;https://bluebrain.github.io/nexus/schemas/views.json&quot;,
  &quot;_createdAt&quot;: &quot;2021-05-17T14:43:41.763Z&quot;,
  &quot;_createdBy&quot;: &quot;http://localhost:8080/v1/anonymous&quot;,
  &quot;_deprecated&quot;: false,
  &quot;_incoming&quot;: &quot;http://localhost:8080/v1/views/myorg/bands/fb935e64-58c0-4f84-85ef-c6a97d06b699/incoming&quot;,
  &quot;_outgoing&quot;: &quot;http://localhost:8080/v1/views/myorg/bands/fb935e64-58c0-4f84-85ef-c6a97d06b699/outgoing&quot;,
  &quot;_project&quot;: &quot;http://localhost:8080/v1/projects/myorg/bands&quot;,
  &quot;_rev&quot;: 1,
  &quot;_self&quot;: &quot;http://localhost:8080/v1/views/myorg/bands/fb935e64-58c0-4f84-85ef-c6a97d06b699&quot;,
  &quot;_updatedAt&quot;: &quot;2021-05-17T14:43:41.763Z&quot;,
  &quot;_updatedBy&quot;: &quot;http://localhost:8080/v1/anonymous&quot;,
  &quot;_uuid&quot;: &quot;4b6fe5bf-675c-40bf-88ac-2b26575236c9&quot;
}</code></pre></dd>
</dl>
<h2><a href="#create-using-put" name="create-using-put" class="anchor"><span class="anchor-link"></span></a>Create using PUT</h2>
<p>This alternative endpoint to create a view is useful in case the json payload does not contain an <code>@id</code> but you want to specify one. The <code>@id</code> will be specified in the last segment of the endpoint URI.</p>
<pre><code>PUT /v1/views/{org_label}/{project_label}/{view_id}
  {...}
</code></pre>
<p>Note that if the payload contains an <code>@id</code> different from the <code>{view_id}</code>, the request will fail.</p>
<p><strong>Example</strong></p>
<dl>
  <dt>Request</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/views/composite/create-put.sh" target="_blank" title="Go to snippet source">source</a><code class="language-sh">curl -X PUT \
     -H &quot;Content-Type: application/json&quot; \
     &quot;http://localhost:8080/v1/views/myorg/bands/composite_view&quot; \
     -d \
&#39;{
    &quot;@type&quot;: &quot;CompositeView&quot;,
    &quot;sources&quot;: [
        {
            &quot;@id&quot;: &quot;http://music.com/source_bands&quot;,
            &quot;@type&quot;: &quot;ProjectEventStream&quot;,
            &quot;resourceTypes&quot;: [ &quot;http://music.com/Band&quot; ]
        },
        {
            &quot;@id&quot;: &quot;http://music.com/source_albums&quot;,
            &quot;@type&quot;: &quot;CrossProjectEventStream&quot;,
            &quot;project&quot;: &quot;myorg/albums&quot;,
            &quot;identities&quot;: {
                &quot;@type&quot;: &quot;Anonymous&quot;
            },
            &quot;resourceTypes&quot;: [ &quot;http://music.com/Album&quot; ]
        },
        {
            &quot;@id&quot;: &quot;http://music.com/source_songs&quot;,
            &quot;@type&quot;: &quot;RemoteProjectEventStream&quot;,
            &quot;endpoint&quot;: &quot;http://localhost:8080/v1&quot;,
            &quot;project&quot;: &quot;myorg/songs&quot;,
            &quot;resourceTypes&quot;: [ &quot;http://music.com/Song&quot; ]
        }
    ],
    &quot;projections&quot;: [
        {
            &quot;@id&quot;: &quot;http://music.com/es&quot;,
            &quot;@type&quot;: &quot;ElasticSearchProjection&quot;,
            &quot;indexGroup&quot;: &quot;music&quot;,
            &quot;mapping&quot;: {
                &quot;properties&quot;: {
                    &quot;@type&quot;: {
                        &quot;type&quot;: &quot;keyword&quot;
                    },
                    &quot;@id&quot;: {
                        &quot;type&quot;: &quot;keyword&quot;
                    },
                    &quot;name&quot;: {
                        &quot;type&quot;: &quot;keyword&quot;
                    },
                    &quot;genre&quot;: {
                        &quot;type&quot;: &quot;keyword&quot;
                    },
                    &quot;start&quot;: {
                        &quot;type&quot;: &quot;integer&quot;
                    },
                    &quot;album&quot;: {
                        &quot;type&quot;: &quot;nested&quot;,
                        &quot;properties&quot;: {
                            &quot;title&quot;: {
                                &quot;type&quot;: &quot;text&quot;
                            }
                        }
                    }
                },
                &quot;dynamic&quot;: false
            },
            &quot;query&quot;: &quot;prefix music: &lt;http://music.com/&gt; CONSTRUCT {{resource_id} music:name ?bandName ; music:genre      ?bandGenre ; music:start      ?bandStartYear ; music:album      ?albumId . ?albumId music:title ?albumTitle . } WHERE {{resource_id}   music:name       ?bandName ; music:start ?bandStartYear; music:genre ?bandGenre . OPTIONAL {{resource_id} ^music:by ?albumId . ?albumId        music:title   ?albumTitle . } }&quot;,
            &quot;context&quot;: {
                &quot;@base&quot;: &quot;http://music.com/&quot;,
                &quot;@vocab&quot;: &quot;http://music.com/&quot;
            },
            &quot;resourceTypes&quot;: [ &quot;http://music.com/Band&quot; ]
        },
        {
            &quot;@id&quot;: &quot;http://music.com/sparql&quot;,
            &quot;@type&quot;: &quot;SparqlProjection&quot;,
            &quot;query&quot;: &quot;prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; prefix music: &lt;http://music.com/&gt; prefix nxv: &lt;https://bluebrain.github.io/nexus/vocabulary/&gt; CONSTRUCT { {resource_id}             music:name               ?albumTitle ; music:length             ?albumLength ; music:numberOfSongs      ?numberOfSongs } WHERE {SELECT ?albumReleaseDate ?albumTitle (sum(xsd:integer(?songLength)) as ?albumLength) (count(?albumReleaseDate) as ?numberOfSongs) WHERE {OPTIONAL { {resource_id}           ^music:on / music:length   ?songLength } {resource_id} music:released             ?albumReleaseDate ; music:title                ?albumTitle . } GROUP BY ?albumReleaseDate ?albumTitle }&quot;,
            &quot;context&quot;: {
                &quot;@base&quot;: &quot;http://music.com/&quot;,
                &quot;@vocab&quot;: &quot;http://music.com/&quot;
            },
            &quot;resourceTypes&quot;: [ &quot;http://music.com/Album&quot; ]
        }
    ],
    &quot;rebuildStrategy&quot;: {
        &quot;@type&quot;: &quot;Interval&quot;,
        &quot;value&quot;: &quot;10 minute&quot;
    }
}&#39;</code></pre></dd>
  <dt>Payload</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/views/composite/payload.json" target="_blank" title="Go to snippet source">source</a><code class="language-json">{
  &quot;@type&quot;: &quot;CompositeView&quot;,
  &quot;sources&quot;: [
    {
      &quot;@id&quot;: &quot;http://music.com/source_bands&quot;,
      &quot;@type&quot;: &quot;ProjectEventStream&quot;,
      &quot;resourceTypes&quot;: [ &quot;http://music.com/Band&quot; ]
    },
    {
      &quot;@id&quot;: &quot;http://music.com/source_albums&quot;,
      &quot;@type&quot;: &quot;CrossProjectEventStream&quot;,
      &quot;project&quot;: &quot;myorg/albums&quot;,
      &quot;identities&quot;: {
        &quot;@type&quot;: &quot;Anonymous&quot;
      },
      &quot;resourceTypes&quot;: [ &quot;http://music.com/Album&quot; ]
    },
    {
      &quot;@id&quot;: &quot;http://music.com/source_songs&quot;,
      &quot;@type&quot;: &quot;RemoteProjectEventStream&quot;,
      &quot;endpoint&quot;: &quot;http://localhost:8080/v1&quot;,
      &quot;project&quot;: &quot;myorg/songs&quot;,
      &quot;resourceTypes&quot;: [ &quot;http://music.com/Song&quot; ]
    }
  ],
  &quot;projections&quot;: [
    {
      &quot;@id&quot;: &quot;http://music.com/es&quot;,
      &quot;@type&quot;: &quot;ElasticSearchProjection&quot;,
      &quot;indexGroup&quot;: &quot;music&quot;,
      &quot;mapping&quot;: {
        &quot;properties&quot;: {
          &quot;@type&quot;: {
            &quot;type&quot;: &quot;keyword&quot;
          },
          &quot;@id&quot;: {
            &quot;type&quot;: &quot;keyword&quot;
          },
          &quot;name&quot;: {
            &quot;type&quot;: &quot;keyword&quot;
          },
          &quot;genre&quot;: {
            &quot;type&quot;: &quot;keyword&quot;
          },
          &quot;start&quot;: {
            &quot;type&quot;: &quot;integer&quot;
          },
          &quot;album&quot;: {
            &quot;type&quot;: &quot;nested&quot;,
            &quot;properties&quot;: {
              &quot;title&quot;: {
                &quot;type&quot;: &quot;text&quot;
              }
            }
          }
        },
        &quot;dynamic&quot;: false
      },
      &quot;query&quot;: &quot;prefix music: &lt;http://music.com/&gt; CONSTRUCT {{resource_id} music:name ?bandName ; music:genre      ?bandGenre ; music:start      ?bandStartYear ; music:album      ?albumId . ?albumId music:title ?albumTitle . } WHERE {{resource_id}   music:name       ?bandName ; music:start ?bandStartYear; music:genre ?bandGenre . OPTIONAL {{resource_id} ^music:by ?albumId . ?albumId        music:title   ?albumTitle . } }&quot;,
      &quot;context&quot;: {
        &quot;@base&quot;: &quot;http://music.com/&quot;,
        &quot;@vocab&quot;: &quot;http://music.com/&quot;
      },
      &quot;resourceTypes&quot;: [ &quot;http://music.com/Band&quot; ]
    },
    {
      &quot;@id&quot;: &quot;http://music.com/sparql&quot;,
      &quot;@type&quot;: &quot;SparqlProjection&quot;,
      &quot;query&quot;: &quot;prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; prefix music: &lt;http://music.com/&gt; prefix nxv: &lt;https://bluebrain.github.io/nexus/vocabulary/&gt; CONSTRUCT { {resource_id}             music:name               ?albumTitle ; music:length             ?albumLength ; music:numberOfSongs      ?numberOfSongs } WHERE {SELECT ?albumReleaseDate ?albumTitle (sum(xsd:integer(?songLength)) as ?albumLength) (count(?albumReleaseDate) as ?numberOfSongs) WHERE {OPTIONAL { {resource_id}           ^music:on / music:length   ?songLength } {resource_id} music:released             ?albumReleaseDate ; music:title                ?albumTitle . } GROUP BY ?albumReleaseDate ?albumTitle }&quot;,
      &quot;context&quot;: {
        &quot;@base&quot;: &quot;http://music.com/&quot;,
        &quot;@vocab&quot;: &quot;http://music.com/&quot;
      },
      &quot;resourceTypes&quot;: [ &quot;http://music.com/Album&quot; ]
    }
  ],
  &quot;rebuildStrategy&quot;: {
    &quot;@type&quot;: &quot;Interval&quot;,
    &quot;value&quot;: &quot;3 minute&quot;
  }
}</code></pre></dd>
  <dt>Response</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/views/composite/created-put.json" target="_blank" title="Go to snippet source">source</a><code class="language-json">{
  &quot;@context&quot;: [
    &quot;https://bluebrain.github.io/nexus/contexts/composite-views-metadata.json&quot;,
    &quot;https://bluebrain.github.io/nexus/contexts/metadata.json&quot;
  ],
  &quot;@id&quot;: &quot;http://music.com/composite_view&quot;,
  &quot;@type&quot;: [
    &quot;View&quot;,
    &quot;CompositeView&quot;
  ],
  &quot;_constrainedBy&quot;: &quot;https://bluebrain.github.io/nexus/schemas/views.json&quot;,
  &quot;_createdAt&quot;: &quot;2021-05-17T14:43:41.763Z&quot;,
  &quot;_createdBy&quot;: &quot;http://localhost:8080/v1/anonymous&quot;,
  &quot;_deprecated&quot;: false,
  &quot;_incoming&quot;: &quot;http://localhost:8080/v1/views/myorg/bands/composite_view/incoming&quot;,
  &quot;_outgoing&quot;: &quot;http://localhost:8080/v1/views/myorg/bands/composite_view/outgoing&quot;,
  &quot;_project&quot;: &quot;http://localhost:8080/v1/projects/myorg/bands&quot;,
  &quot;_rev&quot;: 1,
  &quot;_self&quot;: &quot;http://localhost:8080/v1/views/myorg/bands/composite_view&quot;,
  &quot;_updatedAt&quot;: &quot;2021-05-17T14:43:41.763Z&quot;,
  &quot;_updatedBy&quot;: &quot;http://localhost:8080/v1/anonymous&quot;,
  &quot;_uuid&quot;: &quot;4b6fe5bf-675c-40bf-88ac-2b26575236c9&quot;
}</code></pre></dd>
</dl>
<h2><a href="#update" name="update" class="anchor"><span class="anchor-link"></span></a>Update</h2>
<p>This operation overrides the payload.</p>
<p>In order to ensure a client does not perform any changes to a resource without having had seen the previous revision of the view, the last revision needs to be passed as a query parameter.</p>
<pre><code>PUT /v1/views/{org_label}/{project_label}/{view_id}?rev={previous_rev}
  {...}
</code></pre>
<p>&hellip; where <code>{previous_rev}</code> is the last known revision number for the view.</p><div class="callout note warning"><div class="callout-title">Note</div>
<p>Updating a view creates new Elasticsearch indices and Blazegraph namespaces and deletes the existing ones. The indexing process will start from the beginning.</p></div>
<p><strong>Example</strong></p>
<dl>
  <dt>Request</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/views/composite/update.sh" target="_blank" title="Go to snippet source">source</a><code class="language-sh">curl -X PUT \
     -H &quot;Content-Type: application/json&quot; \
     &quot;http://localhost:8080/v1/views/myorg/bands/composite_view?rev=1&quot; \
     -d \
&#39;{
    &quot;@type&quot;: &quot;CompositeView&quot;,
    &quot;sources&quot;: [
        {
            &quot;@id&quot;: &quot;http://music.com/source_bands&quot;,
            &quot;@type&quot;: &quot;ProjectEventStream&quot;,
            &quot;resourceTypes&quot;: [ &quot;http://music.com/Band&quot; ]
        },
        {
            &quot;@id&quot;: &quot;http://music.com/source_albums&quot;,
            &quot;@type&quot;: &quot;CrossProjectEventStream&quot;,
            &quot;project&quot;: &quot;myorg/albums&quot;,
            &quot;identities&quot;: {
                &quot;@type&quot;: &quot;Anonymous&quot;
            },
            &quot;resourceTypes&quot;: [ &quot;http://music.com/Album&quot; ]
        },
        {
            &quot;@id&quot;: &quot;http://music.com/source_songs&quot;,
            &quot;@type&quot;: &quot;RemoteProjectEventStream&quot;,
            &quot;endpoint&quot;: &quot;http://localhost:8080/v1&quot;,
            &quot;project&quot;: &quot;myorg/songs&quot;,
            &quot;resourceTypes&quot;: [ &quot;http://music.com/Song&quot; ]
        }
    ],
    &quot;projections&quot;: [
        {
            &quot;@id&quot;: &quot;http://music.com/es&quot;,
            &quot;@type&quot;: &quot;ElasticSearchProjection&quot;,
            &quot;indexGroup&quot;: &quot;music&quot;,
            &quot;mapping&quot;: {
                &quot;properties&quot;: {
                    &quot;@type&quot;: {
                        &quot;type&quot;: &quot;keyword&quot;
                    },
                    &quot;@id&quot;: {
                        &quot;type&quot;: &quot;keyword&quot;
                    },
                    &quot;name&quot;: {
                        &quot;type&quot;: &quot;keyword&quot;
                    },
                    &quot;genre&quot;: {
                        &quot;type&quot;: &quot;keyword&quot;
                    },
                    &quot;start&quot;: {
                        &quot;type&quot;: &quot;integer&quot;
                    },
                    &quot;album&quot;: {
                        &quot;type&quot;: &quot;nested&quot;,
                        &quot;properties&quot;: {
                            &quot;title&quot;: {
                                &quot;type&quot;: &quot;text&quot;
                            }
                        }
                    }
                },
                &quot;dynamic&quot;: false
            },
            &quot;query&quot;: &quot;prefix music: &lt;http://music.com/&gt; CONSTRUCT {{resource_id} music:name ?bandName ; music:genre      ?bandGenre ; music:start      ?bandStartYear ; music:album      ?albumId . ?albumId music:title ?albumTitle . } WHERE {{resource_id}   music:name       ?bandName ; music:start ?bandStartYear; music:genre ?bandGenre . OPTIONAL {{resource_id} ^music:by ?albumId . ?albumId        music:title   ?albumTitle . } }&quot;,
            &quot;context&quot;: {
                &quot;@base&quot;: &quot;http://music.com/&quot;,
                &quot;@vocab&quot;: &quot;http://music.com/&quot;
            },
            &quot;resourceTypes&quot;: [ &quot;http://music.com/Band&quot; ]
        },
        {
            &quot;@id&quot;: &quot;http://music.com/sparql&quot;,
            &quot;@type&quot;: &quot;SparqlProjection&quot;,
            &quot;query&quot;: &quot;prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; prefix music: &lt;http://music.com/&gt; prefix nxv: &lt;https://bluebrain.github.io/nexus/vocabulary/&gt; CONSTRUCT { {resource_id}             music:name               ?albumTitle ; music:length             ?albumLength ; music:numberOfSongs      ?numberOfSongs } WHERE {SELECT ?albumReleaseDate ?albumTitle (sum(xsd:integer(?songLength)) as ?albumLength) (count(?albumReleaseDate) as ?numberOfSongs) WHERE {OPTIONAL { {resource_id}           ^music:on / music:length   ?songLength } {resource_id} music:released             ?albumReleaseDate ; music:title                ?albumTitle . } GROUP BY ?albumReleaseDate ?albumTitle }&quot;,
            &quot;context&quot;: {
                &quot;@base&quot;: &quot;http://music.com/&quot;,
                &quot;@vocab&quot;: &quot;http://music.com/&quot;
            },
            &quot;resourceTypes&quot;: [ &quot;http://music.com/Album&quot; ]
        }
    ],
    &quot;rebuildStrategy&quot;: {
        &quot;@type&quot;: &quot;Interval&quot;,
        &quot;value&quot;: &quot;10 minute&quot;
    }
}&#39;</code></pre></dd>
  <dt>Payload</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/views/composite/payload.json" target="_blank" title="Go to snippet source">source</a><code class="language-json">{
  &quot;@type&quot;: &quot;CompositeView&quot;,
  &quot;sources&quot;: [
    {
      &quot;@id&quot;: &quot;http://music.com/source_bands&quot;,
      &quot;@type&quot;: &quot;ProjectEventStream&quot;,
      &quot;resourceTypes&quot;: [ &quot;http://music.com/Band&quot; ]
    },
    {
      &quot;@id&quot;: &quot;http://music.com/source_albums&quot;,
      &quot;@type&quot;: &quot;CrossProjectEventStream&quot;,
      &quot;project&quot;: &quot;myorg/albums&quot;,
      &quot;identities&quot;: {
        &quot;@type&quot;: &quot;Anonymous&quot;
      },
      &quot;resourceTypes&quot;: [ &quot;http://music.com/Album&quot; ]
    },
    {
      &quot;@id&quot;: &quot;http://music.com/source_songs&quot;,
      &quot;@type&quot;: &quot;RemoteProjectEventStream&quot;,
      &quot;endpoint&quot;: &quot;http://localhost:8080/v1&quot;,
      &quot;project&quot;: &quot;myorg/songs&quot;,
      &quot;resourceTypes&quot;: [ &quot;http://music.com/Song&quot; ]
    }
  ],
  &quot;projections&quot;: [
    {
      &quot;@id&quot;: &quot;http://music.com/es&quot;,
      &quot;@type&quot;: &quot;ElasticSearchProjection&quot;,
      &quot;indexGroup&quot;: &quot;music&quot;,
      &quot;mapping&quot;: {
        &quot;properties&quot;: {
          &quot;@type&quot;: {
            &quot;type&quot;: &quot;keyword&quot;
          },
          &quot;@id&quot;: {
            &quot;type&quot;: &quot;keyword&quot;
          },
          &quot;name&quot;: {
            &quot;type&quot;: &quot;keyword&quot;
          },
          &quot;genre&quot;: {
            &quot;type&quot;: &quot;keyword&quot;
          },
          &quot;start&quot;: {
            &quot;type&quot;: &quot;integer&quot;
          },
          &quot;album&quot;: {
            &quot;type&quot;: &quot;nested&quot;,
            &quot;properties&quot;: {
              &quot;title&quot;: {
                &quot;type&quot;: &quot;text&quot;
              }
            }
          }
        },
        &quot;dynamic&quot;: false
      },
      &quot;query&quot;: &quot;prefix music: &lt;http://music.com/&gt; CONSTRUCT {{resource_id} music:name ?bandName ; music:genre      ?bandGenre ; music:start      ?bandStartYear ; music:album      ?albumId . ?albumId music:title ?albumTitle . } WHERE {{resource_id}   music:name       ?bandName ; music:start ?bandStartYear; music:genre ?bandGenre . OPTIONAL {{resource_id} ^music:by ?albumId . ?albumId        music:title   ?albumTitle . } }&quot;,
      &quot;context&quot;: {
        &quot;@base&quot;: &quot;http://music.com/&quot;,
        &quot;@vocab&quot;: &quot;http://music.com/&quot;
      },
      &quot;resourceTypes&quot;: [ &quot;http://music.com/Band&quot; ]
    },
    {
      &quot;@id&quot;: &quot;http://music.com/sparql&quot;,
      &quot;@type&quot;: &quot;SparqlProjection&quot;,
      &quot;query&quot;: &quot;prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; prefix music: &lt;http://music.com/&gt; prefix nxv: &lt;https://bluebrain.github.io/nexus/vocabulary/&gt; CONSTRUCT { {resource_id}             music:name               ?albumTitle ; music:length             ?albumLength ; music:numberOfSongs      ?numberOfSongs } WHERE {SELECT ?albumReleaseDate ?albumTitle (sum(xsd:integer(?songLength)) as ?albumLength) (count(?albumReleaseDate) as ?numberOfSongs) WHERE {OPTIONAL { {resource_id}           ^music:on / music:length   ?songLength } {resource_id} music:released             ?albumReleaseDate ; music:title                ?albumTitle . } GROUP BY ?albumReleaseDate ?albumTitle }&quot;,
      &quot;context&quot;: {
        &quot;@base&quot;: &quot;http://music.com/&quot;,
        &quot;@vocab&quot;: &quot;http://music.com/&quot;
      },
      &quot;resourceTypes&quot;: [ &quot;http://music.com/Album&quot; ]
    }
  ],
  &quot;rebuildStrategy&quot;: {
    &quot;@type&quot;: &quot;Interval&quot;,
    &quot;value&quot;: &quot;3 minute&quot;
  }
}</code></pre></dd>
  <dt>Response</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/views/composite/updated.json" target="_blank" title="Go to snippet source">source</a><code class="language-json">{
  &quot;@context&quot;: [
    &quot;https://bluebrain.github.io/nexus/contexts/composite-views-metadata.json&quot;,
    &quot;https://bluebrain.github.io/nexus/contexts/metadata.json&quot;
  ],
  &quot;@id&quot;: &quot;http://music.com/composite_view&quot;,
  &quot;@type&quot;: [
    &quot;View&quot;,
    &quot;CompositeView&quot;
  ],
  &quot;_constrainedBy&quot;: &quot;https://bluebrain.github.io/nexus/schemas/views.json&quot;,
  &quot;_createdAt&quot;: &quot;2021-05-17T14:43:41.763Z&quot;,
  &quot;_createdBy&quot;: &quot;http://localhost:8080/v1/anonymous&quot;,
  &quot;_deprecated&quot;: false,
  &quot;_incoming&quot;: &quot;http://localhost:8080/v1/views/myorg/bands/composite_view/incoming&quot;,
  &quot;_outgoing&quot;: &quot;http://localhost:8080/v1/views/myorg/bands/composite_view/outgoing&quot;,
  &quot;_project&quot;: &quot;http://localhost:8080/v1/projects/myorg/bands&quot;,
  &quot;_rev&quot;: 2,
  &quot;_self&quot;: &quot;http://localhost:8080/v1/views/myorg/bands/composite_view&quot;,
  &quot;_updatedAt&quot;: &quot;2021-05-17T14:55:45.472Z&quot;,
  &quot;_updatedBy&quot;: &quot;http://localhost:8080/v1/anonymous&quot;,
  &quot;_uuid&quot;: &quot;4b6fe5bf-675c-40bf-88ac-2b26575236c9&quot;
}</code></pre></dd>
</dl>
<h2><a href="#tag" name="tag" class="anchor"><span class="anchor-link"></span></a>Tag</h2>
<p>Links a view revision to a specific name.</p>
<p>Tagging a view is considered to be an update as well.</p>
<pre><code>POST /v1/views/{org_label}/{project_label}/{view_id}/tags?rev={previous_rev}
  {
    &quot;tag&quot;: &quot;{name}&quot;,
    &quot;rev&quot;: {rev}
  }
</code></pre>
<p>&hellip; where</p>
<ul>
  <li><code>{previous_rev}</code>: is the last known revision number for the resource.</li>
  <li><code>{name}</code>: String - label given to the view at specific revision.</li>
  <li><code>{rev}</code>: Number - the revision to link the provided <code>{name}</code>.</li>
</ul>
<p><strong>Example</strong></p>
<dl>
  <dt>Request</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/views/composite/tag.sh" target="_blank" title="Go to snippet source">source</a><code class="language-sh">curl -X POST \
     -H &quot;Content-Type: application/json&quot; \
     &quot;http://localhost:8080/v1/views/myorg/bands/composite_view/tags?rev=2&quot; \
     -d \
&#39;{
  &quot;tag&quot;: &quot;mytag&quot;,
  &quot;rev&quot;: 1
}&#39;</code></pre></dd>
  <dt>Payload</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/tag.json" target="_blank" title="Go to snippet source">source</a><code class="language-json">{
  &quot;tag&quot;: &quot;mytag&quot;,
  &quot;rev&quot;: 1
}</code></pre></dd>
  <dt>Response</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/views/composite/tagged.json" target="_blank" title="Go to snippet source">source</a><code class="language-json">{
  &quot;@context&quot;: [
    &quot;https://bluebrain.github.io/nexus/contexts/composite-views-metadata.json&quot;,
    &quot;https://bluebrain.github.io/nexus/contexts/metadata.json&quot;
  ],
  &quot;@id&quot;: &quot;http://music.com/composite_view&quot;,
  &quot;@type&quot;: [
    &quot;View&quot;,
    &quot;CompositeView&quot;
  ],
  &quot;_constrainedBy&quot;: &quot;https://bluebrain.github.io/nexus/schemas/views.json&quot;,
  &quot;_createdAt&quot;: &quot;2021-05-17T14:43:41.763Z&quot;,
  &quot;_createdBy&quot;: &quot;http://localhost:8080/v1/anonymous&quot;,
  &quot;_deprecated&quot;: false,
  &quot;_incoming&quot;: &quot;http://localhost:8080/v1/views/myorg/bands/composite_view/incoming&quot;,
  &quot;_outgoing&quot;: &quot;http://localhost:8080/v1/views/myorg/bands/composite_view/outgoing&quot;,
  &quot;_project&quot;: &quot;http://localhost:8080/v1/projects/myorg/bands&quot;,
  &quot;_rev&quot;: 3,
  &quot;_self&quot;: &quot;http://localhost:8080/v1/views/myorg/bands/composite_view&quot;,
  &quot;_updatedAt&quot;: &quot;2021-05-17T14:58:28.483Z&quot;,
  &quot;_updatedBy&quot;: &quot;http://localhost:8080/v1/anonymous&quot;,
  &quot;_uuid&quot;: &quot;4b6fe5bf-675c-40bf-88ac-2b26575236c9&quot;
}</code></pre></dd>
</dl>
<h2><a href="#deprecate" name="deprecate" class="anchor"><span class="anchor-link"></span></a>Deprecate</h2>
<p>Locks the view, so no further operations can be performed. It also stops indexing any more resources into it and deletes all the underlying Elasticsearch indices and Blazegraph namespaces.</p>
<p>Deprecating a view is considered to be an update as well.</p><div class="callout note warning"><div class="callout-title">Note</div>
<p>Deprecating a view deletes all the underlying Elasticsearch indices and Blazegraph namespaces, making the view not searchable.</p></div>
<pre><code>DELETE /v1/views/{org_label}/{project_label}/{view_id}?rev={previous_rev}
</code></pre>
<p>&hellip; where <code>{previous_rev}</code> is the last known revision number for the view.</p>
<p><strong>Example</strong></p>
<dl>
  <dt>Request</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/views/composite/deprecate.sh" target="_blank" title="Go to snippet source">source</a><code class="language-sh">curl -X DELETE \
     &quot;http://localhost:8080/v1/views/myorg/bands/composite_view?rev=3&quot;</code></pre></dd>
  <dt>Response</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/views/composite/deprecated.json" target="_blank" title="Go to snippet source">source</a><code class="language-json">{
  &quot;@context&quot;: [
    &quot;https://bluebrain.github.io/nexus/contexts/composite-views-metadata.json&quot;,
    &quot;https://bluebrain.github.io/nexus/contexts/metadata.json&quot;
  ],
  &quot;@id&quot;: &quot;http://music.com/composite_view&quot;,
  &quot;@type&quot;: [
    &quot;View&quot;,
    &quot;CompositeView&quot;
  ],
  &quot;_constrainedBy&quot;: &quot;https://bluebrain.github.io/nexus/schemas/views.json&quot;,
  &quot;_createdAt&quot;: &quot;2021-05-17T14:43:41.763Z&quot;,
  &quot;_createdBy&quot;: &quot;http://localhost:8080/v1/anonymous&quot;,
  &quot;_deprecated&quot;: true,
  &quot;_incoming&quot;: &quot;http://localhost:8080/v1/views/myorg/bands/composite_view/incoming&quot;,
  &quot;_outgoing&quot;: &quot;http://localhost:8080/v1/views/myorg/bands/composite_view/outgoing&quot;,
  &quot;_project&quot;: &quot;http://localhost:8080/v1/projects/myorg/bands&quot;,
  &quot;_rev&quot;: 4,
  &quot;_self&quot;: &quot;http://localhost:8080/v1/views/myorg/bands/composite_view&quot;,
  &quot;_updatedAt&quot;: &quot;2021-05-17T15:50:39.555Z&quot;,
  &quot;_updatedBy&quot;: &quot;http://localhost:8080/v1/anonymous&quot;,
  &quot;_uuid&quot;: &quot;4b6fe5bf-675c-40bf-88ac-2b26575236c9&quot;
}</code></pre></dd>
</dl>
<h2><a href="#fetch" name="fetch" class="anchor"><span class="anchor-link"></span></a>Fetch</h2>
<pre><code>GET /v1/views/{org_label}/{project_label}/{view_id}?rev={rev}&amp;tag={tag}
</code></pre>
<p>where &hellip;</p>
<ul>
  <li><code>{rev}</code>: Number - the targeted revision to be fetched. This field is optional and defaults to the latest revision.</li>
  <li><code>{tag}</code>: String - the targeted tag to be fetched. This field is optional.  <code>{rev}</code> and <code>{tag}</code> fields cannot be simultaneously present.</li>
</ul>
<p><strong>Example</strong></p>
<dl>
  <dt>Request</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/views/composite/fetch.sh" target="_blank" title="Go to snippet source">source</a><code class="language-sh">curl &quot;http://localhost:8080/v1/views/myorg/bands/composite_view?rev=3&quot;</code></pre></dd>
  <dt>Response</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/views/composite/fetched.json" target="_blank" title="Go to snippet source">source</a><code class="language-json">{
  &quot;@context&quot;: [
    &quot;https://bluebrain.github.io/nexus/contexts/composite-views.json&quot;,
    &quot;https://bluebrain.github.io/nexus/contexts/metadata.json&quot;
  ],
  &quot;@id&quot;: &quot;http://music.com/composite_view&quot;,
  &quot;@type&quot;: [
    &quot;View&quot;,
    &quot;CompositeView&quot;
  ],
  &quot;projections&quot;: [
    {
      &quot;@id&quot;: &quot;http://music.com/es&quot;,
      &quot;@type&quot;: &quot;ElasticSearchProjection&quot;,
      &quot;context&quot;: {
        &quot;@base&quot;: &quot;http://music.com/&quot;,
        &quot;@vocab&quot;: &quot;http://music.com/&quot;
      },
      &quot;includeDeprecated&quot;: false,
      &quot;includeMetadata&quot;: false,
      &quot;indexGroup&quot;: &quot;music&quot;,
      &quot;mapping&quot;: {
        &quot;dynamic&quot;: false,
        &quot;properties&quot;: {
          &quot;@id&quot;: {
            &quot;type&quot;: &quot;keyword&quot;
          },
          &quot;@type&quot;: {
            &quot;type&quot;: &quot;keyword&quot;
          },
          &quot;album&quot;: {
            &quot;properties&quot;: {
              &quot;title&quot;: {
                &quot;type&quot;: &quot;text&quot;
              }
            },
            &quot;type&quot;: &quot;nested&quot;
          },
          &quot;genre&quot;: {
            &quot;type&quot;: &quot;keyword&quot;
          },
          &quot;name&quot;: {
            &quot;type&quot;: &quot;keyword&quot;
          },
          &quot;start&quot;: {
            &quot;type&quot;: &quot;integer&quot;
          }
        }
      },
      &quot;permission&quot;: &quot;views/query&quot;,
      &quot;query&quot;: &quot;prefix music: &lt;http://music.com/&gt; CONSTRUCT {{resource_id} music:name ?bandName ; music:genre      ?bandGenre ; music:start      ?bandStartYear ; music:album      ?albumId . ?albumId music:title ?albumTitle . } WHERE {{resource_id}   music:name       ?bandName ; music:start ?bandStartYear; music:genre ?bandGenre . OPTIONAL {{resource_id} ^music:by ?albumId . ?albumId        music:title   ?albumTitle . } }&quot;,
      &quot;resourceSchemas&quot;: [],
      &quot;resourceTypes&quot;: [
        &quot;http://music.com/Band&quot;
      ],
      &quot;_uuid&quot;: &quot;4af5a80c-bac1-4d81-9c00-006da383716f&quot;
    },
    {
      &quot;@id&quot;: &quot;http://music.com/sparql&quot;,
      &quot;@type&quot;: &quot;SparqlProjection&quot;,
      &quot;includeDeprecated&quot;: false,
      &quot;includeMetadata&quot;: false,
      &quot;permission&quot;: &quot;views/query&quot;,
      &quot;query&quot;: &quot;prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; prefix music: &lt;http://music.com/&gt; prefix nxv: &lt;https://bluebrain.github.io/nexus/vocabulary/&gt; CONSTRUCT { {resource_id}             music:name               ?albumTitle ; music:length             ?albumLength ; music:numberOfSongs      ?numberOfSongs } WHERE {SELECT ?albumReleaseDate ?albumTitle (sum(xsd:integer(?songLength)) as ?albumLength) (count(?albumReleaseDate) as ?numberOfSongs) WHERE {OPTIONAL { {resource_id}           ^music:on / music:length   ?songLength } {resource_id} music:released             ?albumReleaseDate ; music:title                ?albumTitle . } GROUP BY ?albumReleaseDate ?albumTitle }&quot;,
      &quot;resourceSchemas&quot;: [],
      &quot;resourceTypes&quot;: [
        &quot;http://music.com/Album&quot;
      ],
      &quot;_uuid&quot;: &quot;a741d874-90d6-48b5-84c2-f87ecd689043&quot;
    }
  ],
  &quot;rebuildStrategy&quot;: {
    &quot;@type&quot;: &quot;Interval&quot;,
    &quot;value&quot;: &quot;3 minutes&quot;
  },
  &quot;sources&quot;: [
    {
      &quot;@id&quot;: &quot;http://music.com/source_bands&quot;,
      &quot;@type&quot;: &quot;ProjectEventStream&quot;,
      &quot;includeDeprecated&quot;: false,
      &quot;resourceSchemas&quot;: [],
      &quot;resourceTypes&quot;: [
        &quot;http://music.com/Band&quot;
      ],
      &quot;_uuid&quot;: &quot;df5ea885-f0c8-4e8b-8dd2-9ed0bd715ec0&quot;
    },
    {
      &quot;@id&quot;: &quot;http://music.com/source_albums&quot;,
      &quot;@type&quot;: &quot;CrossProjectEventStream&quot;,
      &quot;identities&quot;: [
        {
          &quot;@id&quot;: &quot;http://localhost:8080/v1/anonymous&quot;,
          &quot;@type&quot;: &quot;Anonymous&quot;
        }
      ],
      &quot;includeDeprecated&quot;: false,
      &quot;project&quot;: &quot;myorg/albums&quot;,
      &quot;resourceSchemas&quot;: [],
      &quot;resourceTypes&quot;: [
        &quot;http://music.com/Album&quot;
      ],
      &quot;_uuid&quot;: &quot;eccca1d3-3044-4494-bde6-6c79f56fa649&quot;
    },
    {
      &quot;@id&quot;: &quot;http://music.com/source_songs&quot;,
      &quot;@type&quot;: &quot;RemoteProjectEventStream&quot;,
      &quot;endpoint&quot;: &quot;http://localhost:8080/v1&quot;,
      &quot;includeDeprecated&quot;: false,
      &quot;project&quot;: &quot;myorg/songs&quot;,
      &quot;resourceSchemas&quot;: [],
      &quot;resourceTypes&quot;: [
        &quot;http://music.com/Song&quot;
      ],
      &quot;_uuid&quot;: &quot;aa788720-8e0c-4504-8d54-24c597e261e5&quot;
    }
  ],
  &quot;_constrainedBy&quot;: &quot;https://bluebrain.github.io/nexus/schemas/views.json&quot;,
  &quot;_createdAt&quot;: &quot;2021-05-17T14:43:41.763Z&quot;,
  &quot;_createdBy&quot;: &quot;http://localhost:8080/v1/anonymous&quot;,
  &quot;_deprecated&quot;: false,
  &quot;_incoming&quot;: &quot;http://localhost:8080/v1/views/myorg/bands/composite_view/incoming&quot;,
  &quot;_outgoing&quot;: &quot;http://localhost:8080/v1/views/myorg/bands/composite_view/outgoing&quot;,
  &quot;_project&quot;: &quot;http://localhost:8080/v1/projects/myorg/bands&quot;,
  &quot;_rev&quot;: 3,
  &quot;_self&quot;: &quot;http://localhost:8080/v1/views/myorg/bands/composite_view&quot;,
  &quot;_updatedAt&quot;: &quot;2021-05-17T14:58:28.483Z&quot;,
  &quot;_updatedBy&quot;: &quot;http://localhost:8080/v1/anonymous&quot;,
  &quot;_uuid&quot;: &quot;4b6fe5bf-675c-40bf-88ac-2b26575236c9&quot;
}</code></pre></dd>
</dl>
<p>If the <a href="../../../getting-started/running-nexus/configuration/index.html#fusion-configuration">redirect to Fusion feature</a> is enabled and if the <code>Accept</code> header is set to <code>text/html</code>, a redirection to the fusion representation of the resource will be returned.</p>
<h2><a href="#fetch-original-payload" name="fetch-original-payload" class="anchor"><span class="anchor-link"></span></a>Fetch original payload</h2>
<pre><code>GET /v1/views/{org_label}/{project_label}/{view_id}/source?rev={rev}&amp;tag={tag}
</code></pre>
<p>where &hellip;</p>
<ul>
  <li><code>{rev}</code>: Number - the targeted revision to be fetched. This field is optional and defaults to the latest revision.</li>
  <li><code>{tag}</code>: String - the targeted tag to be fetched. This field is optional.  <code>{rev}</code> and <code>{tag}</code> fields cannot be simultaneously present.</li>
</ul>
<p><strong>Example</strong></p>
<dl>
  <dt>Request</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/views/composite/fetch-source.sh" target="_blank" title="Go to snippet source">source</a><code class="language-sh">curl &quot;http://localhost:8080/v1/views/myorg/bands/composite_view/source&quot;</code></pre></dd>
  <dt>Response</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/views/composite/payload.json" target="_blank" title="Go to snippet source">source</a><code class="language-json">{
  &quot;@type&quot;: &quot;CompositeView&quot;,
  &quot;sources&quot;: [
    {
      &quot;@id&quot;: &quot;http://music.com/source_bands&quot;,
      &quot;@type&quot;: &quot;ProjectEventStream&quot;,
      &quot;resourceTypes&quot;: [ &quot;http://music.com/Band&quot; ]
    },
    {
      &quot;@id&quot;: &quot;http://music.com/source_albums&quot;,
      &quot;@type&quot;: &quot;CrossProjectEventStream&quot;,
      &quot;project&quot;: &quot;myorg/albums&quot;,
      &quot;identities&quot;: {
        &quot;@type&quot;: &quot;Anonymous&quot;
      },
      &quot;resourceTypes&quot;: [ &quot;http://music.com/Album&quot; ]
    },
    {
      &quot;@id&quot;: &quot;http://music.com/source_songs&quot;,
      &quot;@type&quot;: &quot;RemoteProjectEventStream&quot;,
      &quot;endpoint&quot;: &quot;http://localhost:8080/v1&quot;,
      &quot;project&quot;: &quot;myorg/songs&quot;,
      &quot;resourceTypes&quot;: [ &quot;http://music.com/Song&quot; ]
    }
  ],
  &quot;projections&quot;: [
    {
      &quot;@id&quot;: &quot;http://music.com/es&quot;,
      &quot;@type&quot;: &quot;ElasticSearchProjection&quot;,
      &quot;indexGroup&quot;: &quot;music&quot;,
      &quot;mapping&quot;: {
        &quot;properties&quot;: {
          &quot;@type&quot;: {
            &quot;type&quot;: &quot;keyword&quot;
          },
          &quot;@id&quot;: {
            &quot;type&quot;: &quot;keyword&quot;
          },
          &quot;name&quot;: {
            &quot;type&quot;: &quot;keyword&quot;
          },
          &quot;genre&quot;: {
            &quot;type&quot;: &quot;keyword&quot;
          },
          &quot;start&quot;: {
            &quot;type&quot;: &quot;integer&quot;
          },
          &quot;album&quot;: {
            &quot;type&quot;: &quot;nested&quot;,
            &quot;properties&quot;: {
              &quot;title&quot;: {
                &quot;type&quot;: &quot;text&quot;
              }
            }
          }
        },
        &quot;dynamic&quot;: false
      },
      &quot;query&quot;: &quot;prefix music: &lt;http://music.com/&gt; CONSTRUCT {{resource_id} music:name ?bandName ; music:genre      ?bandGenre ; music:start      ?bandStartYear ; music:album      ?albumId . ?albumId music:title ?albumTitle . } WHERE {{resource_id}   music:name       ?bandName ; music:start ?bandStartYear; music:genre ?bandGenre . OPTIONAL {{resource_id} ^music:by ?albumId . ?albumId        music:title   ?albumTitle . } }&quot;,
      &quot;context&quot;: {
        &quot;@base&quot;: &quot;http://music.com/&quot;,
        &quot;@vocab&quot;: &quot;http://music.com/&quot;
      },
      &quot;resourceTypes&quot;: [ &quot;http://music.com/Band&quot; ]
    },
    {
      &quot;@id&quot;: &quot;http://music.com/sparql&quot;,
      &quot;@type&quot;: &quot;SparqlProjection&quot;,
      &quot;query&quot;: &quot;prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; prefix music: &lt;http://music.com/&gt; prefix nxv: &lt;https://bluebrain.github.io/nexus/vocabulary/&gt; CONSTRUCT { {resource_id}             music:name               ?albumTitle ; music:length             ?albumLength ; music:numberOfSongs      ?numberOfSongs } WHERE {SELECT ?albumReleaseDate ?albumTitle (sum(xsd:integer(?songLength)) as ?albumLength) (count(?albumReleaseDate) as ?numberOfSongs) WHERE {OPTIONAL { {resource_id}           ^music:on / music:length   ?songLength } {resource_id} music:released             ?albumReleaseDate ; music:title                ?albumTitle . } GROUP BY ?albumReleaseDate ?albumTitle }&quot;,
      &quot;context&quot;: {
        &quot;@base&quot;: &quot;http://music.com/&quot;,
        &quot;@vocab&quot;: &quot;http://music.com/&quot;
      },
      &quot;resourceTypes&quot;: [ &quot;http://music.com/Album&quot; ]
    }
  ],
  &quot;rebuildStrategy&quot;: {
    &quot;@type&quot;: &quot;Interval&quot;,
    &quot;value&quot;: &quot;3 minute&quot;
  }
}</code></pre></dd>
</dl>
<h2><a href="#fetch-tags" name="fetch-tags" class="anchor"><span class="anchor-link"></span></a>Fetch tags</h2>
<pre><code>GET /v1/views/{org_label}/{project_label}/{view_id}/tags?rev={rev}&amp;tag={tag}
</code></pre>
<p>where &hellip;</p>
<ul>
  <li><code>{rev}</code>: Number - the targeted revision to be fetched. This field is optional and defaults to the latest revision.</li>
  <li><code>{tag}</code>: String - the targeted tag to be fetched. This field is optional.</li>
</ul>
<p><code>{rev}</code> and <code>{tag}</code> fields cannot be simultaneously present.</p>
<p><strong>Example</strong></p>
<dl>
  <dt>Request</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/views/composite/tags.sh" target="_blank" title="Go to snippet source">source</a><code class="language-sh">curl &quot;http://localhost:8080/v1/views/myorg/bands/composite_view/tags&quot;</code></pre></dd>
  <dt>Response</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/tags.json" target="_blank" title="Go to snippet source">source</a><code class="language-json">{
  &quot;@context&quot;: &quot;https://bluebrain.github.io/nexus/contexts/tags.json&quot;,
  &quot;tags&quot;: [
    {
      &quot;rev&quot;: 1,
      &quot;tag&quot;: &quot;mytag&quot;
    }
  ]
}</code></pre></dd>
</dl>
<h2><a href="#search-documents-in-projection-s-" name="search-documents-in-projection-s-" class="anchor"><span class="anchor-link"></span></a>Search Documents in projection(s)</h2>
<pre><code>POST /v1/views/{org_label}/{project_label}/{view_id}/projections/{projection_id}/_search
  {...}
</code></pre>
<p>where <code>{projection_id}</code> is the @id value of the target <code>ElasticSearch</code> projection. The reserved value <code>_</code> means &ldquo;every projection&rdquo;.</p>
<p>The supported payload is defined on the <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-search.html#search-search-api-request-body" title="ElasticSearch documentation" target="_blank" rel="noopener noreferrer">ElasticSearch documentation</a></p>
<p><strong>Example</strong></p>
<dl>
  <dt>Request</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/views/composite/es-query.sh" target="_blank" title="Go to snippet source">source</a><code class="language-sh">curl -X POST \
     -H &quot;Content-Type: application/json&quot; \
     &quot;http://localhost:8080/v1/views/myorg/bands/composite_view/projections/music:es/_search&quot; \
     -d \
&#39;{
    &quot;query&quot;: {
        &quot;match&quot;: {
            &quot;name&quot;: &quot;Muse&quot;
        }
    }
}&#39;</code></pre></dd>
  <dt>Payload</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/views/composite/es-query.json" target="_blank" title="Go to snippet source">source</a><code class="language-json">{
    &quot;query&quot;: {
        &quot;match&quot;: {
            &quot;name&quot;: &quot;Muse&quot;
        }
    }
}</code></pre></dd>
  <dt>Response</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/views/composite/es-query-response.json" target="_blank" title="Go to snippet source">source</a><code class="language-json">{
  &quot;hits&quot;: {
    &quot;hits&quot;: [
      {
        &quot;_id&quot;: &quot;http://music.com/muse&quot;,
        &quot;_index&quot;: &quot;tests_4b6fe5bf-675c-40bf-88ac-2b26575236c9_4af5a80c-bac1-4d81-9c00-006da383716f_3&quot;,
        &quot;_score&quot;: 0.6931471,
        &quot;_source&quot;: {
          &quot;@id&quot;: &quot;muse&quot;,
          &quot;album&quot;: [
            {
              &quot;@id&quot;: &quot;absolution&quot;,
              &quot;title&quot;: &quot;Absolution&quot;
            },
            {
              &quot;@id&quot;: &quot;black_holes_and_revelations&quot;,
              &quot;title&quot;: &quot;Black Holes &amp; Revelations&quot;
            }
          ],
          &quot;genre&quot;: [
            &quot;alternative rock&quot;,
            &quot;progressive rock&quot;,
            &quot;electronica&quot;,
            &quot;art rock&quot;,
            &quot;hard rock&quot;,
            &quot;space rock&quot;
          ],
          &quot;name&quot;: &quot;Muse&quot;,
          &quot;start&quot;: 1994
        }
      }
    ],
    &quot;max_score&quot;: 0.6931471,
    &quot;total&quot;: {
      &quot;relation&quot;: &quot;eq&quot;,
      &quot;value&quot;: 1
    }
  },
  &quot;timed_out&quot;: false,
  &quot;took&quot;: 2,
  &quot;_shards&quot;: {
    &quot;failed&quot;: 0,
    &quot;skipped&quot;: 0,
    &quot;successful&quot;: 1,
    &quot;total&quot;: 1
  }
}</code></pre></dd>
</dl>
<h2><a href="#sparql-query-in-projection-s-" name="sparql-query-in-projection-s-" class="anchor"><span class="anchor-link"></span></a>SPARQL query in projection(s)</h2>
<pre><code>POST /v1/views/{org_label}/{project_label}/{view_id}/projections/{projection_id}/sparql
  {query}
</code></pre>
<pre><code>GET /v1/views/{org_label}/{project_label}/{view_id}/projections/{projection_id}/sparql?query={query}
</code></pre>
<p>where <code>{projection_id}</code> is the @id value of the target <code>Sparql</code> projection. The reserved value <code>_</code> means &ldquo;every projection&rdquo;.</p>
<p>In both endpoints, <code>{query}</code> is defined by the <a href="https://www.w3.org/TR/rdf-sparql-query/#basicpatterns" title="SPARQL documentation" target="_blank" rel="noopener noreferrer">SPARQL documentation</a></p>
<p>The <code>Content-Type</code> HTTP header for POST request is <code>application/sparql-query</code>.</p>
<p>From Delta 1.5, we have added support for multiple Content Negotiation types when querying the SPARQL view, allowing clients to request different response formats. The Content Negotiation is controlled by the HTTP <code>Accept</code> header. The following values are supported:</p>
<ul>
  <li><strong>application/ld+json</strong>: Returns an expanded JSON-LD document. This is supported for a subset of SPARQL queries.</li>
  <li><strong>application/n-triples</strong>: Returns the n-triples representation. This is supported for a subset of SPARQL queries</li>
  <li><strong>application/rdf+xml</strong>: Returns an XML document.</li>
  <li><strong>application/sparql-results+xml</strong>: Returns the sparql results in XML.</li>
  <li><strong>application/sparql-results+json</strong>: Returns the sparql results in Json (default).</li>
</ul>
<p><strong>Example</strong></p>
<dl>
  <dt>Request</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/views/composite/sparql-query.sh" target="_blank" title="Go to snippet source">source</a><code class="language-sh">curl -X POST \
     -H &quot;Content-Type: application/sparql-query&quot; \
     -H &quot;Accept: application/n-triples&quot; \
     &quot;http://localhost:8080/v1/views/myorg/bands/composite_view/projections/_/sparql&quot; \
     -d \
&#39;prefix music: &lt;http://music.com/&gt;
CONSTRUCT {
    ?s ?p ?o
} WHERE {
    ?s ?p ?o FILTER(?s = music:absolution)
}&#39;</code></pre></dd>
  <dt>Response</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/views/composite/sparql-query-response.txt" target="_blank" title="Go to snippet source">source</a><code class="language-txt">&lt;http://music.com/absolution&gt; &lt;http://music.com/name&gt; &quot;Absolution&quot; .
&lt;http://music.com/absolution&gt; &lt;http://music.com/numberOfSongs&gt; &quot;2&quot;^^&lt;http://www.w3.org/2001/XMLSchema#integer&gt; .
&lt;http://music.com/absolution&gt; &lt;http://music.com/length&gt; &quot;488&quot;^^&lt;http://www.w3.org/2001/XMLSchema#integer&gt; .</code></pre></dd>
</dl>
<h2><a href="#sparql-query-in-the-intermediate-space" name="sparql-query-in-the-intermediate-space" class="anchor"><span class="anchor-link"></span></a>SPARQL query in the intermediate space</h2>
<pre><code>POST /v1/views/{org_label}/{project_label}/{view_id}/sparql
  {query}
</code></pre>
<pre><code>GET /v1/views/{org_label}/{project_label}/{view_id}/sparql?query={query}
</code></pre>
<p>In both endpoints, <code>{query}</code> is defined by the <a href="https://www.w3.org/TR/rdf-sparql-query/#basicpatterns" title="SPARQL documentation" target="_blank" rel="noopener noreferrer">SPARQL documentation</a></p>
<p>The <code>Content-Type</code> HTTP header for POST request is <code>application/sparql-query</code>.</p>
<p>From Delta 1.5, we have added support for multiple Content Negotiation types when querying the SPARQL view, allowing clients to request different response formats. The Content Negotiation is controlled by the HTTP <code>Accept</code> header. The following values are supported:</p>
<ul>
  <li><strong>application/ld+json</strong>: Returns an expanded JSON-LD document. This is supported for a subset of SPARQL queries.</li>
  <li><strong>application/n-triples</strong>: Returns the n-triples representation. This is supported for a subset of SPARQL queries</li>
  <li><strong>application/rdf+xml</strong>: Returns an XML document.</li>
  <li><strong>application/sparql-results+xml</strong>: Returns the sparql results in XML.</li>
  <li><strong>application/sparql-results+json</strong>: Returns the sparql results in Json (default).</li>
</ul>
<p><strong>Example</strong></p>
<dl>
  <dt>Request</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/views/composite/sparql-query-intermediate.sh" target="_blank" title="Go to snippet source">source</a><code class="language-sh">curl -X POST \
     -H &quot;Content-Type: application/sparql-query&quot; \
     -H &quot;Accept: application/n-triples&quot; \
     &quot;http://localhost:8080/v1/views/myorg/bands/composite_view/sparql&quot; \
     -d \
&#39;prefix music: &lt;http://music.com/&gt;
CONSTRUCT {
    ?s ?p ?o
} WHERE {
    ?s ?p ?o FILTER(?s = music:absolution)
}&#39;</code></pre></dd>
  <dt>Response</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/views/composite/sparql-query-intermediate-response.txt" target="_blank" title="Go to snippet source">source</a><code class="language-txt">&lt;http://music.com/absolution&gt; &lt;https://bluebrain.github.io/nexus/vocabulary/self&gt; &lt;http://localhost:8080/v1/resources/myorg/albums/_/absolution&gt; .
&lt;http://music.com/absolution&gt; &lt;https://bluebrain.github.io/nexus/vocabulary/updatedAt&gt; &quot;2021-05-17T14:36:44.992Z&quot;^^&lt;http://www.w3.org/2001/XMLSchema#dateTime&gt; .
&lt;http://music.com/absolution&gt; &lt;http://music.com/label&gt; &quot;Warner Bros.&quot; .
&lt;http://music.com/absolution&gt; &lt;https://bluebrain.github.io/nexus/vocabulary/schemaProject&gt; &lt;http://localhost:8080/v1/projects/myorg/albums&gt; .
&lt;http://music.com/absolution&gt; &lt;http://music.com/released&gt; &quot;2003-09-15&quot; .
&lt;http://music.com/absolution&gt; &lt;https://bluebrain.github.io/nexus/vocabulary/deprecated&gt; &quot;false&quot;^^&lt;http://www.w3.org/2001/XMLSchema#boolean&gt; .
&lt;http://music.com/absolution&gt; &lt;http://music.com/label&gt; &quot;Taste&quot; .
&lt;http://music.com/absolution&gt; &lt;http://music.com/title&gt; &quot;Absolution&quot; .
&lt;http://music.com/absolution&gt; &lt;http://music.com/label&gt; &quot;East West&quot; .
&lt;http://music.com/absolution&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://music.com/Album&gt; .
&lt;http://music.com/absolution&gt; &lt;https://bluebrain.github.io/nexus/vocabulary/updatedBy&gt; &lt;http://localhost:8080/v1/anonymous&gt; .
&lt;http://music.com/absolution&gt; &lt;http://music.com/by&gt; &lt;http://music.com/muse&gt; .
&lt;http://music.com/absolution&gt; &lt;https://bluebrain.github.io/nexus/vocabulary/project&gt; &lt;http://localhost:8080/v1/projects/myorg/albums&gt; .
&lt;http://music.com/absolution&gt; &lt;https://bluebrain.github.io/nexus/vocabulary/createdAt&gt; &quot;2021-05-17T14:36:44.992Z&quot;^^&lt;http://www.w3.org/2001/XMLSchema#dateTime&gt; .
&lt;http://music.com/absolution&gt; &lt;https://bluebrain.github.io/nexus/vocabulary/constrainedBy&gt; &lt;https://bluebrain.github.io/nexus/schemas/unconstrained.json&gt; .
&lt;http://music.com/absolution&gt; &lt;https://bluebrain.github.io/nexus/vocabulary/createdBy&gt; &lt;http://localhost:8080/v1/anonymous&gt; .
&lt;http://music.com/absolution&gt; &lt;https://bluebrain.github.io/nexus/vocabulary/outgoing&gt; &lt;http://localhost:8080/v1/resources/myorg/albums/_/absolution/outgoing&gt; .
&lt;http://music.com/absolution&gt; &lt;https://bluebrain.github.io/nexus/vocabulary/rev&gt; &quot;1&quot;^^&lt;http://www.w3.org/2001/XMLSchema#integer&gt; .
&lt;http://music.com/absolution&gt; &lt;https://bluebrain.github.io/nexus/vocabulary/incoming&gt; &lt;http://localhost:8080/v1/resources/myorg/albums/_/absolution/incoming&gt; .</code></pre></dd>
</dl>
<h2><a href="#fetch-statistics" name="fetch-statistics" class="anchor"><span class="anchor-link"></span></a>Fetch statistics</h2>
<p>This endpoint displays statistical information about each of the composite view projections.</p>
<pre><code>GET /v1/views/{org_label}/{project_label}/{view_id}/statistics
</code></pre>
<p><strong>Example</strong></p>
<dl>
  <dt>Request</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/views/composite/statistics-intermediate.sh" target="_blank" title="Go to snippet source">source</a><code class="language-sh">curl &quot;http://localhost:8080/v1/views/myorg/bands/composite_view/statistics&quot;</code></pre></dd>
  <dt>Response</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/views/composite/statistics-response.json" target="_blank" title="Go to snippet source">source</a><code class="language-json">{
  &quot;@context&quot;: [
    &quot;https://bluebrain.github.io/nexus/contexts/metadata.json&quot;,
    &quot;https://bluebrain.github.io/nexus/contexts/search.json&quot;,
    &quot;https://bluebrain.github.io/nexus/contexts/statistics.json&quot;
  ],
  &quot;_total&quot;: 6,
  &quot;_results&quot;: [
    {
      &quot;sourceId&quot;: &quot;http://music.com/source_albums&quot;,
      &quot;projectionId&quot;: &quot;http://music.com/es&quot;,
      &quot;delayInSeconds&quot;: 0,
      &quot;discardedEvents&quot;: 0,
      &quot;evaluatedEvents&quot;: 10,
      &quot;failedEvents&quot;: 0,
      &quot;lastEventDateTime&quot;: &quot;2021-05-17T14:37:06.893Z&quot;,
      &quot;lastProcessedEventDateTime&quot;: &quot;2021-05-17T14:37:06.893Z&quot;,
      &quot;processedEvents&quot;: 10,
      &quot;remainingEvents&quot;: 0,
      &quot;totalEvents&quot;: 10
    },
    {
      &quot;sourceId&quot;: &quot;http://music.com/source_albums&quot;,
      &quot;projectionId&quot;: &quot;http://music.com/sparql&quot;,
      &quot;delayInSeconds&quot;: 0,
      &quot;discardedEvents&quot;: 0,
      &quot;evaluatedEvents&quot;: 10,
      &quot;failedEvents&quot;: 0,
      &quot;lastEventDateTime&quot;: &quot;2021-05-17T14:37:06.893Z&quot;,
      &quot;lastProcessedEventDateTime&quot;: &quot;2021-05-17T14:37:06.893Z&quot;,
      &quot;processedEvents&quot;: 10,
      &quot;remainingEvents&quot;: 0,
      &quot;totalEvents&quot;: 10
    },
    {
      &quot;sourceId&quot;: &quot;http://music.com/source_bands&quot;,
      &quot;projectionId&quot;: &quot;http://music.com/es&quot;,
      &quot;delayInSeconds&quot;: 0,
      &quot;discardedEvents&quot;: 1,
      &quot;evaluatedEvents&quot;: 11,
      &quot;failedEvents&quot;: 0,
      &quot;lastEventDateTime&quot;: &quot;2021-05-17T14:58:28.483Z&quot;,
      &quot;lastProcessedEventDateTime&quot;: &quot;2021-05-17T14:58:28.483Z&quot;,
      &quot;processedEvents&quot;: 12,
      &quot;remainingEvents&quot;: 0,
      &quot;totalEvents&quot;: 12
    },
    {
      &quot;sourceId&quot;: &quot;http://music.com/source_bands&quot;,
      &quot;projectionId&quot;: &quot;http://music.com/sparql&quot;,
      &quot;delayInSeconds&quot;: 0,
      &quot;discardedEvents&quot;: 1,
      &quot;evaluatedEvents&quot;: 11,
      &quot;failedEvents&quot;: 0,
      &quot;lastEventDateTime&quot;: &quot;2021-05-17T14:58:28.483Z&quot;,
      &quot;lastProcessedEventDateTime&quot;: &quot;2021-05-17T14:58:28.483Z&quot;,
      &quot;processedEvents&quot;: 12,
      &quot;remainingEvents&quot;: 0,
      &quot;totalEvents&quot;: 12
    },
    {
      &quot;sourceId&quot;: &quot;http://music.com/source_songs&quot;,
      &quot;projectionId&quot;: &quot;http://music.com/es&quot;,
      &quot;delayInSeconds&quot;: 0,
      &quot;discardedEvents&quot;: 1,
      &quot;evaluatedEvents&quot;: 13,
      &quot;failedEvents&quot;: 0,
      &quot;lastEventDateTime&quot;: &quot;2021-05-17T14:37:38.397Z&quot;,
      &quot;lastProcessedEventDateTime&quot;: &quot;2021-05-17T14:37:38.397Z&quot;,
      &quot;processedEvents&quot;: 14,
      &quot;remainingEvents&quot;: 0,
      &quot;totalEvents&quot;: 14
    },
    {
      &quot;sourceId&quot;: &quot;http://music.com/source_songs&quot;,
      &quot;projectionId&quot;: &quot;http://music.com/sparql&quot;,
      &quot;delayInSeconds&quot;: 0,
      &quot;discardedEvents&quot;: 1,
      &quot;evaluatedEvents&quot;: 13,
      &quot;failedEvents&quot;: 0,
      &quot;lastEventDateTime&quot;: &quot;2021-05-17T14:37:38.397Z&quot;,
      &quot;lastProcessedEventDateTime&quot;: &quot;2021-05-17T14:37:38.397Z&quot;,
      &quot;processedEvents&quot;: 14,
      &quot;remainingEvents&quot;: 0,
      &quot;totalEvents&quot;: 14
    }
  ]
}</code></pre></dd>
</dl>
<p>where:</p>
<ul>
  <li><code>totalEvents</code> - sum of total number of events from each source</li>
  <li><code>processedEvents</code> - sum of number of events that have been considered by each source</li>
  <li><code>remainingEvents</code> - sum of number of events that remain to be considered by each source</li>
  <li><code>discardedEvents</code> - sum of number of events that have been discarded by each source (were not evaluated due to  filters, e.g. did not match schema, tag or type defined in the source)</li>
  <li><code>evaluatedEvents</code> - sum of number of events that have been used to update the intermediate Sparql space of each source</li>
  <li><code>lastEventDateTime</code> - timestamp of the last event in the sources</li>
  <li><code>lastProcessedEventDateTime</code> - timestamp of the last event processed by the sources</li>
  <li><code>delayInSeconds</code> - number of seconds between the last processed event timestamp and the last known event timestamp</li>
  <li><code>sourceId</code> - the @id unique value of the source</li>
</ul>
<h2><a href="#fetch-source-s-statistics" name="fetch-source-s-statistics" class="anchor"><span class="anchor-link"></span></a>Fetch source(s) statistics</h2>
<p>This endpoint displays statistical information about the projections related to the <code>{source_id}</code> source.</p>
<pre><code>GET /v1/views/{org_label}/{project_label}/{view_id}/sources/{source_id}/statistics
</code></pre>
<p>where <code>{source_id}</code> is the @id value of the source. The reserved value <code>_</code> means &ldquo;every source&rdquo;.</p>
<p><strong>Example</strong></p>
<dl>
  <dt>Request</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/views/composite/statistics-sources.sh" target="_blank" title="Go to snippet source">source</a><code class="language-sh">curl &quot;http://localhost:8080/v1/views/myorg/bands/composite_view/sources/_/statistics&quot;</code></pre></dd>
  <dt>Response</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/views/composite/statistics-response.json" target="_blank" title="Go to snippet source">source</a><code class="language-json">{
  &quot;@context&quot;: [
    &quot;https://bluebrain.github.io/nexus/contexts/metadata.json&quot;,
    &quot;https://bluebrain.github.io/nexus/contexts/search.json&quot;,
    &quot;https://bluebrain.github.io/nexus/contexts/statistics.json&quot;
  ],
  &quot;_total&quot;: 6,
  &quot;_results&quot;: [
    {
      &quot;sourceId&quot;: &quot;http://music.com/source_albums&quot;,
      &quot;projectionId&quot;: &quot;http://music.com/es&quot;,
      &quot;delayInSeconds&quot;: 0,
      &quot;discardedEvents&quot;: 0,
      &quot;evaluatedEvents&quot;: 10,
      &quot;failedEvents&quot;: 0,
      &quot;lastEventDateTime&quot;: &quot;2021-05-17T14:37:06.893Z&quot;,
      &quot;lastProcessedEventDateTime&quot;: &quot;2021-05-17T14:37:06.893Z&quot;,
      &quot;processedEvents&quot;: 10,
      &quot;remainingEvents&quot;: 0,
      &quot;totalEvents&quot;: 10
    },
    {
      &quot;sourceId&quot;: &quot;http://music.com/source_albums&quot;,
      &quot;projectionId&quot;: &quot;http://music.com/sparql&quot;,
      &quot;delayInSeconds&quot;: 0,
      &quot;discardedEvents&quot;: 0,
      &quot;evaluatedEvents&quot;: 10,
      &quot;failedEvents&quot;: 0,
      &quot;lastEventDateTime&quot;: &quot;2021-05-17T14:37:06.893Z&quot;,
      &quot;lastProcessedEventDateTime&quot;: &quot;2021-05-17T14:37:06.893Z&quot;,
      &quot;processedEvents&quot;: 10,
      &quot;remainingEvents&quot;: 0,
      &quot;totalEvents&quot;: 10
    },
    {
      &quot;sourceId&quot;: &quot;http://music.com/source_bands&quot;,
      &quot;projectionId&quot;: &quot;http://music.com/es&quot;,
      &quot;delayInSeconds&quot;: 0,
      &quot;discardedEvents&quot;: 1,
      &quot;evaluatedEvents&quot;: 11,
      &quot;failedEvents&quot;: 0,
      &quot;lastEventDateTime&quot;: &quot;2021-05-17T14:58:28.483Z&quot;,
      &quot;lastProcessedEventDateTime&quot;: &quot;2021-05-17T14:58:28.483Z&quot;,
      &quot;processedEvents&quot;: 12,
      &quot;remainingEvents&quot;: 0,
      &quot;totalEvents&quot;: 12
    },
    {
      &quot;sourceId&quot;: &quot;http://music.com/source_bands&quot;,
      &quot;projectionId&quot;: &quot;http://music.com/sparql&quot;,
      &quot;delayInSeconds&quot;: 0,
      &quot;discardedEvents&quot;: 1,
      &quot;evaluatedEvents&quot;: 11,
      &quot;failedEvents&quot;: 0,
      &quot;lastEventDateTime&quot;: &quot;2021-05-17T14:58:28.483Z&quot;,
      &quot;lastProcessedEventDateTime&quot;: &quot;2021-05-17T14:58:28.483Z&quot;,
      &quot;processedEvents&quot;: 12,
      &quot;remainingEvents&quot;: 0,
      &quot;totalEvents&quot;: 12
    },
    {
      &quot;sourceId&quot;: &quot;http://music.com/source_songs&quot;,
      &quot;projectionId&quot;: &quot;http://music.com/es&quot;,
      &quot;delayInSeconds&quot;: 0,
      &quot;discardedEvents&quot;: 1,
      &quot;evaluatedEvents&quot;: 13,
      &quot;failedEvents&quot;: 0,
      &quot;lastEventDateTime&quot;: &quot;2021-05-17T14:37:38.397Z&quot;,
      &quot;lastProcessedEventDateTime&quot;: &quot;2021-05-17T14:37:38.397Z&quot;,
      &quot;processedEvents&quot;: 14,
      &quot;remainingEvents&quot;: 0,
      &quot;totalEvents&quot;: 14
    },
    {
      &quot;sourceId&quot;: &quot;http://music.com/source_songs&quot;,
      &quot;projectionId&quot;: &quot;http://music.com/sparql&quot;,
      &quot;delayInSeconds&quot;: 0,
      &quot;discardedEvents&quot;: 1,
      &quot;evaluatedEvents&quot;: 13,
      &quot;failedEvents&quot;: 0,
      &quot;lastEventDateTime&quot;: &quot;2021-05-17T14:37:38.397Z&quot;,
      &quot;lastProcessedEventDateTime&quot;: &quot;2021-05-17T14:37:38.397Z&quot;,
      &quot;processedEvents&quot;: 14,
      &quot;remainingEvents&quot;: 0,
      &quot;totalEvents&quot;: 14
    }
  ]
}</code></pre></dd>
</dl>
<p>where:</p>
<ul>
  <li><code>totalEvents</code> - total number of events for the provided source</li>
  <li><code>processedEvents</code> - number of events that have been considered by the provided source</li>
  <li><code>remainingEvents</code> - number of events that remain to be considered by the provided source</li>
  <li><code>discardedEvents</code> - number of events that have been discarded by the provided source (were not evaluated due to  filters, e.g. did not match schema, tag or type defined in the source)</li>
  <li><code>evaluatedEvents</code> - number of events that have been used to update the intermediate Sparql of the provided source</li>
  <li><code>lastEventDateTime</code> - timestamp of the last event from the provided source</li>
  <li><code>lastProcessedEventDateTime</code> - timestamp of the last event processed by the provided source</li>
  <li><code>delayInSeconds</code> - number of seconds between the last processed event timestamp and the last known event timestamp</li>
</ul>
<h2><a href="#fetch-projection-s-statistics" name="fetch-projection-s-statistics" class="anchor"><span class="anchor-link"></span></a>Fetch projection(s) statistics</h2>
<p>This endpoint displays statistical information about the provided projection.</p>
<pre><code>GET /v1/views/{org_label}/{project_label}/{view_id}/projections/{projection_id}/statistics
</code></pre>
<p>where <code>{projection_id}</code> is the @id value of the projection. The reserved value <code>_</code> means &ldquo;every projection&rdquo;.</p>
<p><strong>Example</strong></p>
<dl>
  <dt>Request</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/views/composite/statistics-projections.sh" target="_blank" title="Go to snippet source">source</a><code class="language-sh">curl &quot;http://localhost:8080/v1/views/myorg/bands/composite_view/projections/_/statistics&quot;</code></pre></dd>
  <dt>Response</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/views/composite/statistics-response.json" target="_blank" title="Go to snippet source">source</a><code class="language-json">{
  &quot;@context&quot;: [
    &quot;https://bluebrain.github.io/nexus/contexts/metadata.json&quot;,
    &quot;https://bluebrain.github.io/nexus/contexts/search.json&quot;,
    &quot;https://bluebrain.github.io/nexus/contexts/statistics.json&quot;
  ],
  &quot;_total&quot;: 6,
  &quot;_results&quot;: [
    {
      &quot;sourceId&quot;: &quot;http://music.com/source_albums&quot;,
      &quot;projectionId&quot;: &quot;http://music.com/es&quot;,
      &quot;delayInSeconds&quot;: 0,
      &quot;discardedEvents&quot;: 0,
      &quot;evaluatedEvents&quot;: 10,
      &quot;failedEvents&quot;: 0,
      &quot;lastEventDateTime&quot;: &quot;2021-05-17T14:37:06.893Z&quot;,
      &quot;lastProcessedEventDateTime&quot;: &quot;2021-05-17T14:37:06.893Z&quot;,
      &quot;processedEvents&quot;: 10,
      &quot;remainingEvents&quot;: 0,
      &quot;totalEvents&quot;: 10
    },
    {
      &quot;sourceId&quot;: &quot;http://music.com/source_albums&quot;,
      &quot;projectionId&quot;: &quot;http://music.com/sparql&quot;,
      &quot;delayInSeconds&quot;: 0,
      &quot;discardedEvents&quot;: 0,
      &quot;evaluatedEvents&quot;: 10,
      &quot;failedEvents&quot;: 0,
      &quot;lastEventDateTime&quot;: &quot;2021-05-17T14:37:06.893Z&quot;,
      &quot;lastProcessedEventDateTime&quot;: &quot;2021-05-17T14:37:06.893Z&quot;,
      &quot;processedEvents&quot;: 10,
      &quot;remainingEvents&quot;: 0,
      &quot;totalEvents&quot;: 10
    },
    {
      &quot;sourceId&quot;: &quot;http://music.com/source_bands&quot;,
      &quot;projectionId&quot;: &quot;http://music.com/es&quot;,
      &quot;delayInSeconds&quot;: 0,
      &quot;discardedEvents&quot;: 1,
      &quot;evaluatedEvents&quot;: 11,
      &quot;failedEvents&quot;: 0,
      &quot;lastEventDateTime&quot;: &quot;2021-05-17T14:58:28.483Z&quot;,
      &quot;lastProcessedEventDateTime&quot;: &quot;2021-05-17T14:58:28.483Z&quot;,
      &quot;processedEvents&quot;: 12,
      &quot;remainingEvents&quot;: 0,
      &quot;totalEvents&quot;: 12
    },
    {
      &quot;sourceId&quot;: &quot;http://music.com/source_bands&quot;,
      &quot;projectionId&quot;: &quot;http://music.com/sparql&quot;,
      &quot;delayInSeconds&quot;: 0,
      &quot;discardedEvents&quot;: 1,
      &quot;evaluatedEvents&quot;: 11,
      &quot;failedEvents&quot;: 0,
      &quot;lastEventDateTime&quot;: &quot;2021-05-17T14:58:28.483Z&quot;,
      &quot;lastProcessedEventDateTime&quot;: &quot;2021-05-17T14:58:28.483Z&quot;,
      &quot;processedEvents&quot;: 12,
      &quot;remainingEvents&quot;: 0,
      &quot;totalEvents&quot;: 12
    },
    {
      &quot;sourceId&quot;: &quot;http://music.com/source_songs&quot;,
      &quot;projectionId&quot;: &quot;http://music.com/es&quot;,
      &quot;delayInSeconds&quot;: 0,
      &quot;discardedEvents&quot;: 1,
      &quot;evaluatedEvents&quot;: 13,
      &quot;failedEvents&quot;: 0,
      &quot;lastEventDateTime&quot;: &quot;2021-05-17T14:37:38.397Z&quot;,
      &quot;lastProcessedEventDateTime&quot;: &quot;2021-05-17T14:37:38.397Z&quot;,
      &quot;processedEvents&quot;: 14,
      &quot;remainingEvents&quot;: 0,
      &quot;totalEvents&quot;: 14
    },
    {
      &quot;sourceId&quot;: &quot;http://music.com/source_songs&quot;,
      &quot;projectionId&quot;: &quot;http://music.com/sparql&quot;,
      &quot;delayInSeconds&quot;: 0,
      &quot;discardedEvents&quot;: 1,
      &quot;evaluatedEvents&quot;: 13,
      &quot;failedEvents&quot;: 0,
      &quot;lastEventDateTime&quot;: &quot;2021-05-17T14:37:38.397Z&quot;,
      &quot;lastProcessedEventDateTime&quot;: &quot;2021-05-17T14:37:38.397Z&quot;,
      &quot;processedEvents&quot;: 14,
      &quot;remainingEvents&quot;: 0,
      &quot;totalEvents&quot;: 14
    }
  ]
}</code></pre></dd>
</dl>
<p>where:</p>
<ul>
  <li><code>sourceId</code> - the @id unique value of the source</li>
  <li><code>projectionId</code> - the @id unique value of the projection</li>
  <li><code>totalEvents</code> - total number of events for the provided source</li>
  <li><code>processedEvents</code> - number of events that have been considered by the projection</li>
  <li><code>remainingEvents</code> - number of events that remain to be considered by the projection</li>
  <li><code>discardedEvents</code> - number of events that have been discarded (were not evaluated due to filters, e.g. did not match  schema, tag or type defined in the projection)</li>
  <li><code>evaluatedEvents</code> - number of events that have been used to update the projection index</li>
  <li><code>lastEventDateTime</code> - timestamp of the last event in the source</li>
  <li><code>lastProcessedEventDateTime</code> - timestamp of the last event processed by the projection</li>
  <li><code>delayInSeconds</code> - number of seconds between the last processed event timestamp and the last known event timestamp</li>
</ul>
<h2><a href="#fetch-indexing" name="fetch-indexing" class="anchor"><span class="anchor-link"></span></a>Fetch indexing</h2>
<pre><code>GET /v1/views/{org_label}/{project_label}/{view_id}/offset
</code></pre>
<p><strong>Example</strong></p>
<dl>
  <dt>Request</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/views/composite/offset.sh" target="_blank" title="Go to snippet source">source</a><code class="language-sh">curl &quot;http://localhost:8080/v1/views/myorg/bands/composite_view/offset&quot;</code></pre></dd>
  <dt>Response</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/views/composite/offset-response.json" target="_blank" title="Go to snippet source">source</a><code class="language-json">{
  &quot;@context&quot;: [
    &quot;https://bluebrain.github.io/nexus/contexts/metadata.json&quot;,
    &quot;https://bluebrain.github.io/nexus/contexts/search.json&quot;,
    &quot;https://bluebrain.github.io/nexus/contexts/offset.json&quot;
  ],
  &quot;_total&quot;: 6,
  &quot;_results&quot;: [
    {
      &quot;sourceId&quot;: &quot;http://music.com/source_albums&quot;,
      &quot;projectionId&quot;: &quot;http://music.com/es&quot;,
      &quot;offset&quot;: {
        &quot;@type&quot;: &quot;TimeBasedOffset&quot;,
        &quot;instant&quot;: &quot;2021-05-17T14:37:06.919Z&quot;,
        &quot;value&quot;: &quot;5abccf70-b71d-11eb-89c5-49f1ca92ec51&quot;
      }
    },
    {
      &quot;sourceId&quot;: &quot;http://music.com/source_albums&quot;,
      &quot;projectionId&quot;: &quot;http://music.com/sparql&quot;,
      &quot;offset&quot;: {
        &quot;@type&quot;: &quot;TimeBasedOffset&quot;,
        &quot;instant&quot;: &quot;2021-05-17T14:37:06.919Z&quot;,
        &quot;value&quot;: &quot;5abccf70-b71d-11eb-89c5-49f1ca92ec51&quot;
      }
    },
    {
      &quot;sourceId&quot;: &quot;http://music.com/source_bands&quot;,
      &quot;projectionId&quot;: &quot;http://music.com/es&quot;,
      &quot;offset&quot;: {
        &quot;@type&quot;: &quot;TimeBasedOffset&quot;,
        &quot;instant&quot;: &quot;2021-05-17T14:58:28.484Z&quot;,
        &quot;value&quot;: &quot;569c1c40-b720-11eb-89c5-49f1ca92ec51&quot;
      }
    },
    {
      &quot;sourceId&quot;: &quot;http://music.com/source_bands&quot;,
      &quot;projectionId&quot;: &quot;http://music.com/sparql&quot;,
      &quot;offset&quot;: {
        &quot;@type&quot;: &quot;TimeBasedOffset&quot;,
        &quot;instant&quot;: &quot;2021-05-17T14:58:28.484Z&quot;,
        &quot;value&quot;: &quot;569c1c40-b720-11eb-89c5-49f1ca92ec51&quot;
      }
    },
    {
      &quot;sourceId&quot;: &quot;http://music.com/source_songs&quot;,
      &quot;projectionId&quot;: &quot;http://music.com/es&quot;,
      &quot;offset&quot;: {
        &quot;@type&quot;: &quot;TimeBasedOffset&quot;,
        &quot;instant&quot;: &quot;2021-05-17T14:37:38.513Z&quot;,
        &quot;value&quot;: &quot;6d91ac10-b71d-11eb-89c5-49f1ca92ec51&quot;
      }
    },
    {
      &quot;sourceId&quot;: &quot;http://music.com/source_songs&quot;,
      &quot;projectionId&quot;: &quot;http://music.com/sparql&quot;,
      &quot;offset&quot;: {
        &quot;@type&quot;: &quot;TimeBasedOffset&quot;,
        &quot;instant&quot;: &quot;2021-05-17T14:37:38.513Z&quot;,
        &quot;value&quot;: &quot;6d91ac10-b71d-11eb-89c5-49f1ca92ec51&quot;
      }
    }
  ]
}</code></pre></dd>
</dl>
<p>where&hellip;</p>
<ul>
  <li><code>sourceId</code> - @id identifying the view&rsquo;s source.</li>
  <li><code>projectionId</code> - @id identifying the view&rsquo;s projection.</li>
  <li><code>instant</code> - timestamp of the last event processed by the views&rsquo; projection.</li>
  <li><code>value</code> - the value of the offset.</li>
</ul>
<h2><a href="#fetch-projection-s-indexing" name="fetch-projection-s-indexing" class="anchor"><span class="anchor-link"></span></a>Fetch projection(s) indexing</h2>
<pre><code>GET /v1/views/{org_label}/{project_label}/{view_id}/projections/{projection_id}/offset
</code></pre>
<p>where <code>{projection_id}</code> is the @id value of the projection. The reserved value <code>_</code> means &ldquo;every projection&rdquo;.</p>
<p><strong>Example</strong></p>
<dl>
  <dt>Request</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/views/composite/offset-projection.sh" target="_blank" title="Go to snippet source">source</a><code class="language-sh">curl &quot;http://localhost:8080/v1/views/myorg/bands/composite_view/projections/music:es/offset&quot;</code></pre></dd>
  <dt>Response</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/views/composite/offset-projections-response.json" target="_blank" title="Go to snippet source">source</a><code class="language-json">{
  &quot;@context&quot;: [
    &quot;https://bluebrain.github.io/nexus/contexts/metadata.json&quot;,
    &quot;https://bluebrain.github.io/nexus/contexts/search.json&quot;,
    &quot;https://bluebrain.github.io/nexus/contexts/offset.json&quot;
  ],
  &quot;_total&quot;: 3,
  &quot;_results&quot;: [
    {
      &quot;sourceId&quot;: &quot;http://music.com/source_albums&quot;,
      &quot;projectionId&quot;: &quot;http://music.com/es&quot;,
      &quot;offset&quot;: {
        &quot;@type&quot;: &quot;TimeBasedOffset&quot;,
        &quot;instant&quot;: &quot;2021-05-17T14:37:06.919Z&quot;,
        &quot;value&quot;: &quot;5abccf70-b71d-11eb-89c5-49f1ca92ec51&quot;
      }
    },
    {
      &quot;sourceId&quot;: &quot;http://music.com/source_bands&quot;,
      &quot;projectionId&quot;: &quot;http://music.com/es&quot;,
      &quot;offset&quot;: {
        &quot;@type&quot;: &quot;TimeBasedOffset&quot;,
        &quot;instant&quot;: &quot;2021-05-17T14:58:28.484Z&quot;,
        &quot;value&quot;: &quot;569c1c40-b720-11eb-89c5-49f1ca92ec51&quot;
      }
    },
    {
      &quot;sourceId&quot;: &quot;http://music.com/source_songs&quot;,
      &quot;projectionId&quot;: &quot;http://music.com/es&quot;,
      &quot;offset&quot;: {
        &quot;@type&quot;: &quot;TimeBasedOffset&quot;,
        &quot;instant&quot;: &quot;2021-05-17T14:37:38.513Z&quot;,
        &quot;value&quot;: &quot;6d91ac10-b71d-11eb-89c5-49f1ca92ec51&quot;
      }
    }
  ]
}</code></pre></dd>
</dl>
<p>where&hellip;</p>
<ul>
  <li><code>sourceId</code> - @id identifying the view&rsquo;s source.</li>
  <li><code>projectionId</code> - @id identifying the view&rsquo;s projection.</li>
  <li><code>instant</code> - timestamp of the last event processed by the views&rsquo; projection.</li>
  <li><code>value</code> - the value of the offset.</li>
</ul>
<h2><a href="#restart-indexing" name="restart-indexing" class="anchor"><span class="anchor-link"></span></a>Restart indexing</h2>
<p>This endpoint restarts the view indexing process. It does not delete the created indices/namespaces but it overrides the graphs/documents when going through the event log.</p>
<pre><code>DELETE /v1/views/{org_label}/{project_label}/{view_id}/offset
</code></pre>
<p><strong>Example</strong></p>
<dl>
  <dt>Request</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/views/composite/restart.sh" target="_blank" title="Go to snippet source">source</a><code class="language-sh">curl -X DELETE \
     &quot;http://localhost:8080/v1/views/myorg/bands/composite_view/offset&quot;</code></pre></dd>
  <dt>Response</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/views/composite/restarted.json" target="_blank" title="Go to snippet source">source</a><code class="language-json">{
  &quot;@context&quot;: [
    &quot;https://bluebrain.github.io/nexus/contexts/metadata.json&quot;,
    &quot;https://bluebrain.github.io/nexus/contexts/search.json&quot;,
    &quot;https://bluebrain.github.io/nexus/contexts/offset.json&quot;
  ],
  &quot;_total&quot;: 6,
  &quot;_results&quot;: [
    {
      &quot;sourceId&quot;: &quot;http://music.com/source_albums&quot;,
      &quot;projectionId&quot;: &quot;http://music.com/es&quot;,
      &quot;offset&quot;: {
        &quot;@type&quot;: &quot;NoOffset&quot;
      }
    },
    {
      &quot;sourceId&quot;: &quot;http://music.com/source_albums&quot;,
      &quot;projectionId&quot;: &quot;http://music.com/sparql&quot;,
      &quot;offset&quot;: {
        &quot;@type&quot;: &quot;NoOffset&quot;
      }
    },
    {
      &quot;sourceId&quot;: &quot;http://music.com/source_bands&quot;,
      &quot;projectionId&quot;: &quot;http://music.com/es&quot;,
      &quot;offset&quot;: {
        &quot;@type&quot;: &quot;NoOffset&quot;
      }
    },
    {
      &quot;sourceId&quot;: &quot;http://music.com/source_bands&quot;,
      &quot;projectionId&quot;: &quot;http://music.com/sparql&quot;,
      &quot;offset&quot;: {
        &quot;@type&quot;: &quot;NoOffset&quot;
      }
    },
    {
      &quot;sourceId&quot;: &quot;http://music.com/source_songs&quot;,
      &quot;projectionId&quot;: &quot;http://music.com/es&quot;,
      &quot;offset&quot;: {
        &quot;@type&quot;: &quot;NoOffset&quot;
      }
    },
    {
      &quot;sourceId&quot;: &quot;http://music.com/source_songs&quot;,
      &quot;projectionId&quot;: &quot;http://music.com/sparql&quot;,
      &quot;offset&quot;: {
        &quot;@type&quot;: &quot;NoOffset&quot;
      }
    }
  ]
}</code></pre></dd>
</dl>
<h2><a href="#restart-projection-s-indexing" name="restart-projection-s-indexing" class="anchor"><span class="anchor-link"></span></a>Restart projection(s) indexing</h2>
<p>This endpoint restarts indexing process for the provided projection(s) while keeping the sources (and the intermediate Sparql space) progress.</p>
<pre><code>DELETE /v1/views/{org_label}/{project_label}/{view_id}/projections/{projection_id}/offset
</code></pre>
<p><strong>Example</strong></p>
<dl>
  <dt>Request</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/views/composite/restart.sh" target="_blank" title="Go to snippet source">source</a><code class="language-sh">curl -X DELETE \
     &quot;http://localhost:8080/v1/views/myorg/bands/composite_view/offset&quot;</code></pre></dd>
  <dt>Response</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/views/composite/restarted.json" target="_blank" title="Go to snippet source">source</a><code class="language-json">{
  &quot;@context&quot;: [
    &quot;https://bluebrain.github.io/nexus/contexts/metadata.json&quot;,
    &quot;https://bluebrain.github.io/nexus/contexts/search.json&quot;,
    &quot;https://bluebrain.github.io/nexus/contexts/offset.json&quot;
  ],
  &quot;_total&quot;: 6,
  &quot;_results&quot;: [
    {
      &quot;sourceId&quot;: &quot;http://music.com/source_albums&quot;,
      &quot;projectionId&quot;: &quot;http://music.com/es&quot;,
      &quot;offset&quot;: {
        &quot;@type&quot;: &quot;NoOffset&quot;
      }
    },
    {
      &quot;sourceId&quot;: &quot;http://music.com/source_albums&quot;,
      &quot;projectionId&quot;: &quot;http://music.com/sparql&quot;,
      &quot;offset&quot;: {
        &quot;@type&quot;: &quot;NoOffset&quot;
      }
    },
    {
      &quot;sourceId&quot;: &quot;http://music.com/source_bands&quot;,
      &quot;projectionId&quot;: &quot;http://music.com/es&quot;,
      &quot;offset&quot;: {
        &quot;@type&quot;: &quot;NoOffset&quot;
      }
    },
    {
      &quot;sourceId&quot;: &quot;http://music.com/source_bands&quot;,
      &quot;projectionId&quot;: &quot;http://music.com/sparql&quot;,
      &quot;offset&quot;: {
        &quot;@type&quot;: &quot;NoOffset&quot;
      }
    },
    {
      &quot;sourceId&quot;: &quot;http://music.com/source_songs&quot;,
      &quot;projectionId&quot;: &quot;http://music.com/es&quot;,
      &quot;offset&quot;: {
        &quot;@type&quot;: &quot;NoOffset&quot;
      }
    },
    {
      &quot;sourceId&quot;: &quot;http://music.com/source_songs&quot;,
      &quot;projectionId&quot;: &quot;http://music.com/sparql&quot;,
      &quot;offset&quot;: {
        &quot;@type&quot;: &quot;NoOffset&quot;
      }
    }
  ]
}</code></pre></dd>
</dl>
<h2><a href="#restart-projection" name="restart-projection" class="anchor"><span class="anchor-link"></span></a>Restart projection</h2>
<p>This endpoint restarts indexing process for the provided projection while keeping the sources (and the intermediate Sparql space) progress.</p>
<pre><code>DELETE /v1/views/{org_label}/{project_label}/{view_id}/projections/{projection_id}/offset
</code></pre>
<p>where <code>{projection_id}</code> is the @id value of the projection. The reserved value <code>_</code> means &ldquo;every projection&rdquo;.</p>
<p><strong>Example</strong></p>
<dl>
  <dt>Request</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/views/composite/restart-projection.sh" target="_blank" title="Go to snippet source">source</a><code class="language-sh">curl -X DELETE \
     &quot;http://localhost:8080/v1/views/myorg/bands/composite_view/projections/music:es/offset&quot;</code></pre></dd>
  <dt>Response</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/views/composite/restarted-projection.json" target="_blank" title="Go to snippet source">source</a><code class="language-json">{
  &quot;@context&quot;: [
    &quot;https://bluebrain.github.io/nexus/contexts/metadata.json&quot;,
    &quot;https://bluebrain.github.io/nexus/contexts/search.json&quot;,
    &quot;https://bluebrain.github.io/nexus/contexts/offset.json&quot;
  ],
  &quot;_total&quot;: 3,
  &quot;_results&quot;: [
    {
      &quot;sourceId&quot;: &quot;http://music.com/source_albums&quot;,
      &quot;projectionId&quot;: &quot;http://music.com/es&quot;,
      &quot;offset&quot;: {
        &quot;@type&quot;: &quot;NoOffset&quot;
      }
    },
    {
      &quot;sourceId&quot;: &quot;http://music.com/source_bands&quot;,
      &quot;projectionId&quot;: &quot;http://music.com/es&quot;,
      &quot;offset&quot;: {
        &quot;@type&quot;: &quot;NoOffset&quot;
      }
    },
    {
      &quot;sourceId&quot;: &quot;http://music.com/source_songs&quot;,
      &quot;projectionId&quot;: &quot;http://music.com/es&quot;,
      &quot;offset&quot;: {
        &quot;@type&quot;: &quot;NoOffset&quot;
      }
    }
  ]
}</code></pre></dd>
</dl>
</div>
<div>
<a href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/views/composite-view-api.md" title="Edit this page" class="md-source-file md-edit">
Edit this page
</a>
</div>
<div class="print-only">
<span class="md-source-file md-version">
Snapshot
</span>
</div>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-nav">
<nav class="md-footer-nav__inner md-grid">
<a href="../../../../docs/delta/api/views/aggregated-sparql-view-api.html" title="AggregateSparqlView" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
<div class="md-flex__cell md-flex__cell--shrink">
<i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
</div>
<div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
<span class="md-flex__ellipsis">
<span class="md-footer-nav__direction">
Previous
</span>
AggregateSparqlView
</span>
</div>
</a>
<a href="../../../../docs/delta/api/views/composite-sink.html" title="Composite Sinks" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
<div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
<span class="md-flex__ellipsis">
<span class="md-footer-nav__direction">
Next
</span>
Composite Sinks
</span>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
</div>
</a>
</nav>
</div>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-footer-copyright">
<div class="md-footer-copyright__highlight">
Nexus is Open Source and available under the Apache 2 License.<br/>
Â© 2017-2023 <a href="https://epfl.ch/">EPFL</a>
 <a href="https://bluebrain.epfl.ch/">The Blue Brain Project</a>

</div>
</div>
<div class="md-footer-social">
<a href="https://github.com/BlueBrain" class="md-footer-social__link fa fa-github"></a><a href="https://github.com/BlueBrain/nexus/discussions" class="md-footer-social__link fa fa-github"></a>
</div>

</div>
</div>
</footer>

</div>
<script src="../../../../assets/javascripts/application.583bbe55.js"></script>
<script src="../../../../assets/javascripts/paradox-material-theme.js"></script>
<script>app.initialize({version:"0.17",url:{base:"../../../../."}})</script>
<script type="text/javascript" src="../../../../lib/prettify/prettify.js"></script>
<script type="text/javascript" src="../../../../lib/prettify/lang-scala.js"></script>
<script type="text/javascript">
document.addEventListener("DOMContentLoaded", function(event) {
window.prettyPrint && prettyPrint();
});
</script>
<script src="../../../.././public/js/gtm.js"></script>
</body>
</html>
