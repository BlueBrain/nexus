<!DOCTYPE html>
<html lang="en" class="no-js">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="description" content="docs">
<meta name="generator" content="Paradox, paradox-material-theme=0.5.1, mkdocs-material=3.0.3">

<meta name="lang:clipboard.copy" content="Copy to clipboard">
<meta name="lang:clipboard.copied" content="Copied to clipboard">
<meta name="lang:search.language" content="">
<meta name="lang:search.pipeline.stopwords" content="true">
<meta name="lang:search.pipeline.trimmer" content="true">
<meta name="lang:search.result.none" content="No matching documents">
<meta name="lang:search.result.one" content="1 matching document">
<meta name="lang:search.result.other" content="# matching documents">
<meta name="lang:search.tokenizer" content="[\s\-]+">


<meta name="description" content="docs">
<link rel="shortcut icon" href="../.././assets/img/favicon-32x32.png">
<title>MovieLens Tutorial using the Nexus Python CLI Â· Blue Brain Nexus</title>
<link rel="stylesheet" href="../../assets/stylesheets/application.451f80e5.css">
<link rel="stylesheet" href="../../assets/stylesheets/application-palette.22915126.css">
<meta name="theme-color" content="#03a9f4" />
<link rel="stylesheet" href="../../lib/material__tabs/dist/mdc.tabs.min.css">
<link rel="stylesheet" href="../../lib/prettify/prettify.css">
<script src="../../assets/javascripts/modernizr.1aa3b519.js"></script>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
<style>
body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}
code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}
</style>
<link rel="stylesheet" href="../../assets/fonts/font-awesome.css">
<link rel="stylesheet" href="../../assets/fonts/material-icons.css">
<link rel="stylesheet" href="../../assets/stylesheets/paradox-material-theme.css">
<link rel="stylesheet" href="../.././assets/css/docs.css">
</head>
<body
data-md-color-primary="light-blue"
data-md-color-accent="cyan"
>
<input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
<input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
<label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
<header class="md-header" data-md-component="header">
<nav class="md-header-nav md-grid">
<div class="md-flex">
<div class="md-flex__cell md-flex__cell--shrink">
<a href="../../docs/index.html" title="Blue Brain Nexus" class="md-header-nav__button md-logo">
<img src="../.././assets/img/logo.png" width="24" height="24">
</a>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
</div>
<div class="md-flex__cell md-flex__cell--stretch">
<div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
<span class="md-header-nav__topic">
Blue Brain Nexus
</span>
<span class="md-header-nav__topic">
MovieLens Tutorial using the Nexus Python CLI
</span>
</div>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
<label class="md-icon md-search__icon" for="__search"></label>
<button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">&#xE5CD;</button>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix>
<div class="md-search-result" data-md-component="result">
<div class="md-search-result__meta">
Type to start searching
</div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>

</div>
<div class="md-flex__cell md-flex__cell--shrink">
<div class="md-header-nav__source">
<a href="https://github.com/BlueBrain/nexus"
title="Go to repository"
class="md-source"
data-md-source="github">
<div class="md-source__icon">
<i class="fa fa-github"></i>
</div>
<div class="md-source__repository">
BlueBrain/nexus
</div>
</a>

</div>
</div>
</div>
</nav>
</header>

<div class="md-container">
<main class="md-main">
<div class="md-main__inner md-grid" data-md-component="container">
<div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav class="md-nav md-nav--primary" data-md-level="0" style="visibility: hidden">
<label class="md-nav__title md-nav__title--site" for="drawer">
<a href="../../docs/index.html" title="Blue Brain Nexus" class="md-nav__button md-logo">
<span class="md-nav__button md-logo">
<img src="../.././assets/img/logo.png" width="24" height="24">
</a>
<a href="../../docs/index.html" title="Blue Brain Nexus">
Blue Brain Nexus
</a>
</label>
<div class="md-nav__source">
<a href="https://github.com/BlueBrain/nexus"
title="Go to repository"
class="md-source"
data-md-source="github">
<div class="md-source__icon">
<i class="fa fa-github"></i>
</div>
<div class="md-source__repository">
BlueBrain/nexus
</div>
</a>

</div>
<ul>
  <li><a href="../../docs/getting-started/index.html" class="page">Getting Started</a>
  <ul>
    <li><a href="../../docs/getting-started/understanding-knowledge-graphs.html" class="page">Understanding Knowledge Graphs</a></li>
    <li><a href="../../docs/getting-started/try-nexus.html" class="page">Try Nexus</a></li>
    <li><a href="../../docs/getting-started/running-nexus.html" class="page">Running Nexus</a></li>
  </ul></li>
  <li><a href="../../docs/releases/index.html" class="page">Releases</a>
  <ul>
    <li><a href="../../docs/releases/v1.4-release-notes.html" class="page">v1.4 Release Notes</a></li>
    <li><a href="../../docs/releases/v1.3-to-v1.4-migration.html" class="page">v1.3 To v1.4 Migration</a></li>
    <li><a href="../../docs/releases/v1.3-release-notes.html" class="page">v1.3 Release Notes</a></li>
    <li><a href="../../docs/releases/v1.2-to-v1.3-migration.html" class="page">v1.2 To v1.3 Migration</a></li>
    <li><a href="../../docs/releases/v1.2-release-notes.html" class="page">v1.2 Release Notes</a></li>
    <li><a href="../../docs/releases/v1.1-release-notes.html" class="page">v1.1 Release Notes</a></li>
    <li><a href="../../docs/releases/v1.0-to-v1.1-migration.html" class="page">v1.0 To v1.1 Migration</a></li>
    <li><a href="../../docs/releases/v1.0-release-notes.html" class="page">v1.0 Release Notes</a></li>
  </ul></li>
  <li><a href="../../docs/roadmap.html" class="page">Roadmap</a></li>
  <li><a href="../../docs/fusion/index.html" class="page">Nexus Fusion</a>
  <ul>
    <li><a href="../../docs/fusion/architecture.html" class="page">Architecture</a></li>
    <li><a href="../../docs/fusion/plugins.html" class="page">Plugins</a></li>
    <li><a href="../../docs/fusion/studio.html" class="page">Studios</a></li>
    <li><a href="../../docs/fusion/admin.html" class="page">Admin</a></li>
    <li><a href="../../docs/fusion/add-your-own-app.html" class="page">Add your own App</a></li>
  </ul></li>
  <li><a href="../../docs/forge.html" class="page">Nexus Forge</a></li>
  <li><a href="../../docs/delta/index.html" class="page">Nexus Delta</a>
  <ul>
    <li><a href="../../docs/delta/architecture.html" class="page">Architecture</a></li>
    <li><a href="../../docs/delta/api/current/index.html" class="page">API Reference</a>
    <ul>
      <li><a href="../../docs/delta/api/current/operating-on-resources.html" class="page">Operating on resources</a></li>
      <li><a href="../../docs/delta/api/current/iam-realms-api.html" class="page">Realms</a></li>
      <li><a href="../../docs/delta/api/current/authentication.html" class="page">Authentication</a></li>
      <li><a href="../../docs/delta/api/current/iam-permissions-api.html" class="page">Permissions</a></li>
      <li><a href="../../docs/delta/api/current/iam-acls-api.html" class="page">Access Control Lists</a></li>
      <li><a href="../../docs/delta/api/current/iam-identities.html" class="page">Identities</a></li>
      <li><a href="../../docs/delta/api/current/admin-orgs-api.html" class="page">Organizations</a></li>
      <li><a href="../../docs/delta/api/current/admin-projects-api.html" class="page">Projects</a></li>
      <li><a href="../../docs/delta/api/current/kg-schemas-api.html" class="page">Schemas</a></li>
      <li><a href="../../docs/delta/api/current/kg-resolvers-api.html" class="page">Resolvers</a></li>
      <li><a href="../../docs/delta/api/current/views/index.html" class="page">Views</a>
      <ul>
        <li><a href="../../docs/delta/api/current/views/elasticsearch-view-api.html" class="page">ElasticSearchView</a></li>
        <li><a href="../../docs/delta/api/current/views/sparql-view-api.html" class="page">SparqlView</a></li>
        <li><a href="../../docs/delta/api/current/views/composite-view-api.html" class="page">CompositeView</a></li>
        <li><a href="../../docs/delta/api/current/views/aggregated-es-view-api.html" class="page">AggregateElasticSearchView</a></li>
        <li><a href="../../docs/delta/api/current/views/aggregated-sparql-view-api.html" class="page">AggregateSparqlView</a></li>
      </ul></li>
      <li><a href="../../docs/delta/api/current/kg-storages-api.html" class="page">Storages</a></li>
      <li><a href="../../docs/delta/api/current/kg-files-api.html" class="page">Files</a></li>
      <li><a href="../../docs/delta/api/current/kg-archives-api.html" class="page">Archives</a></li>
      <li><a href="../../docs/delta/api/current/kg-resources-api.html" class="page">Resources</a></li>
      <li><a href="../../docs/delta/api/current/error-signaling.html" class="page">Error Signaling</a></li>
    </ul></li>
    <li><a href="../../docs/delta/benchmarks.html" class="page">Benchmarks</a></li>
  </ul></li>
  <li><a href="../../docs/utilities/index.html" class="page">Utilities</a>
  <ul>
    <li><a href="../../docs/utilities/projections.html" class="page">Indexing data in other systems</a></li>
    <li><a href="../../docs/utilities/nexus-python-cli.html" class="active page">MovieLens Tutorial using the Nexus Python CLI</a></li>
  </ul></li>
  <li><a href="../../docs/faq.html" class="page">FAQ</a></li>
</ul>
<nav class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">Table of contents</label>
<ul>
  <li><a href="../../docs/utilities/nexus-python-cli.html#movielens-tutorial-using-the-nexus-python-cli" class="header">MovieLens Tutorial using the Nexus Python CLI</a>
  <ul>
    <li><a href="../../docs/utilities/nexus-python-cli.html#overview" class="header">Overview</a></li>
    <li><a href="../../docs/utilities/nexus-python-cli.html#set-up" class="header">Set up</a></li>
    <li><a href="../../docs/utilities/nexus-python-cli.html#create-a-project" class="header">Create a project</a>
    <ul>
      <li><a href="../../docs/utilities/nexus-python-cli.html#select-an-organization" class="header">Select an organization</a></li>
      <li><a href="../../docs/utilities/nexus-python-cli.html#create-a-project" class="header">Create a project</a></li>
    </ul></li>
    <li><a href="../../docs/utilities/nexus-python-cli.html#ingest-data" class="header">Ingest data</a>
    <ul>
      <li><a href="../../docs/utilities/nexus-python-cli.html#ingest-json" class="header">Ingest JSON</a>
      <ul>
        <li><a href="../../docs/utilities/nexus-python-cli.html#ingest-json-from-a-payload" class="header">Ingest JSON from a payload</a></li>
        <li><a href="../../docs/utilities/nexus-python-cli.html#ingest-json-from-a-file" class="header">Ingest JSON from a file</a></li>
      </ul></li>
      <li><a href="../../docs/utilities/nexus-python-cli.html#ingest-csv-files" class="header">Ingest CSV files</a>
      <ul>
        <li><a href="../../docs/utilities/nexus-python-cli.html#download-the-dataset" class="header">Download the dataset</a></li>
        <li><a href="../../docs/utilities/nexus-python-cli.html#load-the-dataset" class="header">Load the dataset</a></li>
      </ul></li>
    </ul></li>
    <li><a href="../../docs/utilities/nexus-python-cli.html#access-data" class="header">Access data</a>
    <ul>
      <li><a href="../../docs/utilities/nexus-python-cli.html#view-data-in-nexus-web" class="header">View data in Nexus Web</a></li>
      <li><a href="../../docs/utilities/nexus-python-cli.html#list-data" class="header">List data</a></li>
      <li><a href="../../docs/utilities/nexus-python-cli.html#query-data" class="header">Query data</a>
      <ul>
        <li><a href="../../docs/utilities/nexus-python-cli.html#query-data-using-the-elasticsearchview" class="header">Query data using the ElasticSearchView</a></li>
        <li><a href="../../docs/utilities/nexus-python-cli.html#query-data-using-the-sparqlview" class="header">Query data using the SparqlView</a></li>
      </ul></li>
    </ul></li>
    <li><a href="../../docs/utilities/nexus-python-cli.html#share-data" class="header">Share data</a></li>
  </ul></li>
</ul>
</nav>

</nav>
<ul style="display: none">
<li class="md-nav__item md-version" id="project.version">
<label class="md-nav__link" for="__version">
<i class="md-icon" title="Version">label_outline</i> 3ac985e4
</label>
</li>
</ul>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">Table of contents</label>
<ul>
  <li><a href="../../docs/utilities/nexus-python-cli.html#movielens-tutorial-using-the-nexus-python-cli" class="header">MovieLens Tutorial using the Nexus Python CLI</a>
  <ul>
    <li><a href="../../docs/utilities/nexus-python-cli.html#overview" class="header">Overview</a></li>
    <li><a href="../../docs/utilities/nexus-python-cli.html#set-up" class="header">Set up</a></li>
    <li><a href="../../docs/utilities/nexus-python-cli.html#create-a-project" class="header">Create a project</a>
    <ul>
      <li><a href="../../docs/utilities/nexus-python-cli.html#select-an-organization" class="header">Select an organization</a></li>
      <li><a href="../../docs/utilities/nexus-python-cli.html#create-a-project" class="header">Create a project</a></li>
    </ul></li>
    <li><a href="../../docs/utilities/nexus-python-cli.html#ingest-data" class="header">Ingest data</a>
    <ul>
      <li><a href="../../docs/utilities/nexus-python-cli.html#ingest-json" class="header">Ingest JSON</a>
      <ul>
        <li><a href="../../docs/utilities/nexus-python-cli.html#ingest-json-from-a-payload" class="header">Ingest JSON from a payload</a></li>
        <li><a href="../../docs/utilities/nexus-python-cli.html#ingest-json-from-a-file" class="header">Ingest JSON from a file</a></li>
      </ul></li>
      <li><a href="../../docs/utilities/nexus-python-cli.html#ingest-csv-files" class="header">Ingest CSV files</a>
      <ul>
        <li><a href="../../docs/utilities/nexus-python-cli.html#download-the-dataset" class="header">Download the dataset</a></li>
        <li><a href="../../docs/utilities/nexus-python-cli.html#load-the-dataset" class="header">Load the dataset</a></li>
      </ul></li>
    </ul></li>
    <li><a href="../../docs/utilities/nexus-python-cli.html#access-data" class="header">Access data</a>
    <ul>
      <li><a href="../../docs/utilities/nexus-python-cli.html#view-data-in-nexus-web" class="header">View data in Nexus Web</a></li>
      <li><a href="../../docs/utilities/nexus-python-cli.html#list-data" class="header">List data</a></li>
      <li><a href="../../docs/utilities/nexus-python-cli.html#query-data" class="header">Query data</a>
      <ul>
        <li><a href="../../docs/utilities/nexus-python-cli.html#query-data-using-the-elasticsearchview" class="header">Query data using the ElasticSearchView</a></li>
        <li><a href="../../docs/utilities/nexus-python-cli.html#query-data-using-the-sparqlview" class="header">Query data using the SparqlView</a></li>
      </ul></li>
    </ul></li>
    <li><a href="../../docs/utilities/nexus-python-cli.html#share-data" class="header">Share data</a></li>
  </ul></li>
</ul>
</nav>

</div>
</div>
</div>
<div class="md-content">
<article class="md-content__inner md-typeset">
<div class="md-content__searchable">
<h1><a href="#movielens-tutorial-using-the-nexus-python-cli" name="movielens-tutorial-using-the-nexus-python-cli" class="anchor"><span class="anchor-link"></span></a>MovieLens Tutorial using the Nexus Python CLI</h1>
<h2><a href="#overview" name="overview" class="anchor"><span class="anchor-link"></span></a>Overview</h2>
<p>This example-driven tutorial presents 5 steps to get started with Blue Brain Nexus to build and query a simple <a href="../getting-started/understanding-knowledge-graphs.html">knowledge graph</a>. The goal is to go over some capabilities of Blue Brain Nexus enabling:</p>
<ul>
  <li>The creation of a project as a protected data space to work in</li>
  <li>An easy ingestion of a dataset within a given project</li>
  <li>The listing and querying of a dataset</li>
  <li>Sharing a dataset by making it public</li>
</ul><div class="callout note "><div class="callout-title">Note</div>
<p>This quick start tutorial tutorial makes use of:</p>
<ul>
  <li>an AWS deployment of Blue Brain Nexus available at <a href="https://sandbox.bluebrainnexus.io">https://sandbox.bluebrainnexus.io</a>.</li>
  <li><a href="https://github.com/BlueBrain/nexus-cli" title="Nexus Python CLI" target="_blank" rel="noopener noreferrer">Nexus Python CLI</a>, a python Command Line Interface.</li>
</ul></div>
<p>Let&rsquo;s get started.</p>
<h2><a href="#set-up" name="set-up" class="anchor"><span class="anchor-link"></span></a>Set up</h2>
<p>Install the Nexus Python CLI:</p>
<pre class="prettyprint"><code class="language-python">pip install git+https://github.com/BlueBrain/nexus-cli
</code></pre>
<h2><a href="#create-a-project" name="create-a-project" class="anchor"><span class="anchor-link"></span></a>Create a project</h2>
<p>Projects in BlueBrain Nexus are spaces where data can be:</p>
<ul>
  <li><strong>managed</strong>: created, updated, deprecated, validated, secured;</li>
  <li><strong>accessed</strong>: directly by ids or through various search interfaces;</li>
  <li><strong>shared</strong>: through fine grain Access Control List.</li>
</ul>
<p>A <strong>project</strong> is always created within an <strong>organization</strong> just like a git repository is created in a github organization. Organizations can be understood as accounts hosting multiple projects.</p>
<h3><a href="#select-an-organization" name="select-an-organization" class="anchor"><span class="anchor-link"></span></a>Select an organization</h3><div class="callout note "><div class="callout-title">Note</div>
<p>A public organization named <strong>tutorialnexus</strong> is already created for the purpose of this tutorial. All projects will be created under this organization.</p></div>
<p>The following command should list the organizations you have access to. The <strong>tutorialnexus</strong> organization should be listed and tagged as non-deprecated in the output.</p>
<dl>
  <dt>Command</dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/utilities/assets/list-orgs-cmd.sh" target="_blank" title="Go to snippet source"></a><code class="language-sh">nexus orgs list</code></pre></dd>
  <dt>Output</dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/utilities/assets/list-orgs-out.sh" target="_blank" title="Go to snippet source"></a><code class="language-sh">+----------------+-------------------+-----------------------------------------------------+------------+
| Name           | Description       | Id                                                  | Deprecated |
+----------------+-------------------+-----------------------------------------------------+------------+
| tutorialnexus  | Nexus sandbox     | https://sandbox.bluebrainnexus.io/v1/tutorialnexus     | False      |</code></pre></dd>
</dl>
<p>Let select the <strong>tutorialnexus</strong> organization.</p>
<dl>
  <dt>Command</dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/utilities/assets/select-orgs-cmd.sh" target="_blank" title="Go to snippet source"></a><code class="language-sh">nexus orgs select tutorialnexus</code></pre></dd>
  <dt>Output</dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/utilities/assets/select-orgs-out.sh" target="_blank" title="Go to snippet source"></a><code class="language-sh">tutorialnexus organization selected.</code></pre></dd>
</dl>
<p>In case the tutorialnexus organization is not available, pick an organization label (value of $ORGLABEL) and create an organization using the following command:</p>
<dl>
  <dt>Command</dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/utilities/assets/create-org-cmd.sh" target="_blank" title="Go to snippet source"></a><code class="language-sh">nexus orgs create $ORGLABEL &amp;&amp; nexus orgs select $ORGLABEL &amp;&amp; nexus orgs list</code></pre></dd>
  <dt>Output</dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/utilities/assets/create-org-out.sh" target="_blank" title="Go to snippet source"></a><code class="language-sh">Organization created (id: https://sandbox.bluebrainnexus.io/v1/orgs/$ORGLABEL)
organization selected.
+---------------+-------------+------------------------------------------------------------------------+------------+
| Label         | Description | Id                                                                     | Deprecated |
+---------------+-------------+------------------------------------------------------------------------+------------+
| $ORGLABEL     |             | https://sandbox.bluebrainnexus.io/v1/orgs/$ORGLABEL                    | False      |
+---------------+-------------+------------------------------------------------------------------------+------------+</code></pre></dd>
</dl>
<h3><a href="#create-a-project" name="create-a-project" class="anchor"><span class="anchor-link"></span></a>Create a project</h3>
<p>A project is created with a label and within an organization. The label should be made of alphanumerical characters and its length should be between 3 and 32 (it should match the regex: [a-zA-Z0-9-_]{3,32}).</p>
<p>Pick a label (hereafter referred to as $PROJECTLABEL) and create a project using the following command. It is recommended to use your username to avoid collision of projects labels within an organization.</p>
<dl>
  <dt>Command</dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/utilities/assets/create-project-cmd.sh" target="_blank" title="Go to snippet source"></a><code class="language-sh">nexus projects create $PROJECTLABEL &amp;&amp; nexus projects list</code></pre></dd>
  <dt>Output</dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/utilities/assets/create-project-out.sh" target="_blank" title="Go to snippet source"></a><code class="language-sh">Project created (id: https://sandbox.bluebrainnexus.io/v1/projects/tutorialnexus/$PROJECTLABEL)
+---------------+-------------+------------------------------------------------------------------------+------------+
| Label         | Description | Id                                                                     | Deprecated |
+---------------+-------------+------------------------------------------------------------------------+------------+
| $PROJECTLABEL |             | https://sandbox.bluebrainnexus.io/v1/projects/tutorialnexus/$PROJECTLABEL | False      |
+---------------+-------------+------------------------------------------------------------------------+------------+</code></pre></dd>
</dl>
<p>By default, created projects are private meaning that only the project creator (you) has read and write access to it. We&rsquo;ll <a href="nexus-python-cli.html#share-data">see below</a> how to make a project public.</p>
<p>The output of the previous command shows the list of projects you have read access to. The project you just created should be the only one listed at this point. Let select it.</p>
<dl>
  <dt>Command</dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/utilities/assets/select-project-cmd.sh" target="_blank" title="Go to snippet source"></a><code class="language-sh">nexus projects select $PROJECTLABEL &amp;&amp; nexus projects list</code></pre></dd>
  <dt>Output</dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/utilities/assets/select-project-out.sh" target="_blank" title="Go to snippet source"></a><code class="language-sh">$PROJECTLABEL project selected
+---------------+-------------+------------------------------------------------------------------------+------------+
| Label         | Description | Id                                                                     | Deprecated |
+---------------+-------------+------------------------------------------------------------------------+------------+
| $PROJECTLABEL |             | https://sandbox.bluebrainnexus.io/v1/projects/tutorialnexus/$PROJECTLABEL | False      |
+---------------+-------------+------------------------------------------------------------------------+------------+</code></pre></dd>
</dl>
<p>We are all set to bring some data within the project we just created.</p>
<h2><a href="#ingest-data" name="ingest-data" class="anchor"><span class="anchor-link"></span></a>Ingest data</h2>
<p>The CLI supports the ingestion of datasets in two formats: JSON and CSV.</p>
<h3><a href="#ingest-json" name="ingest-json" class="anchor"><span class="anchor-link"></span></a>Ingest JSON</h3>
<h4><a href="#ingest-json-from-a-payload" name="ingest-json-from-a-payload" class="anchor"><span class="anchor-link"></span></a>Ingest JSON from a payload</h4>
<dl>
  <dt>Command</dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/utilities/assets/create_from_json.sh" target="_blank" title="Go to snippet source"></a><code class="language-sh">nexus resources create  -d \
&#39;{
  &quot;movieId&quot;:&quot;1&quot;,
  &quot;title&quot;: &quot;Toy Story (1995)&quot;,
  &quot;genres&quot;: &quot;Adventure|Animation|Children|Comedy|Fantasy&quot;
}&#39;</code></pre></dd>
</dl><div class="callout note "><div class="callout-title">Note</div>
<ul>
  <li>Note that ingesting a JSON array is not supported.</li>
</ul></div>
<p>By default Nexus generates an identifier (in fact a URI) for a created resource as shown in the output of the above command. Furthermore, it is possible to provide:</p>
<ul>
  <li>a specific identifier by setting the <strong>--id</strong> option</li>
  <li>and a type by setting the <strong>--type</strong> option</li>
</ul>
<dl>
  <dt>Command</dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/utilities/assets/create_from_json_with_id.sh" target="_blank" title="Go to snippet source"></a><code class="language-sh">nexus resources create  --id https://movies.com/movieId/1 \
                        --type https://schema.org/Movie -d \
                        &#39;{
                          &quot;movieId&quot;:&quot;1&quot;,
                          &quot;title&quot;: &quot;Toy Story (1995)&quot;,
                          &quot;genres&quot;: &quot;Adventure|Animation|Children|Comedy|Fantasy&quot;
                        }&#39;</code></pre></dd>
  <dt>Output</dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/utilities/assets/create_from_json-out.sh" target="_blank" title="Go to snippet source"></a><code class="language-sh">Resource created (id: https://movies.com/movieId/1)</code></pre></dd>
</dl>
<p>Identifiers and types can also be provided directly in the JSON payload using respectively: the <strong>@id</strong> and <strong>@type</strong> keys.</p>
<p>The created resource identified by <a href="https://movies.com/movieId/1">https://movies.com/movieId/1</a> can then be fetched using the following command :</p>
<dl>
  <dt>Command</dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/utilities/assets/fetch-create-json-cmd.sh" target="_blank" title="Go to snippet source"></a><code class="language-sh">nexus resources fetch https://movies.com/movieId/1</code></pre></dd>
  <dt>Output</dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/utilities/assets/fetch-create-json-out.sh" target="_blank" title="Go to snippet source"></a><code class="language-sh">{
  &quot;@context&quot;: [
    {
          &quot;@base&quot;: &quot;https://sandbox.bluebrainnexus.io/v1/resources/tutorialnexus/$PROJECTLABEL/_/&quot;,
          &quot;@vocab&quot;: &quot;https://sandbox.bluebrainnexus.io/v1/vocabs/tutorialnexus/$PROJECTLABEL/&quot;
    },
    &quot;https://bluebrain.github.io/nexus/contexts/resource.json&quot;
  ],
  &quot;@id&quot;: &quot;https://movies.com/movieId/1&quot;,
  &quot;@type&quot;: &quot;https://schema.org/Movie&quot;,
  &quot;genres&quot;: &quot;Adventure|Animation|Children|Comedy|Fantasy&quot;,
  &quot;movieId&quot;: &quot;1&quot;,
  &quot;title&quot;: &quot;Toy Story (1995)&quot;,
  &quot;_self&quot;: &quot;https://sandbox.bluebrainnexus.io/v1/resources/tutorialnexus/$PROJECTLABEL/_/https%3A%2F%2Fmovies.com%2FmovieId%2F1&quot;,
  &quot;_constrainedBy&quot;: &quot;https://bluebrain.github.io/nexus/schemas/unconstrained.json&quot;,
  &quot;_project&quot;: &quot;https://sandbox.bluebrainnexus.io/v1/projects/tutorialnexus/$PROJECTLABEL&quot;,
  &quot;_rev&quot;: 1,
  &quot;_deprecated&quot;: false,
  &quot;_createdAt&quot;: &quot;2019-06-28T21:26:29.197Z&quot;
}</code></pre></dd>
</dl>
<h4><a href="#ingest-json-from-a-file" name="ingest-json-from-a-file" class="anchor"><span class="anchor-link"></span></a>Ingest JSON from a file</h4>
<p>A JSON payload can be ingested from a file.</p>
<pre class="prettyprint"><code class="language-shell">nexus resources create --file /path/to/file.json
</code></pre>
<p>A directory (/path/to/dir) of JSON files can be ingested by using the following looping command: </p>
<pre class="prettyprint"><code class="language-shell">find /path/to/dir -name &#39;*.json&#39; -exec  nexus resources create --file {} \;
</code></pre>
<p>Ingested resources can be listed using the following command:</p>
<pre class="prettyprint"><code class="language-shell">nexus resources list --size 10
</code></pre>
<h3><a href="#ingest-csv-files" name="ingest-csv-files" class="anchor"><span class="anchor-link"></span></a>Ingest CSV files</h3>
<p>To illustrate how to load CSV files we will work with the small version of the <a href="http://files.grouplens.org/datasets/movielens/ml-latest-small.zip" title="MovieLens dataset" target="_blank" rel="noopener noreferrer">MovieLens dataset</a> containing a set of movies (movies.csv) along with their ratings (ratings.csv) and tags (tags.csv) made by users. An overview of this dataset can be found <a href="https://grouplens.org/datasets/movielens/">here</a>.</p>
<h4><a href="#download-the-dataset" name="download-the-dataset" class="anchor"><span class="anchor-link"></span></a>Download the dataset</h4>
<p>The <a href="http://files.grouplens.org/datasets/movielens/ml-latest-small.zip" title="MovieLens dataset" target="_blank" rel="noopener noreferrer">MovieLens dataset</a> can be downloaded either directly on a browser or using a curl command as shown below.</p>
<p>The following command download, unzip the dataset in the folder ~/ml-latest-small and list the files. The downloaded MovieLens dataset is made of four csv files as shown in the output tab.</p>
<dl>
  <dt>Command</dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/utilities/assets/downloadmovielens-cmd.sh" target="_blank" title="Go to snippet source"></a><code class="language-sh">cd ~ &amp;&amp; curl -s -O http://files.grouplens.org/datasets/movielens/ml-latest-small.zip &amp;&amp; unzip -qq ml-latest-small.zip &amp;&amp; cd ml-latest-small &amp;&amp; ls</code></pre></dd>
  <dt>Output</dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/utilities/assets/downloadmovielens-out.sh" target="_blank" title="Go to snippet source"></a><code class="language-sh">README.txt	links.csv	movies.csv	ratings.csv	tags.csv</code></pre></dd>
</dl>
<h4><a href="#load-the-dataset" name="load-the-dataset" class="anchor"><span class="anchor-link"></span></a>Load the dataset</h4>
<p>Let first load the movies and merge them with the links.</p>
<pre class="prettyprint"><code class="language-shell">nexus resources create -f ~/ml-latest-small/movies.csv -t Movie --format csv --idcolumn movieId --mergewith ~/ml-latest-small/links.csv --mergeon movieId --max-connections 4

</code></pre>
<p>Then we can load the tags.</p>
<pre class="prettyprint"><code class="language-shell">nexus resources create -f ~/ml-latest-small/tags.csv -t Tag --format csv --max-connections 50
</code></pre>
<p>And finally load the ratings. Loading 100837 resources might take some time and also it is not needed to load them all to follow this tutorial. The maximum number of concurrent connections (&ndash;max-connections) can be increased for better loading performance.</p>
<pre class="prettyprint"><code class="language-shell">nexus resources create -f ~/ml-latest-small/ratings.csv -t Rating --format csv --max-connections 50
</code></pre>
<h2><a href="#access-data" name="access-data" class="anchor"><span class="anchor-link"></span></a>Access data</h2>
<h3><a href="#view-data-in-nexus-web" name="view-data-in-nexus-web" class="anchor"><span class="anchor-link"></span></a>View data in Nexus Web</h3>
<p>Nexus is deployed with a web application allowing to browse organizations, projects, data and schemas you have access to. You can go to the address <a href="https://sandbox.bluebrainnexus.io/web">https://sandbox.bluebrainnexus.io/web</a> and browse the data you just loaded.</p>
<h3><a href="#list-data" name="list-data" class="anchor"><span class="anchor-link"></span></a>List data</h3>
<p>The simplest way to accessed data within Nexus is by listing them. The following command lists 5 resources:</p>
<dl>
  <dt>Command</dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/utilities/assets/list-res-cmd.sh" target="_blank" title="Go to snippet source"></a><code class="language-sh">nexus resources list --size 5</code></pre></dd>
  <dt>Output</dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/utilities/assets/list-res-out.sh" target="_blank" title="Go to snippet source"></a><code class="language-sh">+------------------------------------------------------------------------------------+----------------------------------------------------------------------------+----------+------------+
| Id                                                                                 | Type                                                                       | Revision | Deprecated |
+------------------------------------------------------------------------------------+----------------------------------------------------------------------------+----------+------------+
| https://sandbox.bluebrainnexus.io/v1/resources/tutorialnexus/$PROJECTLABEL/_/Movie_1  | https://sandbox.bluebrainnexus.io/v1/vocabs/tutorialnexus/$PROJECTLABEL/Movie | 1        | False      |
| https://sandbox.bluebrainnexus.io/v1/resources/tutorialnexus/$PROJECTLABEL/_/Movie_9  | https://sandbox.bluebrainnexus.io/v1/vocabs/tutorialnexus/$PROJECTLABEL/Movie | 1        | False      |
| https://sandbox.bluebrainnexus.io/v1/resources/tutorialnexus/$PROJECTLABEL/_/Movie_12 | https://sandbox.bluebrainnexus.io/v1/vocabs/tutorialnexus/$PROJECTLABEL/Movie | 1        | False      |
| https://sandbox.bluebrainnexus.io/v1/resources/tutorialnexus/$PROJECTLABEL/_/Movie_7  | https://sandbox.bluebrainnexus.io/v1/vocabs/tutorialnexus/$PROJECTLABEL/Movie | 1        | False      |
| https://sandbox.bluebrainnexus.io/v1/resources/tutorialnexus/$PROJECTLABEL/_/Movie_8  | https://sandbox.bluebrainnexus.io/v1/vocabs/tutorialnexus/$PROJECTLABEL/Movie | 1        | False      |
+------------------------------------------------------------------------------------+----------------------------------------------------------------------------+----------+------------+</code></pre></dd>
</dl>
<p>The full payload of the resources are not retrieved when listing them: only identifier, type as well as Nexus added metadata are. But the result list can be scrolled and each resource fetched by identifier.</p>
<dl>
  <dt>Command</dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/utilities/assets/fetch-res-id-cmd.sh" target="_blank" title="Go to snippet source"></a><code class="language-sh">nexus resources fetch https://sandbox.bluebrainnexus.io/v1/resources/tutorialnexus/$PROJECTLABEL/_/Movie_1</code></pre></dd>
  <dt>Output</dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/utilities/assets/fetch-res-id-out.sh" target="_blank" title="Go to snippet source"></a><code class="language-sh">{
  &quot;@context&quot;: [
    {
      &quot;@base&quot;: &quot;https://sandbox.bluebrainnexus.io/v1/resources/tutorialnexus/$PROJECTLABEL/_/&quot;,
      &quot;@vocab&quot;: &quot;https://sandbox.bluebrainnexus.io/v1/vocabs/tutorialnexus/$PROJECTLABEL/&quot;
    },
    &quot;https://bluebrain.github.io/nexus/contexts/resource.json&quot;
  ],
  &quot;@id&quot;: &quot;Movie_1&quot;,
  &quot;@type&quot;: &quot;Movie&quot;,
  &quot;genres&quot;: &quot;Adventure|Animation|Children|Comedy|Fantasy&quot;,
  &quot;imdbId&quot;: 114709,
  &quot;movieId&quot;: 1,
  &quot;title&quot;: &quot;Toy Story (1995)&quot;,
  &quot;tmdbId&quot;: 862.0,
  &quot;_self&quot;: &quot;../../resource/https%3A%2F%2Fbbp.epfl.ch%2Fnexus%2Fv1%2Fresources%2Ftutorialnexus%2F$PROJECTLABEL%2F_%2FMovie_1&quot;,
  &quot;_constrainedBy&quot;: &quot;nxs:resource.json&quot;,
  &quot;_project&quot;: &quot;../../../../../projects/tutorialnexus/$PROJECTLABEL&quot;,
  &quot;_createdAt&quot;: &quot;2019-01-17T10:32:02.221Z&quot;,
  &quot;_createdBy&quot;: &quot;....&quot;,
  &quot;_updatedAt&quot;: &quot;2019-01-17T10:32:02.221Z&quot;,
  &quot;_updatedBy&quot;: &quot;....&quot;,
  &quot;_rev&quot;: 1,
  &quot;_deprecated&quot;: false
}</code></pre></dd>
</dl>
<p>Whenever a resource is created, Nexus injects some useful metadata. The table below details some of them:</p>
<table>
  <thead>
    <tr>
      <th>Metadata </th>
      <th>Description </th>
      <th>Value Type </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>@id </td>
      <td>Generated resource identifier. The user can provide its own identifier. </td>
      <td>URI </td>
    </tr>
    <tr>
      <td>@type </td>
      <td>The type of the resource if provided by the user. </td>
      <td>URI </td>
    </tr>
    <tr>
      <td>_self </td>
      <td>The resource address within Nexus. It contains the resource management details such as the organization, the project and the schema. </td>
      <td>URI </td>
    </tr>
    <tr>
      <td>_createdAt </td>
      <td>The resource creation date. </td>
      <td>DateTime </td>
    </tr>
    <tr>
      <td>_createdBy </td>
      <td>The resource creator. </td>
      <td>DateTime </td>
    </tr>
  </tbody>
</table>
<p>Note that Nexus uses <a href="../getting-started/understanding-knowledge-graphs.html#json-ld">JSON-LD</a> as data exchange format.</p>
<p>Filters are available to list specific resources. For example a list of resources of type Rating can be retrieved by running the following command:</p>
<dl>
  <dt>Command</dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/utilities/assets/list-res-filter-cmd.sh" target="_blank" title="Go to snippet source"></a><code class="language-sh">nexus resources list --type Rating --size 5</code></pre></dd>
  <dt>Output</dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/utilities/assets/list-res-filter-out.sh" target="_blank" title="Go to snippet source"></a><code class="language-sh">+------------------------------------------------------------------------------------+----------------------------------------------------------------------------+----------+------------+
| Id                                                                                 | Type                                                                       | Revision | Deprecated |
+------------------------------------------------------------------------------------+----------------------------------------------------------------------------+----------+------------+
| https://sandbox.bluebrainnexus.io/v1/resources/tutorialnexus/$PROJECTLABEL/_/Rating_1  | https://sandbox.bluebrainnexus.io/v1/vocabs/tutorialnexus/$PROJECTLABEL/Rating | 1        | False      |
| https://sandbox.bluebrainnexus.io/v1/resources/tutorialnexus/$PROJECTLABEL/_/Rating_9  | https://sandbox.bluebrainnexus.io/v1/vocabs/tutorialnexus/$PROJECTLABEL/Rating | 1        | False      |
| https://sandbox.bluebrainnexus.io/v1/resources/tutorialnexus/$PROJECTLABEL/_/Rating_12 | https://sandbox.bluebrainnexus.io/v1/vocabs/tutorialnexus/$PROJECTLABEL/Rating | 1        | False      |
| https://sandbox.bluebrainnexus.io/v1/resources/tutorialnexus/$PROJECTLABEL/_/Rating_7  | https://sandbox.bluebrainnexus.io/v1/vocabs/tutorialnexus/$PROJECTLABEL/Rating | 1        | False      |
| https://sandbox.bluebrainnexus.io/v1/resources/tutorialnexus/$PROJECTLABEL/_/Rating_8  | https://sandbox.bluebrainnexus.io/v1/vocabs/tutorialnexus/$PROJECTLABEL/Rating | 1        | False      |
+------------------------------------------------------------------------------------+----------------------------------------------------------------------------+----------+------------+</code></pre></dd>
</dl><div class="callout note tip"><div class="callout-title">Listing with various filters using the CLI</div>
<p>As an exercise try to filter by tag to only retrieve resources of type Tag.</p></div>
<h3><a href="#query-data" name="query-data" class="anchor"><span class="anchor-link"></span></a>Query data</h3>
<p>Listing is usually not enough to select specific subset of data. Data ingested within each project can be searched through two complementary search interfaces called <a href="../delta/api/current/views/index.html">views</a>.</p>
<table>
  <thead>
    <tr>
      <th>View </th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>ElasticSearchView </td>
      <td>Exposes data in <a href="https://www.elastic.co/elasticsearch/" title="ElasticSearch" target="_blank" rel="noopener noreferrer">ElasticSearch</a> a document oriented search engine and provide access to it using the <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-request-body.html" title="ElasticSearch query language" target="_blank" rel="noopener noreferrer">ElasticSearch query language</a>.</td>
    </tr>
    <tr>
      <td>SparqlView </td>
      <td>Exposes data as a graph and allows to navigate and explore the data using the <a href="https://www.w3.org/TR/sparql11-query/" title="W3C SPARQL query language" target="_blank" rel="noopener noreferrer">W3C SPARQL query language</a>.</td>
    </tr>
  </tbody>
</table><div class="callout note "><div class="callout-title">Note</div>
<p>Note that the following queries (ElasticSearch and SPARQL) contain the variable $PROJECTLABEL. It should be replaced by the current project. Please copy each query and use a text editor to replace $PROJECTLABEL.</p></div>
<h4><a href="#query-data-using-the-elasticsearchview" name="query-data-using-the-elasticsearchview" class="anchor"><span class="anchor-link"></span></a>Query data using the ElasticSearchView</h4>
<p>The ElasticSearchView URL is available at the address <code>https://sandbox.bluebrainnexus.io/v1/views/tutorialnexus/$PROJECTLABEL/documents/_search</code>.</p>
<dl>
  <dt>Select queries</dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/utilities/assets/select_elastic.sh" target="_blank" title="Go to snippet source"></a><code class="language-sh"># Select 5 ratings sorted by creation date in descending order
nexus views query-es --data \
&#39;{
     &quot;size&quot;:5,
     &quot;sort&quot; : [
       {
        &quot;_createdAt&quot; : {&quot;order&quot; : &quot;desc&quot;}
       }
     ],
     &quot;query&quot;: {
     	&quot;terms&quot; : {&quot;@type&quot;:[&quot;https://sandbox.bluebrainnexus.io/v1/vocabs/tutorialnexus/$PROJECTLABEL/Rating&quot;]}
     }
 }&#39;
</code></pre></dd>
  <dt>Graph navigation queries</dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/utilities/assets/graph_elastic.sh" target="_blank" title="Go to snippet source"></a><code class="language-sh"># Not possible by default.
# Relationships handling needs to be made explicit to ElasticSearch through a mapping.

</code></pre></dd>
</dl>
<h4><a href="#query-data-using-the-sparqlview" name="query-data-using-the-sparqlview" class="anchor"><span class="anchor-link"></span></a>Query data using the SparqlView</h4>
<p>The SparqlView is available at the address <code>https://sandbox.bluebrainnexus.io/v1/views/tutorialnexus/$PROJECTLABEL/graph/sparql]</code>. The following diagram shows how the MovieLens data is structured in the default Nexus SparqlView. Note that the ratings, tags and movies are joined by the movieId property.</p>
<dl>
  <dt>Select queries</dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/utilities/assets/select_sparql.sh" target="_blank" title="Go to snippet source"></a><code class="language-sh"># Select 5 ratings sorted by creation date in descending order
nexus views query-sparql --data \
&#39;
PREFIX vocab: &lt;https://sandbox.bluebrainnexus.io/v1/vocabs/tutorialnexus/$PROJECTLABEL/&gt;
PREFIX nxv: &lt;https://bluebrain.github.io/nexus/vocabulary/&gt;

Select ?userId ?moviedId ?rating ?createdAt
 WHERE  {

    ?ratingNode a vocab:Rating.
    ?ratingNode nxv:createdAt ?createdAt.
    ?ratingNode vocab:userId  ?userId.
    ?ratingNode vocab:movieId ?moviedId.
    ?ratingNode vocab:rating  ?rating.
}
ORDER BY DESC (?creationDate)
LIMIT 5&#39;</code></pre></dd>
  <dt>Graph navigation queries</dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/utilities/assets/analytics_sparql.sh" target="_blank" title="Go to snippet source"></a><code class="language-sh"># Average rating score for movies tagged as funny
nexus views query-sparql --data \
&#39;
PREFIX vocab: &lt;https://sandbox.bluebrainnexus.io/v1/vocabs/tutorialnexus/$PROJECTLABEL/&gt;
PREFIX nxv: &lt;https://bluebrain.github.io/nexus/vocabulary/&gt;

Select (AVG(?ratingvalue) AS ?score)
 WHERE  {
    # Select movies
    ?movie a vocab:Movie.

    # Select their movieId values
    ?movie vocab:movieId ?movieId.

    # Keep movies with &#39;funny&#39; tags
    ?tag a vocab:Tag.
    ?tag vocab:movieId ?movieId.
    ?tag vocab:tag ?tagvalue.
    FILTER(?tagvalue = &quot;funny&quot;).
    
    # Keep movies with ratings
    ?rating a vocab:Rating.
    ?rating vocab:movieId ?ratingmovieId.
    FILTER(xsd:integer(?ratingmovieId) = xsd:integer(?movieId))
    ?rating vocab:rating ?ratingvalue.

}&#39;</code></pre></dd>
</dl>
<h2><a href="#share-data" name="share-data" class="anchor"><span class="anchor-link"></span></a>Share data</h2>
<p>Making a dataset public means granting read permissions to &ldquo;anonymous&rdquo; user.</p>
<pre class="prettyprint"><code class="language-shell">$ nexus acls make-public
</code></pre>
<p>To check that the dataset is now public:</p>
<ul>
  <li>Ask the person next to you to list resources in your project.</li>
  <li>Or create and select another profile named public-tutorial (following the instructions in the <a href="nexus-python-cli.html#set-up">Set up</a>. You should see the that the public-tutorial is selected and its corresponding token column is None.</li>
</ul>
<dl>
  <dt>Output</dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/utilities/assets/select-profile-public-out.sh" target="_blank" title="Go to snippet source"></a><code class="language-sh">Selected profile: tutorial
+-------------------+----------+-------------------------------------+------------------+
| Profile           | Selected | URL                                 |       Token      |
+-------------------+----------+-------------------------------------+------------------+
| tutorial          |          | https://sandbox.bluebrainnexus.io/v1         |  Expiry: 2019... |
| public-tutorial   |   Yes    | https://sandbox.bluebrainnexus.io/v1         |       None       |
+-------------------+----------+-------------------------------------+------------------+</code></pre></dd>
</dl>
<ul>
  <li>Resources in your project should be listed with the command even though you are not authenticated.</li>
</ul>
<dl>
  <dt>Command</dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/utilities/assets/list-res-org-proj-cmd.sh" target="_blank" title="Go to snippet source"></a><code class="language-sh">nexus resources list --size 5 -o tutorialnexus -p $PROJECTLABEL</code></pre></dd>
</dl>
</div>
<div>
<a href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/utilities/nexus-python-cli.md" title="Edit this page" class="md-source-file md-edit">
Edit this page
</a>
</div>
<div class="print-only">
<span class="md-source-file md-version">
3ac985e4
</span>
</div>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-nav">
<nav class="md-footer-nav__inner md-grid">
<a href="../../docs/utilities/projections.html" title="Indexing data in other systems" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
<div class="md-flex__cell md-flex__cell--shrink">
<i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
</div>
<div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
<span class="md-flex__ellipsis">
<span class="md-footer-nav__direction">
Previous
</span>
Indexing data in other systems
</span>
</div>
</a>
<a href="../../docs/faq.html" title="FAQ" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
<div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
<span class="md-flex__ellipsis">
<span class="md-footer-nav__direction">
Next
</span>
FAQ
</span>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
</div>
</a>
</nav>
</div>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-footer-copyright">
<div class="md-footer-copyright__highlight">
Nexus is Open Source and available under the Apache 2 License.<br/>
Â© 2017-2020 <a href="https://epfl.ch/">EPFL</a> | <a href="https://bluebrain.epfl.ch/">The Blue Brain Project</a>

</div>
Powered by
<a href="https://github.com/lightbend/paradox">Paradox</a>
and
<a href="https://jonas.github.io/paradox-material-theme/">Paradox Material Theme</a>

</div>
<div class="md-footer-social">
<a href="https://github.com/BlueBrain" class="md-footer-social__link fa fa-github"></a><a href="https://gitter.im/BlueBrain/nexus" class="md-footer-social__link fa fa-globe"></a>
</div>

</div>
</div>
</footer>

</div>
<script src="../../assets/javascripts/application.583bbe55.js"></script>
<script src="../../assets/javascripts/paradox-material-theme.js"></script>
<script>app.initialize({version:"0.17",url:{base:"../../."}})</script>
<script type="text/javascript" src="../../lib/prettify/prettify.js"></script>
<script type="text/javascript" src="../../lib/prettify/lang-scala.js"></script>
<script type="text/javascript">
document.addEventListener("DOMContentLoaded", function(event) {
window.prettyPrint && prettyPrint();
});
</script>
<script src="../.././public/js/gtm.js"></script>
</body>
</html>
