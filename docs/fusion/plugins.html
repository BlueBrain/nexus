<!DOCTYPE html>
<html lang="en" class="no-js">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="description" content="docs">
<meta name="generator" content="Paradox, paradox-material-theme=0.5.1, mkdocs-material=3.0.3">

<meta name="lang:clipboard.copy" content="Copy to clipboard">
<meta name="lang:clipboard.copied" content="Copied to clipboard">
<meta name="lang:search.language" content="">
<meta name="lang:search.pipeline.stopwords" content="true">
<meta name="lang:search.pipeline.trimmer" content="true">
<meta name="lang:search.result.none" content="No matching documents">
<meta name="lang:search.result.one" content="1 matching document">
<meta name="lang:search.result.other" content="# matching documents">
<meta name="lang:search.tokenizer" content="[\s\-]+">


<meta name="description" content="docs">
<link rel="shortcut icon" href="../.././assets/img/favicon-32x32.png">
<title>Plugins · Blue Brain Nexus</title>
<link rel="stylesheet" href="../../assets/stylesheets/application.451f80e5.css">
<link rel="stylesheet" href="../../assets/stylesheets/application-palette.22915126.css">
<meta name="theme-color" content="#03a9f4" />
<link rel="stylesheet" href="../../lib/material__tabs/dist/mdc.tabs.min.css">
<link rel="stylesheet" href="../../lib/prettify/prettify.css">
<script src="../../assets/javascripts/modernizr.1aa3b519.js"></script>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
<style>
body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}
code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}
</style>
<link rel="stylesheet" href="../../assets/fonts/font-awesome.css">
<link rel="stylesheet" href="../../assets/fonts/material-icons.css">
<link rel="stylesheet" href="../../assets/stylesheets/paradox-material-theme.css">
<link rel="stylesheet" href="../.././assets/css/docs.css">
</head>
<body
data-md-color-primary="light-blue"
data-md-color-accent="cyan"
>
<input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
<input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
<label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
<header class="md-header" data-md-component="header">
<nav class="md-header-nav md-grid">
<div class="md-flex">
<div class="md-flex__cell md-flex__cell--shrink">
<a href="../../docs/index.html" title="Blue Brain Nexus" class="md-header-nav__button md-logo">
<img src="../.././assets/img/logo.png" width="24" height="24">
</a>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
</div>
<div class="md-flex__cell md-flex__cell--stretch">
<div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
<span class="md-header-nav__topic">
Blue Brain Nexus
</span>
<span class="md-header-nav__topic">
Plugins
</span>
</div>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
<label class="md-icon md-search__icon" for="__search"></label>
<button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">&#xE5CD;</button>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix>
<div class="md-search-result" data-md-component="result">
<div class="md-search-result__meta">
Type to start searching
</div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>

</div>
<div class="md-flex__cell md-flex__cell--shrink">
<div class="md-header-nav__source">
<a href="https://github.com/BlueBrain/nexus"
title="Go to repository"
class="md-source"
data-md-source="github">
<div class="md-source__icon">
<i class="fa fa-github"></i>
</div>
<div class="md-source__repository">
BlueBrain/nexus
</div>
</a>

</div>
</div>
</div>
</nav>
</header>

<div class="md-container">
<main class="md-main">
<div class="md-main__inner md-grid" data-md-component="container">
<div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav class="md-nav md-nav--primary" data-md-level="0" style="visibility: hidden">
<label class="md-nav__title md-nav__title--site" for="drawer">
<a href="../../docs/index.html" title="Blue Brain Nexus" class="md-nav__button md-logo">
<span class="md-nav__button md-logo">
<img src="../.././assets/img/logo.png" width="24" height="24">
</a>
<a href="../../docs/index.html" title="Blue Brain Nexus">
Blue Brain Nexus
</a>
</label>
<div class="md-nav__source">
<a href="https://github.com/BlueBrain/nexus"
title="Go to repository"
class="md-source"
data-md-source="github">
<div class="md-source__icon">
<i class="fa fa-github"></i>
</div>
<div class="md-source__repository">
BlueBrain/nexus
</div>
</a>

</div>
<ul>
  <li><a href="../../docs/getting-started/index.html" class="page">Getting Started</a>
  <ul>
    <li><a href="../../docs/getting-started/understanding-knowledge-graphs.html" class="page">Understanding Knowledge Graphs</a></li>
    <li><a href="../../docs/getting-started/try-nexus.html" class="page">Try Nexus</a></li>
    <li><a href="../../docs/getting-started/running-nexus.html" class="page">Running Nexus</a></li>
  </ul></li>
  <li><a href="../../docs/releases/index.html" class="page">Releases</a>
  <ul>
    <li><a href="../../docs/releases/v1.4-release-notes.html" class="page">v1.4 Release Notes</a></li>
    <li><a href="../../docs/releases/v1.3-to-v1.4-migration.html" class="page">v1.3 To v1.4 Migration</a></li>
    <li><a href="../../docs/releases/v1.3-release-notes.html" class="page">v1.3 Release Notes</a></li>
    <li><a href="../../docs/releases/v1.2-to-v1.3-migration.html" class="page">v1.2 To v1.3 Migration</a></li>
    <li><a href="../../docs/releases/v1.2-release-notes.html" class="page">v1.2 Release Notes</a></li>
    <li><a href="../../docs/releases/v1.1-release-notes.html" class="page">v1.1 Release Notes</a></li>
    <li><a href="../../docs/releases/v1.0-to-v1.1-migration.html" class="page">v1.0 To v1.1 Migration</a></li>
    <li><a href="../../docs/releases/v1.0-release-notes.html" class="page">v1.0 Release Notes</a></li>
  </ul></li>
  <li><a href="../../docs/roadmap.html" class="page">Roadmap</a></li>
  <li><a href="../../docs/fusion/index.html" class="page">Nexus Fusion</a>
  <ul>
    <li><a href="../../docs/fusion/architecture.html" class="page">Architecture</a></li>
    <li><a href="../../docs/fusion/plugins.html" class="active page">Plugins</a></li>
    <li><a href="../../docs/fusion/studio.html" class="page">Studios</a></li>
    <li><a href="../../docs/fusion/admin.html" class="page">Admin</a></li>
    <li><a href="../../docs/fusion/add-your-own-app.html" class="page">Add your own App</a></li>
  </ul></li>
  <li><a href="../../docs/forge.html" class="page">Nexus Forge</a></li>
  <li><a href="../../docs/delta/index.html" class="page">Nexus Delta</a>
  <ul>
    <li><a href="../../docs/delta/architecture.html" class="page">Architecture</a></li>
    <li><a href="../../docs/delta/api/current/index.html" class="page">API Reference</a>
    <ul>
      <li><a href="../../docs/delta/api/current/operating-on-resources.html" class="page">Operating on resources</a></li>
      <li><a href="../../docs/delta/api/current/iam-realms-api.html" class="page">Realms</a></li>
      <li><a href="../../docs/delta/api/current/authentication.html" class="page">Authentication</a></li>
      <li><a href="../../docs/delta/api/current/iam-permissions-api.html" class="page">Permissions</a></li>
      <li><a href="../../docs/delta/api/current/iam-acls-api.html" class="page">Access Control Lists</a></li>
      <li><a href="../../docs/delta/api/current/iam-identities.html" class="page">Identities</a></li>
      <li><a href="../../docs/delta/api/current/admin-orgs-api.html" class="page">Organizations</a></li>
      <li><a href="../../docs/delta/api/current/admin-projects-api.html" class="page">Projects</a></li>
      <li><a href="../../docs/delta/api/current/kg-schemas-api.html" class="page">Schemas</a></li>
      <li><a href="../../docs/delta/api/current/kg-resolvers-api.html" class="page">Resolvers</a></li>
      <li><a href="../../docs/delta/api/current/views/index.html" class="page">Views</a>
      <ul>
        <li><a href="../../docs/delta/api/current/views/elasticsearch-view-api.html" class="page">ElasticSearchView</a></li>
        <li><a href="../../docs/delta/api/current/views/sparql-view-api.html" class="page">SparqlView</a></li>
        <li><a href="../../docs/delta/api/current/views/composite-view-api.html" class="page">CompositeView</a></li>
        <li><a href="../../docs/delta/api/current/views/aggregated-es-view-api.html" class="page">AggregateElasticSearchView</a></li>
        <li><a href="../../docs/delta/api/current/views/aggregated-sparql-view-api.html" class="page">AggregateSparqlView</a></li>
      </ul></li>
      <li><a href="../../docs/delta/api/current/kg-storages-api.html" class="page">Storages</a></li>
      <li><a href="../../docs/delta/api/current/kg-files-api.html" class="page">Files</a></li>
      <li><a href="../../docs/delta/api/current/kg-archives-api.html" class="page">Archives</a></li>
      <li><a href="../../docs/delta/api/current/kg-resources-api.html" class="page">Resources</a></li>
      <li><a href="../../docs/delta/api/current/error-signaling.html" class="page">Error Signaling</a></li>
    </ul></li>
    <li><a href="../../docs/delta/benchmarks.html" class="page">Benchmarks</a></li>
  </ul></li>
  <li><a href="../../docs/utilities/index.html" class="page">Utilities</a>
  <ul>
    <li><a href="../../docs/utilities/projections.html" class="page">Indexing data in other systems</a></li>
    <li><a href="../../docs/utilities/nexus-python-cli.html" class="page">MovieLens Tutorial using the Nexus Python CLI</a></li>
  </ul></li>
  <li><a href="../../docs/faq.html" class="page">FAQ</a></li>
</ul>
<nav class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">Table of contents</label>
<ul>
  <li><a href="../../docs/fusion/plugins.html#plugins" class="header">Plugins</a>
  <ul>
    <li><a href="../../docs/fusion/plugins.html#what-are-plugins" class="header">What are Plugins</a></li>
    <li><a href="../../docs/fusion/plugins.html#plugin-examples" class="header">Plugin examples</a></li>
    <li><a href="../../docs/fusion/plugins.html#development" class="header">Development</a>
    <ul>
      <li><a href="../../docs/fusion/plugins.html#configuring-nexus-fusion-to-run-your-plugins" class="header">Configuring Nexus Fusion to run your plugins</a></li>
    </ul></li>
    <li><a href="../../docs/fusion/plugins.html#plugin-manifest" class="header">Plugin Manifest</a>
    <ul>
      <li><a href="../../docs/fusion/plugins.html#matching-all-resources" class="header">Matching all resources</a></li>
      <li><a href="../../docs/fusion/plugins.html#matching-a-resource-with-a-specific-type-and-shape" class="header">Matching a resource with a specific type and shape</a></li>
    </ul></li>
    <li><a href="../../docs/fusion/plugins.html#default-plugins" class="header">Default Plugins</a>
    <ul>
      <li><a href="../../docs/fusion/plugins.html#admin-plugin" class="header">Admin Plugin</a></li>
    </ul></li>
  </ul></li>
</ul>
</nav>

</nav>
<ul style="display: none">
<li class="md-nav__item md-version" id="project.version">
<label class="md-nav__link" for="__version">
<i class="md-icon" title="Version">label_outline</i> edd2ea37
</label>
</li>
</ul>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">Table of contents</label>
<ul>
  <li><a href="../../docs/fusion/plugins.html#plugins" class="header">Plugins</a>
  <ul>
    <li><a href="../../docs/fusion/plugins.html#what-are-plugins" class="header">What are Plugins</a></li>
    <li><a href="../../docs/fusion/plugins.html#plugin-examples" class="header">Plugin examples</a></li>
    <li><a href="../../docs/fusion/plugins.html#development" class="header">Development</a>
    <ul>
      <li><a href="../../docs/fusion/plugins.html#configuring-nexus-fusion-to-run-your-plugins" class="header">Configuring Nexus Fusion to run your plugins</a></li>
    </ul></li>
    <li><a href="../../docs/fusion/plugins.html#plugin-manifest" class="header">Plugin Manifest</a>
    <ul>
      <li><a href="../../docs/fusion/plugins.html#matching-all-resources" class="header">Matching all resources</a></li>
      <li><a href="../../docs/fusion/plugins.html#matching-a-resource-with-a-specific-type-and-shape" class="header">Matching a resource with a specific type and shape</a></li>
    </ul></li>
    <li><a href="../../docs/fusion/plugins.html#default-plugins" class="header">Default Plugins</a>
    <ul>
      <li><a href="../../docs/fusion/plugins.html#admin-plugin" class="header">Admin Plugin</a></li>
    </ul></li>
  </ul></li>
</ul>
</nav>

</div>
</div>
</div>
<div class="md-content">
<article class="md-content__inner md-typeset">
<div class="md-content__searchable">
<h1><a href="#plugins" name="plugins" class="anchor"><span class="anchor-link"></span></a>Plugins</h1>
<p>A resource returned by the Nexus Delta API is usually a JSON-LD document. By default Nexus Fusion displays JSON-LD in a code editor. If the user has edit access to the document, they can update the resource in the editor.</p>
<p>Resources can represent a wide variety of scientific artifacts. It can be a neuron morphology, neuron electro physiology, a set of files to download, a set of images and so on. So a user may want to extend Nexus Fusion to allow them to visualize or otherwise extend the presentation layer with logic specific to their resource type. Plugins are a way to accomplish this.</p>
<h2><a href="#what-are-plugins" name="what-are-plugins" class="anchor"><span class="anchor-link"></span></a>What are Plugins</h2>
<p>A core component of Studio is the ability for data curators to develop a domain-specific presentation layer for their resources in Nexus Fusion. This allows data consumers to visualize their datasets using graphs, charts, or 3D visualizations, and to present the relevant metadata to the user.</p>
<p>Plugins are developed using Javascript and are loaded into the Nexus Fusion instance from the <a href="https://github.com/BlueBrain/nexus-web/tree/master/plugins">/plugins</a> folder.</p>
<h2><a href="#plugin-examples" name="plugin-examples" class="anchor"><span class="anchor-link"></span></a>Plugin examples</h2>
<p>Below you can find the screenshots from some plugins that can be integrated into Nexus Fusion. They extend the Nexus Fusion presentation layer.</p>
<p>Neuron Electro physiology viewer <img src="../assets/fusion-ephys-plugin.png" /></p>
<p>MINDS Metedata viewer <img src="../assets/fusion-metadata-plugin.png" /></p>
<p>Data download plugin <img src="../assets/fusion-download-plugin.png" /></p>
<h2><a href="#development" name="development" class="anchor"><span class="anchor-link"></span></a>Development</h2>
<p>Your plugin must export a default function with the following signature:</p>
<pre class="prettyprint"><code class="language-typescript">export default ({ ref: HTMLElement, nexusClient: NexusClient, resource: Resource&lt;T&gt; }) =&gt; {
  return () =&gt; {
    // optional callback when your plugin is unmounted from the page
  };
};
</code></pre>
<p>Nexus Plugins uses <a href="https://github.com/systemjs/systemjs">SystemJS</a>.</p>
<p>You have to transpile and bundle your code using SystemJS as output:</p>
<ul>
  <li>with <a href="https://rollupjs.org/guide/en/#outputformat">rollup</a>: use <code>system</code> as output format</li>
  <li>with <a href="https://webpack.js.org/configuration/output/#outputlibrarytarget">webpack</a>: use <code>system</code> as <code>outputTarget</code></li>
</ul>
<h3><a href="#configuring-nexus-fusion-to-run-your-plugins" name="configuring-nexus-fusion-to-run-your-plugins" class="anchor"><span class="anchor-link"></span></a>Configuring Nexus Fusion to run your plugins</h3>
<p>Once you have your Javascript bundled into a single file, you can place it in the <code>./plugins</code> folder at the root of your Nexus Fusion instance.</p>
<p>Plugins should follow this folder naming convention:</p>
<pre><code>.
│   README.md
│
└───plugins
│   └───my-nexus-plugin
│       │   index.js
│   └───yet-another-nexus-plugin
│       │   index.js
│   ...
</code></pre>
<h2><a href="#plugin-manifest" name="plugin-manifest" class="anchor"><span class="anchor-link"></span></a>Plugin Manifest</h2>
<p>The plugin manifest should be available at the same remote endpoint as the plugins. This is so Nexus Fusion can find the plugins and apply them dynamically.</p>
<p>The plugin manifest is a JSON object with keys that correspond to the plugin name with a value that corresponds to a descriptive payload of where to find the manifest, as well as some information about it&rsquo;s development. It&rsquo;s similar to a package.json file.</p>
<pre class="prettyprint"><code class="language-json">{
    &quot;circuit&quot;: {
      &quot;modulePath&quot;: &quot;circuit.f7755e13c8b410efdf02.js&quot;,
      &quot;name&quot;: &quot;Circuit&quot;,
      &quot;description&quot;: &quot;&quot;,
      &quot;version&quot;: &quot;&quot;,
      &quot;tags&quot;: [],
      &quot;author&quot;: &quot;&quot;,
      &quot;license&quot;: &quot;&quot;,
      &quot;mapping&quot;: {}
    }
}
</code></pre>
<p>Plugin Config</p>
<p>The plugin config should be available as an object under the <code>mapping</code> key of the plugin manifest. This tells Nexus Fusion when a plugin should be displayed, by matching a resource to a shape.</p>
<h3><a href="#matching-all-resources" name="matching-all-resources" class="anchor"><span class="anchor-link"></span></a>Matching all resources</h3>
<p>The following will show <code>nexus-plugin-test</code> for <em>every</em> resource in Nexus Fusion.</p>
<pre class="prettyprint"><code class="language-json">{
    &quot;nexus-plugin-test&quot;: {
      &quot;modulePath&quot;: &quot;nexus-plugin-test.js&quot;,
      &quot;name&quot;: &quot;Nexus Plugin Test&quot;,
      &quot;description&quot;: &quot;&quot;,
      &quot;version&quot;: &quot;&quot;,
      &quot;tags&quot;: [],
      &quot;author&quot;: &quot;&quot;,
      &quot;license&quot;: &quot;&quot;,
      &quot;mapping&quot;: {}
    }
}
</code></pre>
<h3><a href="#matching-a-resource-with-a-specific-type-and-shape" name="matching-a-resource-with-a-specific-type-and-shape" class="anchor"><span class="anchor-link"></span></a>Matching a resource with a specific type and shape</h3>
<p>The following will show <code>nexus-plugin-test</code> for any resource of type <code>File</code> but only if they have a <code>distribution.encodingFormat</code> property that&rsquo;s <code>application/swc</code></p>
<pre class="prettyprint"><code class="language-json">{
    &quot;nexus-plugin-test&quot;: {
      &quot;modulePath&quot;: &quot;nexus-plugin-test.js&quot;,
      &quot;name&quot;: &quot;Nexus Plugin Test&quot;,
      &quot;description&quot;: &quot;&quot;,
      &quot;version&quot;: &quot;&quot;,
      &quot;tags&quot;: [],
      &quot;author&quot;: &quot;&quot;,
      &quot;license&quot;: &quot;&quot;,
      &quot;mapping&quot;: {
        &quot;@type&quot;: &quot;File&quot;,
        &quot;distribution:&quot; {
            &quot;encodingFormat&quot;: &quot;application/swc&quot;
        }
    }
}
</code></pre>
<h2><a href="#default-plugins" name="default-plugins" class="anchor"><span class="anchor-link"></span></a>Default Plugins</h2>
<p>Default plugins are part of Fusion. They define the default presentation of resources.</p>
<h3><a href="#admin-plugin" name="admin-plugin" class="anchor"><span class="anchor-link"></span></a>Admin Plugin</h3>
<p>Admin Plugin displays JSON-LD in a code editor. If the user has edit access to the document, they can update the resource in the editor. It also has few additional tabs. History, Links and Graph. History tab displays the edit history of the resource. A user can explore the graph view of the resource in Graph tab. They can also view the incoming and out going links of the resource in Links tab.</p>
</div>
<div>
<a href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/fusion/plugins.md" title="Edit this page" class="md-source-file md-edit">
Edit this page
</a>
</div>
<div class="print-only">
<span class="md-source-file md-version">
edd2ea37
</span>
</div>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-nav">
<nav class="md-footer-nav__inner md-grid">
<a href="../../docs/fusion/architecture.html" title="Architecture" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
<div class="md-flex__cell md-flex__cell--shrink">
<i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
</div>
<div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
<span class="md-flex__ellipsis">
<span class="md-footer-nav__direction">
Previous
</span>
Architecture
</span>
</div>
</a>
<a href="../../docs/fusion/studio.html" title="Studios" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
<div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
<span class="md-flex__ellipsis">
<span class="md-footer-nav__direction">
Next
</span>
Studios
</span>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
</div>
</a>
</nav>
</div>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-footer-copyright">
<div class="md-footer-copyright__highlight">
Nexus is Open Source and available under the Apache 2 License.<br/>
© 2017-2020 <a href="https://epfl.ch/">EPFL</a> | <a href="https://bluebrain.epfl.ch/">The Blue Brain Project</a>

</div>
Powered by
<a href="https://github.com/lightbend/paradox">Paradox</a>
and
<a href="https://jonas.github.io/paradox-material-theme/">Paradox Material Theme</a>

</div>
<div class="md-footer-social">
<a href="https://github.com/BlueBrain" class="md-footer-social__link fa fa-github"></a><a href="https://gitter.im/BlueBrain/nexus" class="md-footer-social__link fa fa-globe"></a>
</div>

</div>
</div>
</footer>

</div>
<script src="../../assets/javascripts/application.583bbe55.js"></script>
<script src="../../assets/javascripts/paradox-material-theme.js"></script>
<script>app.initialize({version:"0.17",url:{base:"../../."}})</script>
<script type="text/javascript" src="../../lib/prettify/prettify.js"></script>
<script type="text/javascript" src="../../lib/prettify/lang-scala.js"></script>
<script type="text/javascript">
document.addEventListener("DOMContentLoaded", function(event) {
window.prettyPrint && prettyPrint();
});
</script>
<script src="../.././public/js/gtm.js"></script>
</body>
</html>
