<!DOCTYPE html>
<html lang="en" class="no-js">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="description" content="nexus">
<meta name="generator" content="Paradox, paradox-material-theme=0.5.1, mkdocs-material=3.0.3">

<meta name="lang:clipboard.copy" content="Copy to clipboard">
<meta name="lang:clipboard.copied" content="Copied to clipboard">
<meta name="lang:search.language" content="">
<meta name="lang:search.pipeline.stopwords" content="true">
<meta name="lang:search.pipeline.trimmer" content="true">
<meta name="lang:search.result.none" content="No matching documents">
<meta name="lang:search.result.one" content="1 matching document">
<meta name="lang:search.result.other" content="# matching documents">
<meta name="lang:search.tokenizer" content="[\s\-]+">


<meta name="description" content="nexus">
<link rel="shortcut icon" href="../../../.././assets/img/favicon-32x32.png">
<title>Quick Start · Blue Brain Nexus tutorials</title>
<link rel="stylesheet" href="../../../../assets/stylesheets/application.451f80e5.css">
<link rel="stylesheet" href="../../../../assets/stylesheets/application-palette.22915126.css">
<meta name="theme-color" content="#03a9f4" />
<link rel="stylesheet" href="../../../../lib/material__tabs/dist/mdc.tabs.min.css">
<link rel="stylesheet" href="../../../../lib/prettify/prettify.css">
<script src="../../../../assets/javascripts/modernizr.1aa3b519.js"></script>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
<style>
body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}
code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}
</style>
<link rel="stylesheet" href="../../../../assets/fonts/font-awesome.css">
<link rel="stylesheet" href="../../../../assets/fonts/material-icons.css">
<link rel="stylesheet" href="../../../../assets/stylesheets/paradox-material-theme.css">
<link rel="stylesheet" href="../../../.././assets/css/docs.css">
</head>
<body
data-md-color-primary="light-blue"
data-md-color-accent="cyan"
>
<input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
<input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
<label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
<header class="md-header" data-md-component="header">
<nav class="md-header-nav md-grid">
<div class="md-flex">
<div class="md-flex__cell md-flex__cell--shrink">
<a href="../../../../docs/tutorial/index.html" title="Blue Brain Nexus tutorials" class="md-header-nav__button md-logo">
<img src="../../../.././assets/img/logo.png" width="24" height="24">
</a>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
</div>
<div class="md-flex__cell md-flex__cell--stretch">
<div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
<span class="md-header-nav__topic">
Blue Brain Nexus tutorials
</span>
<span class="md-header-nav__topic">
Quick Start
</span>
</div>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
<label class="md-icon md-search__icon" for="__search"></label>
<button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">&#xE5CD;</button>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix>
<div class="md-search-result" data-md-component="result">
<div class="md-search-result__meta">
Type to start searching
</div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>

</div>
<div class="md-flex__cell md-flex__cell--shrink">
<div class="md-header-nav__source">
<a href="https://github.com/BlueBrain/nexus"
title="Go to repository"
class="md-source"
data-md-source="github">
<div class="md-source__icon">
<i class="fa fa-github"></i>
</div>
<div class="md-source__repository">
BlueBrain/nexus
</div>
</a>

</div>
</div>
</div>
</nav>
</header>

<div class="md-container">
<main class="md-main">
<div class="md-main__inner md-grid" data-md-component="container">
<div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav class="md-nav md-nav--primary" data-md-level="0" style="visibility: hidden">
<label class="md-nav__title md-nav__title--site" for="drawer">
<a href="../../../../docs/tutorial/index.html" title="Blue Brain Nexus tutorials" class="md-nav__button md-logo">
<span class="md-nav__button md-logo">
<img src="../../../.././assets/img/logo.png" width="24" height="24">
</a>
<a href="../../../../docs/tutorial/index.html" title="Blue Brain Nexus tutorials">
Blue Brain Nexus tutorials
</a>
</label>
<div class="md-nav__source">
<a href="https://github.com/BlueBrain/nexus"
title="Go to repository"
class="md-source"
data-md-source="github">
<div class="md-source__icon">
<i class="fa fa-github"></i>
</div>
<div class="md-source__repository">
BlueBrain/nexus
</div>
</a>

</div>
<ul>
  <li><a href="../../../../docs/tutorial/getting-started/index.html" class="page">Getting Started</a>
  <ul>
    <li><a href="../../../../docs/tutorial/getting-started/quick-start/index.html" class="active page">Quick Start</a></li>
    <li><a href="../../../../docs/tutorial/getting-started/dataset/index.html" class="page">The MovieLens Dataset</a></li>
  </ul></li>
  <li><a href="../../../../docs/tutorial/knowledge-graph/index.html" class="page">Understanding knowledge graphs</a>
  <ul>
    <li><a href="../../../../docs/tutorial/knowledge-graph/thinking-in-graph.html" class="page">Thinking in graph</a></li>
    <li><a href="../../../../docs/tutorial/knowledge-graph/understanding-jsonld.html" class="page">Understanding JSON-LD</a></li>
    <li><a href="../../../../docs/tutorial/knowledge-graph/querying-knowledge-graph.html" class="page">Querying knowledge graph</a></li>
  </ul></li>
  <li><a href="../../../../docs/tutorial/linking-data/index.html" class="page">Linking data on the web</a></li>
  <li><a href="../../../../docs/tutorial/build-recommender/index.html" class="page">Building a Data Pipeline for a Recommender System</a></li>
</ul>
<nav class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">Table of contents</label>
<ul>
  <li><a href="../../../../docs/tutorial/getting-started/quick-start/index.html#quick-start" class="header">Quick Start</a>
  <ul>
    <li><a href="../../../../docs/tutorial/getting-started/quick-start/index.html#overview" class="header">Overview</a></li>
    <li><a href="../../../../docs/tutorial/getting-started/quick-start/index.html#set-up" class="header">Set up</a>
    <ul>
      <li><a href="../../../../docs/tutorial/getting-started/quick-start/index.html#install-and-setup-the-nexus-cli" class="header">Install and setup the Nexus CLI</a></li>
      <li><a href="../../../../docs/tutorial/getting-started/quick-start/index.html#create-and-select-a-profile" class="header">Create and select a &lsquo;tutorial&rsquo; profile</a></li>
      <li><a href="../../../../docs/tutorial/getting-started/quick-start/index.html#login" class="header">Login</a></li>
    </ul></li>
    <li><a href="../../../../docs/tutorial/getting-started/quick-start/index.html#create-a-project" class="header">Create a project</a>
    <ul>
      <li><a href="../../../../docs/tutorial/getting-started/quick-start/index.html#select-an-organization" class="header">Select an organization</a></li>
      <li><a href="../../../../docs/tutorial/getting-started/quick-start/index.html#create-a-project" class="header">Create a project</a></li>
    </ul></li>
    <li><a href="../../../../docs/tutorial/getting-started/quick-start/index.html#ingest-data" class="header">Ingest data</a>
    <ul>
      <li><a href="../../../../docs/tutorial/getting-started/quick-start/index.html#download-the-dataset" class="header">Download the dataset</a></li>
      <li><a href="../../../../docs/tutorial/getting-started/quick-start/index.html#load-the-dataset" class="header">Load the dataset</a></li>
    </ul></li>
    <li><a href="../../../../docs/tutorial/getting-started/quick-start/index.html#access-data" class="header">Access data</a>
    <ul>
      <li><a href="../../../../docs/tutorial/getting-started/quick-start/index.html#view-data-in-nexus-web" class="header">View data in Nexus Web</a></li>
      <li><a href="../../../../docs/tutorial/getting-started/quick-start/index.html#list-data" class="header">List data</a></li>
      <li><a href="../../../../docs/tutorial/getting-started/quick-start/index.html#query-data" class="header">Query data</a></li>
    </ul></li>
    <li><a href="../../../../docs/tutorial/getting-started/quick-start/index.html#share-data" class="header">Share data</a></li>
  </ul></li>
</ul>
</nav>

</nav>
<ul style="display: none">
<li class="md-nav__item md-version" id="project.version">
<label class="md-nav__link" for="__version">
<i class="md-icon" title="Version">label_outline</i> 0.1.0*
</label>
</li>
</ul>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">Table of contents</label>
<ul>
  <li><a href="../../../../docs/tutorial/getting-started/quick-start/index.html#quick-start" class="header">Quick Start</a>
  <ul>
    <li><a href="../../../../docs/tutorial/getting-started/quick-start/index.html#overview" class="header">Overview</a></li>
    <li><a href="../../../../docs/tutorial/getting-started/quick-start/index.html#set-up" class="header">Set up</a>
    <ul>
      <li><a href="../../../../docs/tutorial/getting-started/quick-start/index.html#install-and-setup-the-nexus-cli" class="header">Install and setup the Nexus CLI</a></li>
      <li><a href="../../../../docs/tutorial/getting-started/quick-start/index.html#create-and-select-a-profile" class="header">Create and select a &lsquo;tutorial&rsquo; profile</a></li>
      <li><a href="../../../../docs/tutorial/getting-started/quick-start/index.html#login" class="header">Login</a></li>
    </ul></li>
    <li><a href="../../../../docs/tutorial/getting-started/quick-start/index.html#create-a-project" class="header">Create a project</a>
    <ul>
      <li><a href="../../../../docs/tutorial/getting-started/quick-start/index.html#select-an-organization" class="header">Select an organization</a></li>
      <li><a href="../../../../docs/tutorial/getting-started/quick-start/index.html#create-a-project" class="header">Create a project</a></li>
    </ul></li>
    <li><a href="../../../../docs/tutorial/getting-started/quick-start/index.html#ingest-data" class="header">Ingest data</a>
    <ul>
      <li><a href="../../../../docs/tutorial/getting-started/quick-start/index.html#download-the-dataset" class="header">Download the dataset</a></li>
      <li><a href="../../../../docs/tutorial/getting-started/quick-start/index.html#load-the-dataset" class="header">Load the dataset</a></li>
    </ul></li>
    <li><a href="../../../../docs/tutorial/getting-started/quick-start/index.html#access-data" class="header">Access data</a>
    <ul>
      <li><a href="../../../../docs/tutorial/getting-started/quick-start/index.html#view-data-in-nexus-web" class="header">View data in Nexus Web</a></li>
      <li><a href="../../../../docs/tutorial/getting-started/quick-start/index.html#list-data" class="header">List data</a></li>
      <li><a href="../../../../docs/tutorial/getting-started/quick-start/index.html#query-data" class="header">Query data</a></li>
    </ul></li>
    <li><a href="../../../../docs/tutorial/getting-started/quick-start/index.html#share-data" class="header">Share data</a></li>
  </ul></li>
</ul>
</nav>

</div>
</div>
</div>
<div class="md-content">
<article class="md-content__inner md-typeset">
<div class="md-content__searchable">
<h1><a href="#quick-start" name="quick-start" class="anchor"><span class="anchor-link"></span></a>Quick Start</h1>
<h2><a href="#overview" name="overview" class="anchor"><span class="anchor-link"></span></a>Overview</h2>
<p>This example-driven tutorial presents 5 steps to get started with Blue Brain Nexus to build and query a simple <a href="../../knowledge-graph/thinking-in-graph.html">knowledge graph</a>. The goal is to go over some capabilities of Blue Brain Nexus enabling:</p>
<ul>
  <li>The creation of a project as a protected data space to work with</li>
  <li>An easy ingestion of dataset and management of it&rsquo;s lifecycle</li>
  <li>Querying a dataset to retrieve various information</li>
  <li>Sharing a dataset by making it public</li>
</ul>
<p>For that we will work with the small version of the <a href="http://files.grouplens.org/datasets/movielens/ml-latest-small.zip">MovieLens dataset</a> containing a set of movies (movies.csv) along with their ratings (ratings.csv) and tags (tags.csv) made by users. An overview of this dataset can be found <a href="../dataset/index.html">here</a>.</p><div class="callout note "><div class="callout-title">Note</div>
<ul>
  <li>This tutorial makes use of an AWS deployment of Blue Brain Nexus available at <a href="https://nexus-sandbox.io/v1">https://nexus-sandbox.io/v1</a>.</li>
  <li>We will be using <a href="https://github.com/BlueBrain/nexus-cli">Nexus CLI</a>, a python client, to interact with the deployment.</li>
</ul></div>
<p>Let&rsquo;s get started.</p>
<h2><a href="#set-up" name="set-up" class="anchor"><span class="anchor-link"></span></a>Set up</h2>
<h3><a href="#install-and-setup-the-nexus-cli" name="install-and-setup-the-nexus-cli" class="anchor"><span class="anchor-link"></span></a>Install and setup the Nexus CLI</h3>
<p>Since the CLI is written in python, you may want to create a virtual environment for a clean set up. To do so, Conda can be used. If you don&rsquo;t have it installed follow the instructions <a href="https://conda.io/projects/conda/en/latest/user-guide/install/index.html">here</a>.</p>
<pre class="prettyprint"><code class="language-shell">conda create -n nexus-cli python=3.5
conda activate nexus-cli
pip install git+https://github.com/BlueBrain/nexus-cli
</code></pre>
<h3><a href="#create-and-select-a-profile" name="create-and-select-a-profile" class="anchor"><span class="anchor-link"></span></a>Create and select a &lsquo;tutorial&rsquo; profile</h3>
<p>To ease the usage of the CLI, we will create a profile named &lsquo;tutorial&rsquo; storing locally various configurations such as the Nexus deployment url.</p>
<dl>
  <dt>Command</dt>
  <dd>
  <pre class="prettyprint"><code class="language-sh">nexus profiles create tutorial https://nexus-sandbox.io/v1 &amp;&amp; nexus profiles list</code></pre><a href="https://github.com/BlueBrain/nexus/tree/master/src/main/paradox/docs/tutorial/getting-started/assets/create-profile-cmd.sh" class="snippet-full-source github">Full source at GitHub</a></dd>
  <dt>Output</dt>
  <dd>
  <pre class="prettyprint"><code class="language-sh">Profile created.
+------------+----------+-------------------------------------+-------+
| Profile    | Selected | URL                                 | Token |
+------------+----------+-------------------------------------+-------+
| tutorial   |   Yes    | https://nexus-sandbox.io/v1         |  None |
+------------+----------+-------------------------------------+-------+</code></pre><a href="https://github.com/BlueBrain/nexus/tree/master/src/main/paradox/docs/tutorial/getting-started/assets/create-profile-out.sh" class="snippet-full-source github">Full source at GitHub</a></dd>
</dl>
<p>Let select the tutorial profile we just created.</p>
<dl>
  <dt>Command</dt>
  <dd>
  <pre class="prettyprint"><code class="language-sh">nexus profiles select tutorial</code></pre><a href="https://github.com/BlueBrain/nexus/tree/master/src/main/paradox/docs/tutorial/getting-started/assets/select-profile-cmd.sh" class="snippet-full-source github">Full source at GitHub</a></dd>
  <dt>Output</dt>
  <dd>
  <pre class="prettyprint"><code class="language-sh">Selected profile: tutorial
+------------+----------+-------------------------------------+-------+
| Profile    | Selected | URL                                 | Token |
+------------+----------+-------------------------------------+-------+
| tutorial   |   Yes    | https://nexus-sandbox.io/v1         |  None |
+------------+----------+-------------------------------------+-------+</code></pre><a href="https://github.com/BlueBrain/nexus/tree/master/src/main/paradox/docs/tutorial/getting-started/assets/select-profile-out.sh" class="snippet-full-source github">Full source at GitHub</a></dd>
</dl>
<h3><a href="#login" name="login" class="anchor"><span class="anchor-link"></span></a>Login</h3>
<p>A bearer token is needed to authenticate to Nexus. For the purpose of this tutorial, you&rsquo;ll login using your github account.</p><div class="callout note "><div class="callout-title">Note</div>
<ul>
  <li>If you don&rsquo;t have a github account, please follow the instructions on this <a href="https://github.com/join?source=header-home">page</a> to create one.</li>
</ul></div>
<p>The following command will open a browser window from where you can login using your github account.</p>
<dl>
  <dt>Command</dt>
  <dd>
  <pre class="prettyprint"><code class="language-sh">nexus auth login</code></pre><a href="https://github.com/BlueBrain/nexus/tree/master/src/main/paradox/docs/tutorial/getting-started/assets/login-auth-cmd.sh" class="snippet-full-source github">Full source at GitHub</a></dd>
  <dt>Output</dt>
  <dd>
  <pre class="prettyprint"><code class="language-sh">A browser window will now open, please login, copy your token and use the auth set-token command to store it in the CLI
Press ENTER to continue...</code></pre><a href="https://github.com/BlueBrain/nexus/tree/master/src/main/paradox/docs/tutorial/getting-started/assets/login-auth-out.sh" class="snippet-full-source github">Full source at GitHub</a></dd>
</dl>
<p>From the opened web page, click on the login button on the right corner and follow the instructions.</p>
<p><img src="../assets/login-ui.png" alt="login-ui" /></p>
<p>At the end you&rsquo;ll see a token button on the right corner. Click on it to copy the token.</p>
<p><img src="../assets/copy-token.png" alt="login-ui" /></p>
<p>The token can now be added to the tutorial profile. In the output of the following command you should see that the token column has now an expiry date.</p>
<dl>
  <dt>Command</dt>
  <dd>
  <pre class="prettyprint"><code class="language-sh">nexus auth set-token $TOKEN &amp;&amp; nexus profiles list</code></pre><a href="https://github.com/BlueBrain/nexus/tree/master/src/main/paradox/docs/tutorial/getting-started/assets/settoken-auth-cmd.sh" class="snippet-full-source github">Full source at GitHub</a></dd>
  <dt>Output</dt>
  <dd>
  <pre class="prettyprint"><code class="language-sh">+--------------+----------+-------------------------------------+-----------------------------+
| Profile      | Selected | URL                                 |            Token            |
+--------------+----------+-------------------------------------+-----------------------------+
| tutorial     |   Yes    | https://nexus-sandbox.io/v1         | Expiry: YYYY-MM-DD HH:mm:s |
+--------------+----------+-------------------------------------+-----------------------------+</code></pre><a href="https://github.com/BlueBrain/nexus/tree/master/src/main/paradox/docs/tutorial/getting-started/assets/settoken-auth-out.sh" class="snippet-full-source github">Full source at GitHub</a></dd>
</dl>
<h2><a href="#create-a-project" name="create-a-project" class="anchor"><span class="anchor-link"></span></a>Create a project</h2>
<p>Projects in BlueBrain Nexus are spaces where data can be:</p>
<ul>
  <li><strong>managed</strong>: created, updated, deprecated, validated, secured;</li>
  <li><strong>accessed</strong>: directly by ids or through various search interfaces;</li>
  <li><strong>shared</strong>: through fine grain Access Control List.</li>
</ul>
<p>A <strong>project</strong> is always created within an <strong>organization</strong> just like a git repository is created in a github organization. Organizations can be understood as accounts hosting multiple projects.</p>
<h3><a href="#select-an-organization" name="select-an-organization" class="anchor"><span class="anchor-link"></span></a>Select an organization</h3><div class="callout note "><div class="callout-title">Note</div>
<p>A public organization named <strong>tutorialnexus</strong> is already created for the purpose of this tutorial. All projects will be created under this organization.</p></div>
<p>The following command should list the organizations you have access to. The <strong>tutorialnexus</strong> organization should be listed and tagged as non-deprecated in the output.</p>
<dl>
  <dt>Command</dt>
  <dd>
  <pre class="prettyprint"><code class="language-sh">nexus orgs list</code></pre><a href="https://github.com/BlueBrain/nexus/tree/master/src/main/paradox/docs/tutorial/getting-started/assets/list-orgs-cmd.sh" class="snippet-full-source github">Full source at GitHub</a></dd>
  <dt>Output</dt>
  <dd>
  <pre class="prettyprint"><code class="language-sh">+----------------+-------------------+-----------------------------------------------------+------------+
| Name           | Description       | Id                                                  | Deprecated |
+----------------+-------------------+-----------------------------------------------------+------------+
| tutorialnexus  | Nexus sandbox     | https://nexus-sandbox.io/v1/tutorialnexus     | False      |</code></pre><a href="https://github.com/BlueBrain/nexus/tree/master/src/main/paradox/docs/tutorial/getting-started/assets/list-orgs-out.sh" class="snippet-full-source github">Full source at GitHub</a></dd>
</dl>
<p>Let select the <strong>tutorialnexus</strong> organization.</p>
<dl>
  <dt>Command</dt>
  <dd>
  <pre class="prettyprint"><code class="language-sh">nexus orgs select tutorialnexus</code></pre><a href="https://github.com/BlueBrain/nexus/tree/master/src/main/paradox/docs/tutorial/getting-started/assets/select-orgs-cmd.sh" class="snippet-full-source github">Full source at GitHub</a></dd>
  <dt>Output</dt>
  <dd>
  <pre class="prettyprint"><code class="language-sh">tutorialnexus organization selected.</code></pre><a href="https://github.com/BlueBrain/nexus/tree/master/src/main/paradox/docs/tutorial/getting-started/assets/select-orgs-out.sh" class="snippet-full-source github">Full source at GitHub</a></dd>
</dl>
<h3><a href="#create-a-project" name="create-a-project" class="anchor"><span class="anchor-link"></span></a>Create a project</h3>
<p>A project is created with a label and within an organization. The label should be made of alphanumerical characters and its length should be between 3 and 32 (it should match the regex: [a-zA-Z0-9-_]{3,32}).</p>
<p>Pick a label (hereafter referred to as $PROJECTLABEL) and create a project using the following command. It is recommended to use your username to avoid collision of projects labels within an organization.</p>
<dl>
  <dt>Command</dt>
  <dd>
  <pre class="prettyprint"><code class="language-sh">nexus projects create $PROJECTLABEL &amp;&amp; nexus projects list</code></pre><a href="https://github.com/BlueBrain/nexus/tree/master/src/main/paradox/docs/tutorial/getting-started/assets/create-project-cmd.sh" class="snippet-full-source github">Full source at GitHub</a></dd>
  <dt>Output</dt>
  <dd>
  <pre class="prettyprint"><code class="language-sh">Project created (id: https://nexus-sandbox.io/v1/projects/tutorialnexus/$PROJECTLABEL)
+---------------+-------------+------------------------------------------------------------------------+------------+
| Label         | Description | Id                                                                     | Deprecated |
+---------------+-------------+------------------------------------------------------------------------+------------+
| $PROJECTLABEL |             | https://nexus-sandbox.io/v1/projects/tutorialnexus/$PROJECTLABEL | False      |
+---------------+-------------+------------------------------------------------------------------------+------------+</code></pre><a href="https://github.com/BlueBrain/nexus/tree/master/src/main/paradox/docs/tutorial/getting-started/assets/create-project-out.sh" class="snippet-full-source github">Full source at GitHub</a></dd>
</dl>
<p>By default, created projects are private meaning that only the project creator (you) has read and write access to it. We&rsquo;ll <a href="#share-data">see below</a> how to make a project public.</p>
<p>The output of the previous command shows the list of projects you have read access to. The project you just created should be the only one listed at this point. Let select it.</p>
<dl>
  <dt>Command</dt>
  <dd>
  <pre class="prettyprint"><code class="language-sh">nexus projects select $PROJECTLABEL &amp;&amp; nexus projects list</code></pre><a href="https://github.com/BlueBrain/nexus/tree/master/src/main/paradox/docs/tutorial/getting-started/assets/select-project-cmd.sh" class="snippet-full-source github">Full source at GitHub</a></dd>
  <dt>Output</dt>
  <dd>
  <pre class="prettyprint"><code class="language-sh">$PROJECTLABEL project selected
+---------------+-------------+------------------------------------------------------------------------+------------+
| Label         | Description | Id                                                                     | Deprecated |
+---------------+-------------+------------------------------------------------------------------------+------------+
| $PROJECTLABEL |             | https://nexus-sandbox.io/v1/projects/tutorialnexus/$PROJECTLABEL | False      |
+---------------+-------------+------------------------------------------------------------------------+------------+</code></pre><a href="https://github.com/BlueBrain/nexus/tree/master/src/main/paradox/docs/tutorial/getting-started/assets/select-project-out.sh" class="snippet-full-source github">Full source at GitHub</a></dd>
</dl>
<p>We are all set to bring some data within the project we just created.</p>
<h2><a href="#ingest-data" name="ingest-data" class="anchor"><span class="anchor-link"></span></a>Ingest data</h2>
<h3><a href="#download-the-dataset" name="download-the-dataset" class="anchor"><span class="anchor-link"></span></a>Download the dataset</h3>
<p>The <a href="http://files.grouplens.org/datasets/movielens/ml-latest-small.zip">MovieLens dataset</a> can be downloaded either directly on a browser or using a curl command as shown below.</p>
<p>The following command download, unzip the dataset in the folder ~/ml-latest-small and list the files. The downloaded MovieLens dataset is made of four csv files as shown in the output tab.</p>
<dl>
  <dt>Command</dt>
  <dd>
  <pre class="prettyprint"><code class="language-sh">cd ~ &amp;&amp; curl -s -O http://files.grouplens.org/datasets/movielens/ml-latest-small.zip &amp;&amp; unzip -qq ml-latest-small.zip &amp;&amp; cd ml-latest-small &amp;&amp; ls</code></pre><a href="https://github.com/BlueBrain/nexus/tree/master/src/main/paradox/docs/tutorial/getting-started/assets/downloadmovielens-cmd.sh" class="snippet-full-source github">Full source at GitHub</a></dd>
  <dt>Output</dt>
  <dd>
  <pre class="prettyprint"><code class="language-sh">README.txt	links.csv	movies.csv	ratings.csv	tags.csv</code></pre><a href="https://github.com/BlueBrain/nexus/tree/master/src/main/paradox/docs/tutorial/getting-started/assets/downloadmovielens-out.sh" class="snippet-full-source github">Full source at GitHub</a></dd>
</dl>
<h3><a href="#load-the-dataset" name="load-the-dataset" class="anchor"><span class="anchor-link"></span></a>Load the dataset</h3>
<p>Let first load the movies and merge them with the links.</p>
<pre class="prettyprint"><code class="language-shell">nexus resources create -f ~/ml-latest-small/movies.csv -t Movie --format csv --idcolumn movieId --mergewith ~/ml-latest-small/links.csv --mergeon movieId --thread 4

</code></pre>
<p>Then we can load the tags.</p>
<pre class="prettyprint"><code class="language-shell">nexus resources create -f ~/ml-latest-small/tags.csv -t Tag --format csv --thread 4
</code></pre>
<p>And finally load the ratings. Loading 100837 resources might take some time and also it is not needed to load them all to follow this tutorial. The number of threads can be increased for better loading performance.</p>
<pre class="prettyprint"><code class="language-shell">nexus resources create -f ~/ml-latest-small/ratings.csv -t Rating --format csv --thread 4
</code></pre>
<h2><a href="#access-data" name="access-data" class="anchor"><span class="anchor-link"></span></a>Access data</h2>
<h3><a href="#view-data-in-nexus-web" name="view-data-in-nexus-web" class="anchor"><span class="anchor-link"></span></a>View data in Nexus Web</h3>
<p>Nexus is deployed with a web application allowing to browse organizations, projects, data and schemas you have access to. You can go to the address <a href="https://nexus-sandbox.io/web">https://nexus-sandbox.io/web</a> and browse the data you just loaded.</p>
<h3><a href="#list-data" name="list-data" class="anchor"><span class="anchor-link"></span></a>List data</h3>
<p>The simplest way to accessed data within Nexus is by listing them. The following command lists 5 resources:</p>
<dl>
  <dt>Command</dt>
  <dd>
  <pre class="prettyprint"><code class="language-sh">nexus resources list --size 5</code></pre><a href="https://github.com/BlueBrain/nexus/tree/master/src/main/paradox/docs/tutorial/getting-started/assets/list-res-cmd.sh" class="snippet-full-source github">Full source at GitHub</a></dd>
  <dt>Output</dt>
  <dd>
  <pre class="prettyprint"><code class="language-sh">+------------------------------------------------------------------------------------+----------------------------------------------------------------------------+----------+------------+
| Id                                                                                 | Type                                                                       | Revision | Deprecated |
+------------------------------------------------------------------------------------+----------------------------------------------------------------------------+----------+------------+
| https://nexus-sandbox.io/v1/resources/tutorialnexus/$PROJECTLABEL/_/Movie_1  | https://nexus-sandbox.io/v1/vocabs/tutorialnexus/$PROJECTLABEL/Movie | 1        | False      |
| https://nexus-sandbox.io/v1/resources/tutorialnexus/$PROJECTLABEL/_/Movie_9  | https://nexus-sandbox.io/v1/vocabs/tutorialnexus/$PROJECTLABEL/Movie | 1        | False      |
| https://nexus-sandbox.io/v1/resources/tutorialnexus/$PROJECTLABEL/_/Movie_12 | https://nexus-sandbox.io/v1/vocabs/tutorialnexus/$PROJECTLABEL/Movie | 1        | False      |
| https://nexus-sandbox.io/v1/resources/tutorialnexus/$PROJECTLABEL/_/Movie_7  | https://nexus-sandbox.io/v1/vocabs/tutorialnexus/$PROJECTLABEL/Movie | 1        | False      |
| https://nexus-sandbox.io/v1/resources/tutorialnexus/$PROJECTLABEL/_/Movie_8  | https://nexus-sandbox.io/v1/vocabs/tutorialnexus/$PROJECTLABEL/Movie | 1        | False      |
+------------------------------------------------------------------------------------+----------------------------------------------------------------------------+----------+------------+</code></pre><a href="https://github.com/BlueBrain/nexus/tree/master/src/main/paradox/docs/tutorial/getting-started/assets/list-res-out.sh" class="snippet-full-source github">Full source at GitHub</a></dd>
</dl>
<p>The full payload of the resources are not retrieved when listing them: only identifier, type as well as Nexus added metadata are. But the result list can be scrolled and each resource fetched by identifier.</p>
<dl>
  <dt>Command</dt>
  <dd>
  <pre class="prettyprint"><code class="language-sh">nexus resources fetch https://nexus-sandbox.io/v1/resources/tutorialnexus/$PROJECTLABEL/_/Movie_1</code></pre><a href="https://github.com/BlueBrain/nexus/tree/master/src/main/paradox/docs/tutorial/getting-started/assets/fetch-res-id-cmd.sh" class="snippet-full-source github">Full source at GitHub</a></dd>
  <dt>Output</dt>
  <dd>
  <pre class="prettyprint"><code class="language-sh">{
  &quot;@context&quot;: [
    {
      &quot;@base&quot;: &quot;https://nexus-sandbox.io/v1/resources/tutorialnexus/$PROJECTLABEL/_/&quot;,
      &quot;@vocab&quot;: &quot;https://nexus-sandbox.io/v1/vocabs/tutorialnexus/$PROJECTLABEL/&quot;
    },
    &quot;https://bluebrain.github.io/nexus/contexts/resource.json&quot;
  ],
  &quot;@id&quot;: &quot;Movie_1&quot;,
  &quot;@type&quot;: &quot;Movie&quot;,
  &quot;genres&quot;: &quot;Adventure|Animation|Children|Comedy|Fantasy&quot;,
  &quot;imdbId&quot;: 114709,
  &quot;movieId&quot;: 1,
  &quot;title&quot;: &quot;Toy Story (1995)&quot;,
  &quot;tmdbId&quot;: 862.0,
  &quot;_self&quot;: &quot;../../resource/https%3A%2F%2Fbbp.epfl.ch%2Fnexus%2Fv1%2Fresources%2Ftutorialnexus%2F$PROJECTLABEL%2F_%2FMovie_1&quot;,
  &quot;_constrainedBy&quot;: &quot;nxs:resource.json&quot;,
  &quot;_project&quot;: &quot;../../../../../projects/tutorialnexus/$PROJECTLABEL&quot;,
  &quot;_createdAt&quot;: &quot;2019-01-17T10:32:02.221Z&quot;,
  &quot;_createdBy&quot;: &quot;....&quot;,
  &quot;_updatedAt&quot;: &quot;2019-01-17T10:32:02.221Z&quot;,
  &quot;_updatedBy&quot;: &quot;....&quot;,
  &quot;_rev&quot;: 1,
  &quot;_deprecated&quot;: false
}</code></pre><a href="https://github.com/BlueBrain/nexus/tree/master/src/main/paradox/docs/tutorial/getting-started/assets/fetch-res-id-out.sh" class="snippet-full-source github">Full source at GitHub</a></dd>
</dl>
<p>Whenever a resource is created, Nexus injects some useful metadata. The table below details some of them:</p>
<table>
  <thead>
    <tr>
      <th>Metadata </th>
      <th>Description </th>
      <th>Value Type </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>@id </td>
      <td>Generated resource identifier. The user can provide its own identifier. </td>
      <td>URI </td>
    </tr>
    <tr>
      <td>@type </td>
      <td>The type of the resource if provided by the user. </td>
      <td>URI </td>
    </tr>
    <tr>
      <td>_self </td>
      <td>The resource address within Nexus. It contains the resource management details such as the organization, the project and the schema. </td>
      <td>URI </td>
    </tr>
    <tr>
      <td>_createdAt </td>
      <td>The resource creation date. </td>
      <td>DateTime </td>
    </tr>
    <tr>
      <td>_createdBy </td>
      <td>The resource creator. </td>
      <td>DateTime </td>
    </tr>
  </tbody>
</table>
<p>Note that Nexus uses <a href="../../knowledge-graph/understanding-jsonld.html">JSON-LD</a> as data exchange format.</p>
<p>Filters are available to list specific resources. For example a list of resources of type Rating can be retrieved by running the following command:</p>
<dl>
  <dt>Command</dt>
  <dd>
  <pre class="prettyprint"><code class="language-sh">nexus resources list --type Rating --size 5</code></pre><a href="https://github.com/BlueBrain/nexus/tree/master/src/main/paradox/docs/tutorial/getting-started/assets/list-res-filter-cmd.sh" class="snippet-full-source github">Full source at GitHub</a></dd>
  <dt>Output</dt>
  <dd>
  <pre class="prettyprint"><code class="language-sh">+------------------------------------------------------------------------------------+----------------------------------------------------------------------------+----------+------------+
| Id                                                                                 | Type                                                                       | Revision | Deprecated |
+------------------------------------------------------------------------------------+----------------------------------------------------------------------------+----------+------------+
| https://nexus-sandbox.io/v1/resources/tutorialnexus/$PROJECTLABEL/_/Rating_1  | https://nexus-sandbox.io/v1/vocabs/tutorialnexus/$PROJECTLABEL/Rating | 1        | False      |
| https://nexus-sandbox.io/v1/resources/tutorialnexus/$PROJECTLABEL/_/Rating_9  | https://nexus-sandbox.io/v1/vocabs/tutorialnexus/$PROJECTLABEL/Rating | 1        | False      |
| https://nexus-sandbox.io/v1/resources/tutorialnexus/$PROJECTLABEL/_/Rating_12 | https://nexus-sandbox.io/v1/vocabs/tutorialnexus/$PROJECTLABEL/Rating | 1        | False      |
| https://nexus-sandbox.io/v1/resources/tutorialnexus/$PROJECTLABEL/_/Rating_7  | https://nexus-sandbox.io/v1/vocabs/tutorialnexus/$PROJECTLABEL/Rating | 1        | False      |
| https://nexus-sandbox.io/v1/resources/tutorialnexus/$PROJECTLABEL/_/Rating_8  | https://nexus-sandbox.io/v1/vocabs/tutorialnexus/$PROJECTLABEL/Rating | 1        | False      |
+------------------------------------------------------------------------------------+----------------------------------------------------------------------------+----------+------------+</code></pre><a href="https://github.com/BlueBrain/nexus/tree/master/src/main/paradox/docs/tutorial/getting-started/assets/list-res-filter-out.sh" class="snippet-full-source github">Full source at GitHub</a></dd>
</dl><div class="callout note tip"><div class="callout-title">Listing with various filters using the CLI</div>
<p>As an exercise try to filter by tag to only retrieve resources of type Tag.</p></div>
<h3><a href="#query-data" name="query-data" class="anchor"><span class="anchor-link"></span></a>Query data</h3>
<p>Listing is usually not enough to select specific subset of data. Data ingested within each project can be searched through two complementary search interfaces called <a href="https://bluebrain.github.io/nexus/docs/api/kg/kg-views-api.html">views</a>.</p>
<table>
  <thead>
    <tr>
      <th>View </th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>ElasticSearchView </td>
      <td>Exposes data in <a href="https://www.elastic.co/products/elasticsearch">ElasticSearch</a> a document oriented search engine and provide access to it using the <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-request-body.html">ElasticSearch query language</a>.</td>
    </tr>
    <tr>
      <td>SparqlView </td>
      <td>Exposes data as a <a href="../../knowledge-graph/thinking-in-graph.html">graph</a> and allows to navigate and explore the data using the <a href="https://www.w3.org/TR/sparql11-query/">W3C Sparql query language</a>.</td>
    </tr>
  </tbody>
</table>
<h4><a href="#query-data-using-the-elasticsearchview" name="query-data-using-the-elasticsearchview" class="anchor"><span class="anchor-link"></span></a>Query data using the ElasticSearchView</h4>
<p>The ElasticSearchView URL is available at the address [https://nexus-sandbox.io/v1/views/tutorialnexus/$PROJECTLABEL/documents/_search].</p>
<dl>
  <dt>Select queries</dt>
  <dd>
  <pre class="prettyprint"><code class="language-sh"># Select 5 ratings sorted by creation date in descending order
nexus views query-es --data \
&#39;{
     &quot;size&quot;:5,
     &quot;sort&quot; : [
       {
        &quot;_createdAt&quot; : {&quot;order&quot; : &quot;desc&quot;}
       }
     ],
     &quot;query&quot;: {
     	&quot;terms&quot; : {&quot;@type&quot;:[&quot;https://nexus-sandbox.io/v1/vocabs/tutorialnexus/$PROJECTLABEL/Rating&quot;]}
     }
 }&#39;
</code></pre><a href="https://github.com/BlueBrain/nexus/tree/master/src/main/paradox/docs/tutorial/getting-started/assets/select_elastic.sh" class="snippet-full-source github">Full source at GitHub</a></dd>
  <dt>Graph navigation queries</dt>
  <dd>
  <pre class="prettyprint"><code class="language-sh"># Not possible by default.
# Relationships handling needs to be made explicit to ElasticSearch through a mapping.

</code></pre><a href="https://github.com/BlueBrain/nexus/tree/master/src/main/paradox/docs/tutorial/getting-started/assets/graph_elastic.sh" class="snippet-full-source github">Full source at GitHub</a></dd>
</dl>
<h4><a href="#query-data-using-the-sparqlview" name="query-data-using-the-sparqlview" class="anchor"><span class="anchor-link"></span></a>Query data using the SparqlView</h4>
<p>The SparqlView is available at the address [https://nexus-sandbox.io/v1/views/tutorialnexus/$PROJECTLABEL/graph/sparql]. The following diagram shows how the MovieLens data is structured in the default Nexus SparqlView. Note that the ratings, tags and movies are joined by the movieId property.</p>
<p><img src="../assets/Movielens-default_nexus_graph.png" alt="Movielens-default_nexus_graph.png" /></p>
<dl>
  <dt>Select queries</dt>
  <dd>
  <pre class="prettyprint"><code class="language-sh"># Select 5 ratings sorted by creation date in descending order
nexus views query-sparql --data \
&#39;
PREFIX vocab: &lt;https://nexus-sandbox.io/v1/vocabs/tutorialnexus/$PROJECTLABEL/&gt;
PREFIX nxv: &lt;https://bluebrain.github.io/nexus/vocabulary/&gt;

Select ?userId ?moviedId ?rating ?createdAt
 WHERE  {

    ?ratingNode a vocab:Rating.
    ?ratingNode nxv:createdAt ?createdAt.
    ?ratingNode vocab:userId  ?userId.
    ?ratingNode vocab:movieId ?moviedId.
    ?ratingNode vocab:rating  ?rating.
}
ORDER BY DESC (?creationDate)
LIMIT 5&#39;</code></pre><a href="https://github.com/BlueBrain/nexus/tree/master/src/main/paradox/docs/tutorial/getting-started/assets/select_sparql.sh" class="snippet-full-source github">Full source at GitHub</a></dd>
  <dt>Graph navigation queries</dt>
  <dd>
  <pre class="prettyprint"><code class="language-sh"># Average rating score for movies tagged as funny
nexus views query-sparql --data \
&#39;
PREFIX vocab: &lt;https://nexus-sandbox.io/v1/vocabs/tutorialnexus/$PROJECTLABEL/&gt;
PREFIX nxv: &lt;https://bluebrain.github.io/nexus/vocabulary/&gt;

Select (AVG(?ratingvalue) AS ?score)
 WHERE  {
    # Select movies
    ?movie a vocab:Movie.

    # Select their movieId values
    ?movie vocab:movieId ?movieId.

    # Keep movies with &#39;funny&#39; tags
    ?tag a vocab:Tag.
    ?tag vocab:movieId ?movieId.
    ?tag vocab:tag ?tagvalue.
    FILTER(?tagvalue = &quot;funny&quot;).
    
    # Keep movies with ratings
    ?rating a vocab:Rating.
    ?rating vocab:movieId ?ratingmovieId.
    FILTER(xsd:integer(?ratingmovieId) = xsd:integer(?movieId))
    ?rating vocab:rating ?ratingvalue.

}&#39;</code></pre><a href="https://github.com/BlueBrain/nexus/tree/master/src/main/paradox/docs/tutorial/getting-started/assets/analytics_sparql.sh" class="snippet-full-source github">Full source at GitHub</a></dd>
</dl>
<h2><a href="#share-data" name="share-data" class="anchor"><span class="anchor-link"></span></a>Share data</h2>
<p>Making a dataset public means granting read permissions to &ldquo;anonymous&rdquo; user.</p>
<pre class="prettyprint"><code class="language-shell">$ nexus acls make-public
</code></pre>
<p>To check that the dataset is now public:</p>
<ul>
  <li>Ask the person next to you to list resources in your project.</li>
  <li>Or create and select another profile named public-tutorial (following the instructions in the <a href="#set-up">Set up</a>. You should see the that the public-tutorial is selected and its corresponding token column is None.</li>
</ul>
<dl>
  <dt>Output</dt>
  <dd>
  <pre class="prettyprint"><code class="language-sh">Selected profile: tutorial
+-------------------+----------+-------------------------------------+------------------+
| Profile           | Selected | URL                                 |       Token      |
+-------------------+----------+-------------------------------------+------------------+
| tutorial          |          | https://nexus-sandbox.io/v1         |  Expiry: 2019... |
| public-tutorial   |   Yes    | https://nexus-sandbox.io/v1         |       None       |
+-------------------+----------+-------------------------------------+------------------+</code></pre><a href="https://github.com/BlueBrain/nexus/tree/master/src/main/paradox/docs/tutorial/getting-started/assets/select-profile-public-out.sh" class="snippet-full-source github">Full source at GitHub</a></dd>
</dl>
<ul>
  <li>Resources in your project should be listed with the command even though you are not authenticated.</li>
</ul>
<dl>
  <dt>Command</dt>
  <dd>
  <pre class="prettyprint"><code class="language-sh">nexus resources list --size 5 -o tutorialnexus -p $PROJECTLABEL</code></pre><a href="https://github.com/BlueBrain/nexus/tree/master/src/main/paradox/docs/tutorial/getting-started/assets/list-res-org-proj-cmd.sh" class="snippet-full-source github">Full source at GitHub</a></dd>
</dl>
</div>
<div>
<a href="https://github.com/BlueBrain/nexus/tree/master/src/main/paradox/docs/tutorial/getting-started/quick-start/index.md" title="Edit this page" class="md-source-file md-edit">
Edit this page
</a>
</div>
<div class="print-only">
<span class="md-source-file md-version">
0.1.0*
</span>
</div>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-nav">
<nav class="md-footer-nav__inner md-grid">
<a href="../../../../docs/tutorial/getting-started/index.html" title="Getting Started" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
<div class="md-flex__cell md-flex__cell--shrink">
<i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
</div>
<div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
<span class="md-flex__ellipsis">
<span class="md-footer-nav__direction">
Previous
</span>
Getting Started
</span>
</div>
</a>
<a href="../../../../docs/tutorial/getting-started/dataset/index.html" title="The MovieLens Dataset" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
<div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
<span class="md-flex__ellipsis">
<span class="md-footer-nav__direction">
Next
</span>
The MovieLens Dataset
</span>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
</div>
</a>
</nav>
</div>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-footer-copyright">
<div class="md-footer-copyright__highlight">
Nexus is Open Source and available under the Apache 2 License.<br/>
© 2017-2018 <a href="https://epfl.ch/">EPFL</a> | <a href="https://bluebrain.epfl.ch/">The Blue Brain Project</a>

</div>
Powered by
<a href="https://github.com/lightbend/paradox">Paradox</a>
and
<a href="https://jonas.github.io/paradox-material-theme/">Paradox Material Theme</a>

</div>
<div class="md-footer-social">
<a href="https://github.com/BlueBrain" class="md-footer-social__link fa fa-github"></a><a href="https://gitter.im/BlueBrain/nexus" class="md-footer-social__link fa fa-globe"></a>
</div>

</div>
</div>
</footer>

</div>
<script src="../../../../assets/javascripts/application.583bbe55.js"></script>
<script src="../../../../assets/javascripts/paradox-material-theme.js"></script>
<script>app.initialize({version:"0.17",url:{base:"../../../../."}})</script>
<script type="text/javascript" src="../../../../lib/prettify/prettify.js"></script>
<script type="text/javascript" src="../../../../lib/prettify/lang-scala.js"></script>
<script type="text/javascript">
document.addEventListener("DOMContentLoaded", function(event) {
window.prettyPrint && prettyPrint();
});
</script>
</body>
</html>
