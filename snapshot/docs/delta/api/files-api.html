<!DOCTYPE html>
<html lang="en" class="no-js">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="description" content="docs">
<meta name="generator" content="Paradox, paradox-material-theme=0.6.0, mkdocs-material=3.0.3">

<meta name="lang:clipboard.copy" content="Copy to clipboard">
<meta name="lang:clipboard.copied" content="Copied to clipboard">
<meta name="lang:search.language" content="">
<meta name="lang:search.pipeline.stopwords" content="true">
<meta name="lang:search.pipeline.trimmer" content="true">
<meta name="lang:search.result.none" content="No matching documents">
<meta name="lang:search.result.one" content="1 matching document">
<meta name="lang:search.result.other" content="# matching documents">
<meta name="lang:search.tokenizer" content="[\s\-]+">


<meta name="description" content="docs">
<link rel="shortcut icon" href="../../.././assets/img/favicon-32x32.png">
<title>Files Â· Blue Brain Nexus</title>
<link rel="stylesheet" href="../../../assets/stylesheets/application.451f80e5.css">
<link rel="stylesheet" href="../../../assets/stylesheets/application-palette.22915126.css">
<meta name="theme-color" content="#03a9f4" />
<link rel="stylesheet" href="../../../lib/material__tabs/dist/mdc.tabs.min.css">
<link rel="stylesheet" href="../../../lib/prettify/prettify.css">
<script src="../../../assets/javascripts/modernizr.1aa3b519.js"></script>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
<style>
body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}
code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}
</style>
<link rel="stylesheet" href="../../../assets/fonts/font-awesome.css">
<link rel="stylesheet" href="../../../assets/fonts/material-icons.css">
<link rel="stylesheet" href="../../../assets/stylesheets/paradox-material-theme.css">
<link rel="stylesheet" href="../../.././assets/css/docs.css">
</head>
<body
data-md-color-primary="light-blue"
data-md-color-accent="cyan"
>
<input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
<input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
<label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
<header class="md-header" data-md-component="header">
<nav class="md-header-nav md-grid">
<div class="md-flex">
<div class="md-flex__cell md-flex__cell--shrink">
<a href="../../../docs/index.html" title="Blue Brain Nexus" class="md-header-nav__button md-logo">
<img src="../../.././assets/img/logo.png" width="24" height="24">
</a>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
</div>
<div class="md-flex__cell md-flex__cell--stretch">
<div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
<span class="md-header-nav__topic">
Blue Brain Nexus
</span>
<span class="md-header-nav__topic">
Files
</span>
</div>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
<label class="md-icon md-search__icon" for="__search"></label>
<button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">&#xE5CD;</button>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix>
<div class="md-search-result" data-md-component="result">
<div class="md-search-result__meta">
Type to start searching
</div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>

</div>
<div class="md-flex__cell md-flex__cell--shrink">
<div class="md-header-nav__source">
<a href="https://github.com/BlueBrain/nexus"
title="Go to repository"
class="md-source"
data-md-source="github">
<div class="md-source__icon">
<i class="fa fa-github"></i>
</div>
<div class="md-source__repository">
BlueBrain/nexus
</div>
</a>

</div>
</div>
</div>
</nav>
</header>

<div class="md-container">
<main class="md-main">
<div class="md-main__inner md-grid" data-md-component="container">
<div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav class="md-nav md-nav--primary" data-md-level="0" style="visibility: hidden">
<label class="md-nav__title md-nav__title--site" for="drawer">
<a href="../../../docs/index.html" title="Blue Brain Nexus" class="md-nav__button md-logo">
<span class="md-nav__button md-logo">
<img src="../../.././assets/img/logo.png" width="24" height="24">
</a>
<a href="../../../docs/index.html" title="Blue Brain Nexus">
Blue Brain Nexus
</a>
</label>
<div class="md-nav__source">
<a href="https://github.com/BlueBrain/nexus"
title="Go to repository"
class="md-source"
data-md-source="github">
<div class="md-source__icon">
<i class="fa fa-github"></i>
</div>
<div class="md-source__repository">
BlueBrain/nexus
</div>
</a>

</div>
<ul>
  <li><a href="../../../docs/versions.html" class="page">Versions</a></li>
  <li><a href="../../../docs/getting-started/index.html" class="page">Getting Started</a>
  <ul>
    <li><a href="../../../docs/getting-started/understanding-knowledge-graphs.html" class="page">Understanding Knowledge Graphs</a></li>
    <li><a href="../../../docs/getting-started/try-nexus.html" class="page">Try Nexus with Neuroscience Datasets</a></li>
    <li><a href="../../../docs/getting-started/try-nexus-movielens.html" class="page">Try Nexus with the MovieLens Dataset</a></li>
    <li><a href="../../../docs/getting-started/running-nexus/index.html" class="page">Running Nexus</a>
    <ul>
      <li><a href="../../../docs/getting-started/running-nexus/configuration/index.html" class="page">Nexus configuration</a></li>
      <li><a href="../../../docs/getting-started/running-nexus/search-configuration.html" class="page">Search configuration</a></li>
    </ul></li>
  </ul></li>
  <li><a href="../../../docs/releases/index.html" class="page">Releases</a>
  <ul>
    <li><a href="../../../docs/releases/v1.11-release-notes.html" class="page">v1.11 Release Notes</a></li>
    <li><a href="../../../docs/releases/v1.10-release-notes.html" class="page">v1.10 Release Notes</a></li>
    <li><a href="../../../docs/releases/v1.9-to-v1.10-migration.html" class="page">v1.9 To v1.10 Migration</a></li>
    <li><a href="../../../docs/releases/v1.9-release-notes.html" class="page">v1.9 Release Notes</a></li>
    <li><a href="../../../docs/releases/v1.8-to-v1.9-migration.html" class="page">v1.8 To v1.9 Migration</a></li>
    <li><a href="../../../docs/releases/v1.8-release-notes.html" class="page">v1.8 Release Notes</a></li>
    <li><a href="../../../docs/releases/v1.7-to-v1.8-migration.html" class="page">v1.7 To v1.8 Migration</a></li>
    <li><a href="../../../docs/releases/v1.7-release-notes.html" class="page">v1.7 Release Notes</a></li>
    <li><a href="../../../docs/releases/v1.6-to-v1.7-migration.html" class="page">v1.6 To v1.7 Migration</a></li>
    <li><a href="../../../docs/releases/v1.6-release-notes.html" class="page">v1.6 Release Notes</a></li>
    <li><a href="../../../docs/releases/v1.5-to-v1.6-migration.html" class="page">v1.5 To v1.6 Migration</a></li>
    <li><a href="../../../docs/releases/older-releases.html" class="page">Older releases</a></li>
  </ul></li>
  <li><a href="../../../docs/roadmap.html" class="page">Roadmap</a></li>
  <li><a href="../../../docs/fusion/index.html" class="page">Nexus Fusion</a>
  <ul>
    <li><a href="../../../docs/fusion/architecture.html" class="page">Architecture</a></li>
    <li><a href="../../../docs/fusion/organizations.html" class="page">Organizations</a></li>
    <li><a href="../../../docs/fusion/projects.html" class="page">Projects</a>
    <ul>
      <li><a href="../../../docs/fusion/project.html" class="page">Project</a></li>
    </ul></li>
    <li><a href="../../../docs/fusion/search.html" class="page">Global Search Types</a></li>
    <li><a href="../../../docs/fusion/studios.html" class="page">Studios</a>
    <ul>
      <li><a href="../../../docs/fusion/studio.html" class="page">Studio</a></li>
    </ul></li>
    <li><a href="../../../docs/fusion/my-data.html" class="page">User data</a></li>
    <li><a href="../../../docs/fusion/plugins.html" class="page">Plugins</a></li>
  </ul></li>
  <li><a href="../../../docs/forge.html" class="page">Nexus Forge</a></li>
  <li><a href="../../../docs/delta/index.html" class="page">Nexus Delta</a>
  <ul>
    <li><a href="../../../docs/delta/architecture.html" class="page">Architecture</a></li>
    <li><a href="../../../docs/delta/api/index.html" class="page">API Reference</a>
    <ul>
      <li><a href="../../../docs/delta/api/content-negotiation.html" class="page">Content Negotiation</a></li>
      <li><a href="../../../docs/delta/api/conditional-requests.html" class="page">Conditional requests</a></li>
      <li><a href="../../../docs/delta/api/error-signaling.html" class="page">Error Signaling</a></li>
      <li><a href="../../../docs/delta/api/version.html" class="page">Version</a></li>
      <li><a href="../../../docs/delta/api/authentication.html" class="page">Authentication &amp; Authorization</a></li>
      <li><a href="../../../docs/delta/api/identities.html" class="page">Identities</a></li>
      <li><a href="../../../docs/delta/api/permissions-api.html" class="page">Permissions</a></li>
      <li><a href="../../../docs/delta/api/realms-api.html" class="page">Realms</a></li>
      <li><a href="../../../docs/delta/api/acls-api.html" class="page">Access Control Lists</a></li>
      <li><a href="../../../docs/delta/api/user-permissions-api.html" class="page">User Permissions</a></li>
      <li><a href="../../../docs/delta/api/orgs-api.html" class="page">Organizations</a></li>
      <li><a href="../../../docs/delta/api/projects-api.html" class="page">Projects</a></li>
      <li><a href="../../../docs/delta/api/quotas.html" class="page">Quotas</a></li>
      <li><a href="../../../docs/delta/api/schemas-api.html" class="page">Schemas</a></li>
      <li><a href="../../../docs/delta/api/resources-api.html" class="page">Resources</a></li>
      <li><a href="../../../docs/delta/api/trial.html" class="page">Trial</a></li>
      <li><a href="../../../docs/delta/api/multi-fetch.html" class="page">Multi fetch</a></li>
      <li><a href="../../../docs/delta/api/id-resolution.html" class="page">Id Resolution</a></li>
      <li><a href="../../../docs/delta/api/history.html" class="page">History of resources</a></li>
      <li><a href="../../../docs/delta/api/resolvers-api.html" class="page">Resolvers</a></li>
      <li><a href="../../../docs/delta/api/views/index.html" class="page">Views</a>
      <ul>
        <li><a href="../../../docs/delta/api/views/elasticsearch-view-api.html" class="page">ElasticSearchView</a></li>
        <li><a href="../../../docs/delta/api/views/pipes.html" class="page">Elasticsearch Pipes</a></li>
        <li><a href="../../../docs/delta/api/views/aggregated-es-view-api.html" class="page">AggregateElasticSearchView</a></li>
        <li><a href="../../../docs/delta/api/views/sparql-view-api.html" class="page">SparqlView</a></li>
        <li><a href="../../../docs/delta/api/views/aggregated-sparql-view-api.html" class="page">AggregateSparqlView</a></li>
        <li><a href="../../../docs/delta/api/views/composite-view-api.html" class="page">CompositeView</a></li>
      </ul></li>
      <li><a href="../../../docs/delta/api/storages-api.html" class="page">Storages</a></li>
      <li><a href="../../../docs/delta/api/files-api.html" class="active page">Files</a></li>
      <li><a href="../../../docs/delta/api/archives-api.html" class="page">Archives</a></li>
      <li><a href="../../../docs/delta/api/search-api.html" class="page">Global search</a></li>
      <li><a href="../../../docs/delta/api/graph-analytics-api.html" class="page">Graph analytics</a></li>
      <li><a href="../../../docs/delta/api/jira.html" class="page">Jira integration</a></li>
      <li><a href="../../../docs/delta/api/supervision-api.html" class="page">Supervision</a></li>
      <li><a href="../../../docs/delta/api/type-hierarchy-api.html" class="page">Type hierarchy</a></li>
    </ul></li>
    <li><a href="../../../docs/delta/metadata.html" class="page">Nexus Metadata</a></li>
    <li><a href="../../../docs/delta/plugins/index.html" class="page">Plugins</a></li>
    <li><a href="../../../docs/delta/benchmarks/index.html" class="page">Benchmarks</a>
    <ul>
      <li><a href="../../../docs/delta/benchmarks/v1.4.2.html" class="page">Benchmarks v1.4.2</a></li>
      <li><a href="../../../docs/delta/benchmarks/v1.2.1.html" class="page">Benchmarks v1.2.1</a></li>
    </ul></li>
  </ul></li>
  <li><a href="../../../docs/utilities/index.html" class="page">Utilities</a></li>
  <li><a href="../../../docs/faq.html" class="page">FAQ</a></li>
</ul>
<nav class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">Table of contents</label>
<ul>
  <li><a href="../../../docs/delta/api/files-api.html#files" class="header">Files</a>
  <ul>
    <li><a href="../../../docs/delta/api/files-api.html#nexus-metadata" class="header">Nexus metadata</a></li>
    <li><a href="../../../docs/delta/api/files-api.html#custom-file-metadata" class="header">Custom file metadata</a></li>
    <li><a href="../../../docs/delta/api/files-api.html#indexing" class="header">Indexing</a></li>
    <li><a href="../../../docs/delta/api/files-api.html#request-body-and-headers-for-create-and-updates-operations" class="header">Request body and headers for create and updates operations</a></li>
    <li><a href="../../../docs/delta/api/files-api.html#create-using-post" class="header">Create using POST</a></li>
    <li><a href="../../../docs/delta/api/files-api.html#create-using-put" class="header">Create using PUT</a></li>
    <li><a href="../../../docs/delta/api/files-api.html#update" class="header">Update</a></li>
    <li><a href="../../../docs/delta/api/files-api.html#delegation-linking-s3-only-" class="header">Delegation &amp; Linking (S3 only)</a>
    <ul>
      <li><a href="../../../docs/delta/api/files-api.html#linking-a-new-file-using-post" class="header">Linking a new file using POST</a></li>
      <li><a href="../../../docs/delta/api/files-api.html#linking-a-new-file-update-an-existing-file-using-put" class="header">Linking a new file / update an existing file using PUT</a></li>
      <li><a href="../../../docs/delta/api/files-api.html#delegating-file-uploads" class="header">Delegating file uploads</a>
      <ul>
        <li><a href="../../../docs/delta/api/files-api.html#1-validate-and-generate-path-for-file-delegation" class="header">1. Validate and generate path for file delegation</a></li>
        <li><a href="../../../docs/delta/api/files-api.html#2-upload-file-to-s3" class="header">2. Upload file to S3</a></li>
        <li><a href="../../../docs/delta/api/files-api.html#3-create-update-delegated-file-resource" class="header">3. Create/update delegated file resource</a></li>
      </ul></li>
    </ul></li>
    <li><a href="../../../docs/delta/api/files-api.html#tag" class="header">Tag</a></li>
    <li><a href="../../../docs/delta/api/files-api.html#remove-tag" class="header">Remove tag</a></li>
    <li><a href="../../../docs/delta/api/files-api.html#deprecate" class="header">Deprecate</a></li>
    <li><a href="../../../docs/delta/api/files-api.html#undeprecate" class="header">Undeprecate</a></li>
    <li><a href="../../../docs/delta/api/files-api.html#fetch" class="header">Fetch</a></li>
    <li><a href="../../../docs/delta/api/files-api.html#fetch-tags" class="header">Fetch tags</a></li>
    <li><a href="../../../docs/delta/api/files-api.html#list" class="header">List</a>
    <ul>
      <li><a href="../../../docs/delta/api/files-api.html#within-a-project" class="header">Within a project</a></li>
      <li><a href="../../../docs/delta/api/files-api.html#within-an-organization" class="header">Within an organization</a></li>
      <li><a href="../../../docs/delta/api/files-api.html#within-all-projects" class="header">Within all projects</a></li>
      <li><a href="../../../docs/delta/api/files-api.html#parameter-description" class="header">Parameter description</a></li>
    </ul></li>
    <li><a href="../../../docs/delta/api/files-api.html#server-sent-events" class="header">Server Sent Events</a></li>
  </ul></li>
</ul>
</nav>

</nav>
<ul style="display: none">
<li class="md-nav__item md-version" id="project.version">
<label class="md-nav__link" for="__version">
<i class="md-icon" title="Version">label_outline</i> Snapshot
</label>
</li>
</ul>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">Table of contents</label>
<ul>
  <li><a href="../../../docs/delta/api/files-api.html#files" class="header">Files</a>
  <ul>
    <li><a href="../../../docs/delta/api/files-api.html#nexus-metadata" class="header">Nexus metadata</a></li>
    <li><a href="../../../docs/delta/api/files-api.html#custom-file-metadata" class="header">Custom file metadata</a></li>
    <li><a href="../../../docs/delta/api/files-api.html#indexing" class="header">Indexing</a></li>
    <li><a href="../../../docs/delta/api/files-api.html#request-body-and-headers-for-create-and-updates-operations" class="header">Request body and headers for create and updates operations</a></li>
    <li><a href="../../../docs/delta/api/files-api.html#create-using-post" class="header">Create using POST</a></li>
    <li><a href="../../../docs/delta/api/files-api.html#create-using-put" class="header">Create using PUT</a></li>
    <li><a href="../../../docs/delta/api/files-api.html#update" class="header">Update</a></li>
    <li><a href="../../../docs/delta/api/files-api.html#delegation-linking-s3-only-" class="header">Delegation &amp; Linking (S3 only)</a>
    <ul>
      <li><a href="../../../docs/delta/api/files-api.html#linking-a-new-file-using-post" class="header">Linking a new file using POST</a></li>
      <li><a href="../../../docs/delta/api/files-api.html#linking-a-new-file-update-an-existing-file-using-put" class="header">Linking a new file / update an existing file using PUT</a></li>
      <li><a href="../../../docs/delta/api/files-api.html#delegating-file-uploads" class="header">Delegating file uploads</a>
      <ul>
        <li><a href="../../../docs/delta/api/files-api.html#1-validate-and-generate-path-for-file-delegation" class="header">1. Validate and generate path for file delegation</a></li>
        <li><a href="../../../docs/delta/api/files-api.html#2-upload-file-to-s3" class="header">2. Upload file to S3</a></li>
        <li><a href="../../../docs/delta/api/files-api.html#3-create-update-delegated-file-resource" class="header">3. Create/update delegated file resource</a></li>
      </ul></li>
    </ul></li>
    <li><a href="../../../docs/delta/api/files-api.html#tag" class="header">Tag</a></li>
    <li><a href="../../../docs/delta/api/files-api.html#remove-tag" class="header">Remove tag</a></li>
    <li><a href="../../../docs/delta/api/files-api.html#deprecate" class="header">Deprecate</a></li>
    <li><a href="../../../docs/delta/api/files-api.html#undeprecate" class="header">Undeprecate</a></li>
    <li><a href="../../../docs/delta/api/files-api.html#fetch" class="header">Fetch</a></li>
    <li><a href="../../../docs/delta/api/files-api.html#fetch-tags" class="header">Fetch tags</a></li>
    <li><a href="../../../docs/delta/api/files-api.html#list" class="header">List</a>
    <ul>
      <li><a href="../../../docs/delta/api/files-api.html#within-a-project" class="header">Within a project</a></li>
      <li><a href="../../../docs/delta/api/files-api.html#within-an-organization" class="header">Within an organization</a></li>
      <li><a href="../../../docs/delta/api/files-api.html#within-all-projects" class="header">Within all projects</a></li>
      <li><a href="../../../docs/delta/api/files-api.html#parameter-description" class="header">Parameter description</a></li>
    </ul></li>
    <li><a href="../../../docs/delta/api/files-api.html#server-sent-events" class="header">Server Sent Events</a></li>
  </ul></li>
</ul>
</nav>

</div>
</div>
</div>
<div class="md-content">
<article class="md-content__inner md-typeset">
<div class="callout note warning admonition" style="visibility: visible; margin-top: 0px">
<div class="callout-title admonition-title">Snapshot version</div>
<p>
You are browsing the docs for the snapshot version of Nexus,
the latest release is available <a href="https://bluebrainnexus.io/docs/" title="here">here</a>
</p>
</div>
<div class="md-content__searchable">
<h1><a href="#files" name="files" class="anchor"><span class="anchor-link"></span></a>Files</h1>
<p>Files are attachment resources rooted in the <code>/v1/files/{org_label}/{project_label}/</code> collection.</p>
<p>Each file belongs to a <code>project</code> identifier by the label <code>{project_label}</code> inside an <code>organization</code> identifier by the label <code>{org_label}</code>.</p><div class="callout note tip"><div class="callout-title">Authorization notes</div>
<p>When creating, updating and reading files, the caller must have the permissions defined on the storage associated to the file on the current path of the project or the ancestor paths.</p>
<p>Please visit <a href="authentication.html">Authentication &amp; authorization</a> section to learn more about it.</p></div>
<h2><a href="#nexus-metadata" name="nexus-metadata" class="anchor"><span class="anchor-link"></span></a>Nexus metadata</h2>
<p>When using the endpoints described on this page, the responses will contain global metadata described on the <a href="../metadata.html">Nexus Metadata</a> page. In addition, the following files specific metadata can be present</p>
<ul>
  <li><code>_bytes</code>: size of the file in bytes</li>
  <li><code>_digest</code>: algorithm and checksum used for file integrity</li>
  <li><code>_filename</code>: name of the file</li>
  <li><code>_keywords</code>: list of keywords associated with the file and which can be used to search for the file</li>
  <li><code>_location</code>: path where the file is stored on the underlying storage</li>
  <li><code>_mediaType</code>: <a href="https://en.wikipedia.org/wiki/MIME" title="MIME" target="_blank" rel="noopener noreferrer">MIME</a> specifying the type of the file</li>
  <li><code>_origin</code>: whether the file attributes resulted from an action taken by a client or the Nexus Storage Service</li>
  <li><code>_storage</code>: <code>@id</code>, <code>@type</code>, and revision of the <a href="storages-api.html">Storage</a> used for the file</li>
  <li><code>_uuid</code>: <a href="https://en.wikipedia.org/wiki/Universally_unique_identifier" title="UUID" target="_blank" rel="noopener noreferrer">UUID</a> of the file</li>
  <li><code>_project</code>: address of the file&rsquo;s project</li>
  <li><code>_incoming</code>: address to query to obtain the <a href="resources-api.html#list-incoming-links">list of incoming links</a></li>
  <li><code>_outgoing</code>: address to query to obtain the <a href="resources-api.html#list-outgoing-links">list of outgoing links</a></li>
</ul>
<h2><a href="#custom-file-metadata" name="custom-file-metadata" class="anchor"><span class="anchor-link"></span></a>Custom file metadata</h2>
<p>When creating file resources, users can optionally provide custom metadata to be indexed and therefore searchable.</p>
<p>This takes the form of a <code>metadata</code> field containing a JSON Object with one or more of the following fields:</p>
<ul>
  <li><code>name</code>: a string which is a descriptive name for the file. It will be indexed in the full-text search.</li>
  <li><code>description</code>: a string that describes the file. It will be indexed in the full-text search.</li>
  <li><code>keywords</code>: a JSON object with <code>Label</code> keys and <code>string</code> values. These keywords will be indexed and can be used to search for the file.</li>
</ul>
<h2><a href="#indexing" name="indexing" class="anchor"><span class="anchor-link"></span></a>Indexing</h2>
<p>All the API calls modifying a file (creation, update, tagging, deprecation) can specify whether the file should be indexed synchronously or in the background. This behaviour is controlled using <code>indexing</code> query param, which can be one of two values:</p>
<ul>
  <li><code>async</code> - (default value) the file will be indexed asynchronously</li>
  <li><code>sync</code> - the file will be indexed synchronously and the API call won&rsquo;t return until the indexing is finished</li>
</ul>
<h2><a href="#request-body-and-headers-for-create-and-updates-operations" name="request-body-and-headers-for-create-and-updates-operations" class="anchor"><span class="anchor-link"></span></a>Request body and headers for create and updates operations</h2>
<p><strong>The request body:</strong></p>
<p>The body should be a multipart form, to allow file upload. The form should contain one part named <code>file</code>. This part can be given a content-type header, which will be used if specified. If not specified, the content-type will be inferred from the file&rsquo;s extension.</p>
<p>This part can contain the following disposition parameters: - <code>filename</code>: the filename which will be used in the back-end file system</p>
<p><strong>Headers:</strong></p>
<ul>
  <li><code>x-nxs-file-metadata</code>: an optional JSON object containing one or more of fields described in <a href="files-api.html#custom-file-metadata">custom file metadata</a>.</li>
  <li><code>x-nxs-file-content-length</code>: the size of the uploaded file:</li>
  <li>mandatory to upload to a S3 storage</li>
  <li>ignored for other types of storage</li>
</ul>
<h2><a href="#create-using-post" name="create-using-post" class="anchor"><span class="anchor-link"></span></a>Create using POST</h2>
<pre><code>POST /v1/files/{org_label}/{project_label}?storage={storageId}&amp;tag={tagName}
</code></pre>
<p>&hellip; where </p>
<ul>
  <li><code>{storageId}</code> selects a specific storage backend where the file will be uploaded. This field is optional. When not specified, the default storage of the project is used.</li>
  <li><code>{tagName}</code> an optional label given to the file on its first revision.</li>
</ul>
<p><a href="files-api.html#request-body-and-headers-for-create-and-updates-operations">Request body and headers to provide</a></p>
<p><strong>Example</strong></p>
<dl>
  <dt>Request</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/files/create-post.sh" target="_blank" title="Go to snippet source">source</a><code class="language-sh">curl -X POST \
     -F &quot;file=@/path/to/myfile.jpg;type=image/jpeg&quot; \
     -H &#39;x-nxs-file-metadata: {&quot;name&quot;: &quot;My File&quot;}&#39; \
     &quot;http://localhost:8080/v1/files/myorg/myproject&quot;</code></pre></dd>
  <dt>Response</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/files/created-post.json" target="_blank" title="Go to snippet source">source</a><code class="language-json">{
  &quot;@context&quot;: [
    &quot;https://bluebrain.github.io/nexus/contexts/files.json&quot;,
    &quot;https://bluebrain.github.io/nexus/contexts/metadata.json&quot;
  ],
  &quot;@id&quot;: &quot;http://localhost:8080/v1/resources/myorg/myproject/_/c581fdd4-6151-4430-aa33-f97ab6aa0b38&quot;,
  &quot;@type&quot;: &quot;File&quot;,
  &quot;name&quot;: &quot;My File&quot;,
  &quot;_bytes&quot;: 8615,
  &quot;_constrainedBy&quot;: &quot;https://bluebrain.github.io/nexus/schemas/files.json&quot;,
  &quot;_createdAt&quot;: &quot;2021-05-12T07:28:30.472Z&quot;,
  &quot;_createdBy&quot;: &quot;http://localhost:8080/v1/anonymous&quot;,
  &quot;_deprecated&quot;: false,
  &quot;_digest&quot;: {
    &quot;_algorithm&quot;: &quot;SHA-256&quot;,
    &quot;_value&quot;: &quot;057a3811ecfbeb99506c538d42474d1916f1d9b66965b9e9378a00eab1bb913a&quot;
  },
  &quot;_filename&quot;: &quot;myfile.jpg&quot;,
  &quot;_incoming&quot;: &quot;http://localhost:8080/v1/files/myorg/myproject/c581fdd4-6151-4430-aa33-f97ab6aa0b38/incoming&quot;,
  &quot;_mediaType&quot;: &quot;image/jpeg&quot;,
  &quot;_origin&quot;: &quot;Client&quot;,
  &quot;_outgoing&quot;: &quot;http://localhost:8080/v1/files/myorg/myproject/c581fdd4-6151-4430-aa33-f97ab6aa0b38/outgoing&quot;,
  &quot;_project&quot;: &quot;http://localhost:8080/v1/projects/myorg/myproject&quot;,
  &quot;_rev&quot;: 1,
  &quot;_self&quot;: &quot;http://localhost:8080/v1/files/myorg/myproject/c581fdd4-6151-4430-aa33-f97ab6aa0b38&quot;,
  &quot;_storage&quot;: {
    &quot;@id&quot;: &quot;https://bluebrain.github.io/nexus/vocabulary/diskStorageDefault&quot;,
    &quot;@type&quot;: &quot;DiskStorage&quot;,
    &quot;_rev&quot;: 1
  },
  &quot;_updatedAt&quot;: &quot;2021-05-12T07:28:30.472Z&quot;,
  &quot;_updatedBy&quot;: &quot;http://localhost:8080/v1/anonymous&quot;,
  &quot;_uuid&quot;: &quot;9af35be9-b2f2-4734-9646-c3423a62685d&quot;
}</code></pre></dd>
</dl>
<h2><a href="#create-using-put" name="create-using-put" class="anchor"><span class="anchor-link"></span></a>Create using PUT</h2>
<p>This alternative endpoint to create a resource is useful in case the json payload does not contain an <code>@id</code> but you want to specify one. The @id will be specified in the last segment of the endpoint URI.</p>
<pre><code>PUT /v1/files/{org_label}/{project_label}/{file_id}?storage={storageId}&amp;tag={tagName}
</code></pre>
<p>&hellip; where </p>
<ul>
  <li><code>{storageId}</code> selects a specific storage backend where the file will be uploaded. This field is optional. When not specified, the default storage of the project is used.</li>
  <li><code>{tagName}</code> an optional label given to the file on its first revision.</li>
</ul>
<p><a href="files-api.html#request-body-and-headers-for-create-and-updates-operations">Request body and headers to provide</a></p>
<p><strong>Example</strong></p>
<dl>
  <dt>Request</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/files/create-put.sh" target="_blank" title="Go to snippet source">source</a><code class="language-sh">curl -X PUT \
     -F &quot;file=@/path/to/myfile.pdf;type=application/pdf&quot; \
     -H &#39;x-nxs-file-metadata: {&quot;name&quot;: &quot;My File&quot;}&#39; \
     &quot;http://localhost:8080/v1/files/myorg/myproject/myfile?storage=s3&amp;tag=mytag&quot;</code></pre></dd>
  <dt>Response</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/files/created-put.json" target="_blank" title="Go to snippet source">source</a><code class="language-json">{
  &quot;@context&quot;: [
    &quot;https://bluebrain.github.io/nexus/contexts/files.json&quot;,
    &quot;https://bluebrain.github.io/nexus/contexts/metadata.json&quot;
  ],
  &quot;@id&quot;: &quot;http://localhost:8080/v1/resources/myorg/myproject/_/myfile&quot;,
  &quot;@type&quot;: &quot;File&quot;,
  &quot;name&quot;: &quot;My File&quot;,
  &quot;_bytes&quot;: 5963969,
  &quot;_constrainedBy&quot;: &quot;https://bluebrain.github.io/nexus/schemas/files.json&quot;,
  &quot;_createdAt&quot;: &quot;2021-05-12T07:30:54.576Z&quot;,
  &quot;_createdBy&quot;: &quot;http://localhost:8080/v1/anonymous&quot;,
  &quot;_deprecated&quot;: false,
  &quot;_digest&quot;: {
    &quot;_algorithm&quot;: &quot;SHA-256&quot;,
    &quot;_value&quot;: &quot;d14a7cb4602a2c6e1e7035809aa319d07a6d3c58303ecce7804d2e481cd4965f&quot;
  },
  &quot;_filename&quot;: &quot;myfile.pdf&quot;,
  &quot;_incoming&quot;: &quot;http://localhost:8080/v1/files/myorg/myproject/myfile/incoming&quot;,
  &quot;_location&quot;: &quot;file:///tmp/test/nexus/myorg/myproject/c/b/5/c/4/d/8/e/myfile.pdf&quot;,
  &quot;_mediaType&quot;: &quot;application/pdf&quot;,
  &quot;_origin&quot;: &quot;Client&quot;,
  &quot;_outgoing&quot;: &quot;http://localhost:8080/v1/files/myorg/myproject/myfile/outgoing&quot;,
  &quot;_project&quot;: &quot;http://localhost:8080/v1/projects/myorg/myproject&quot;,
  &quot;_rev&quot;: 1,
  &quot;_self&quot;: &quot;http://localhost:8080/v1/files/myorg/myproject/myfile&quot;,
  &quot;_storage&quot;: {
    &quot;@id&quot;: &quot;http://localhost:8080/v1/resources/myorg/myproject/_/s3&quot;,
    &quot;@type&quot;: &quot;S3Storage&quot;,
    &quot;_rev&quot;: 1
  },
  &quot;_updatedAt&quot;: &quot;2021-05-12T07:30:54.576Z&quot;,
  &quot;_updatedBy&quot;: &quot;http://localhost:8080/v1/anonymous&quot;,
  &quot;_uuid&quot;: &quot;cb5c4d8e-0189-49ab-b761-c92b2d4f49d2&quot;
}</code></pre></dd>
</dl>
<h2><a href="#update" name="update" class="anchor"><span class="anchor-link"></span></a>Update</h2>
<p>This operation overrides the file content.</p>
<p>In order to ensure a client does not perform any changes to a file without having had seen the previous revision of the file, the last revision needs to be passed as a query parameter.</p>
<pre><code>PUT /v1/files/{org_label}/{project_label}/{resource_id}?rev={previous_rev}
</code></pre>
<p>&hellip; where <code>{previous_rev}</code> is the last known revision number for the resource.</p>
<p><a href="files-api.html#request-body-and-headers-for-create-and-updates-operations">Request body and headers to provide</a></p><div class="callout note tip"><div class="callout-title">Metadata update</div>
<p>If only the metadata is provided, then the updated is a metadata update and the file content is not changed.</p></div>
<p><strong>Example</strong></p>
<dl>
  <dt>Request</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/files/update.sh" target="_blank" title="Go to snippet source">source</a><code class="language-sh">curl -X PUT \
   -F &quot;file=@/path/to/myfile2.pdf;type=application/pdf&quot; \
   -H &#39;x-nxs-file-metadata: {&quot;name&quot;: &quot;My File&quot;}&#39; \
   &quot;http://localhost:8080/v1/files/myorg/myproject/myfile?rev=1&quot;</code></pre></dd>
  <dt>Response</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/files/updated.json" target="_blank" title="Go to snippet source">source</a><code class="language-json">{
  &quot;@context&quot;: [
    &quot;https://bluebrain.github.io/nexus/contexts/files.json&quot;,
    &quot;https://bluebrain.github.io/nexus/contexts/metadata.json&quot;
  ],
  &quot;@id&quot;: &quot;http://localhost:8080/v1/resources/myorg/myproject/_/myfile&quot;,
  &quot;@type&quot;: &quot;File&quot;,
  &quot;name&quot;: &quot;My File&quot;,
  &quot;_bytes&quot;: 13896460,
  &quot;_constrainedBy&quot;: &quot;https://bluebrain.github.io/nexus/schemas/files.json&quot;,
  &quot;_createdAt&quot;: &quot;2021-05-12T07:30:54.576Z&quot;,
  &quot;_createdBy&quot;: &quot;http://localhost:8080/v1/anonymous&quot;,
  &quot;_deprecated&quot;: false,
  &quot;_digest&quot;: {
    &quot;_algorithm&quot;: &quot;SHA-256&quot;,
    &quot;_value&quot;: &quot;4c9f4292e3c0c5fc23cd60722adb8a1535f1dd7f0cf9203140d61fb889eef3cf&quot;
  },
  &quot;_filename&quot;: &quot;myfile2.pdf&quot;,
  &quot;_incoming&quot;: &quot;http://localhost:8080/v1/files/myorg/myproject/myfile/incoming&quot;,
  &quot;_mediaType&quot;: &quot;application/pdf&quot;,
  &quot;_origin&quot;: &quot;Client&quot;,
  &quot;_outgoing&quot;: &quot;http://localhost:8080/v1/files/myorg/myproject/myfile/outgoing&quot;,
  &quot;_project&quot;: &quot;http://localhost:8080/v1/projects/myorg/myproject&quot;,
  &quot;_rev&quot;: 2,
  &quot;_self&quot;: &quot;http://localhost:8080/v1/files/myorg/myproject/myfile&quot;,
  &quot;_storage&quot;: {
    &quot;@id&quot;: &quot;https://bluebrain.github.io/nexus/vocabulary/diskStorageDefault&quot;,
    &quot;@type&quot;: &quot;DiskStorage&quot;,
    &quot;_rev&quot;: 1
  },
  &quot;_updatedAt&quot;: &quot;2021-05-12T08:04:08.440Z&quot;,
  &quot;_updatedBy&quot;: &quot;http://localhost:8080/v1/anonymous&quot;,
  &quot;_uuid&quot;: &quot;3e86d93a-c196-407d-a13c-cea7168e32e3&quot;
}</code></pre></dd>
</dl>
<h2><a href="#delegation-linking-s3-only-" name="delegation-linking-s3-only-" class="anchor"><span class="anchor-link"></span></a>Delegation &amp; Linking (S3 only)</h2>
<p>To support files stored in the cloud, Delta allows users to register files already uploaded to S3. This is useful primarily for large files where uploading directly through Delta using HTTP is inefficient and expensive.</p>
<p>There are two use cases: registering an already uploaded file by specifying its path, and asking Delta to generate a path in its standard format.</p>
<h3><a href="#linking-a-new-file-using-post" name="linking-a-new-file-using-post" class="anchor"><span class="anchor-link"></span></a>Linking a new file using POST</h3>
<p>This endpoint accepts a path and creates a new file resource based on an existing S3 file.</p>
<pre><code>POST /v1/link/files/{org_label}/{project_label}?storage={storageId}&amp;tag={tagName}
  {
    &quot;path&quot;: &quot;{path}&quot;,
    &quot;mediaType&quot;: &quot;{mediaType}&quot;,
    &quot;metadata&quot;: {metadata}
  }
</code></pre>
<p>&hellip; where</p>
<ul>
  <li><code>{path}</code>: String - the relative path to the file from the root of S3.</li>
  <li><code>{mediaType}</code>: String - Optional <a href="https://en.wikipedia.org/wiki/MIME" title="MIME" target="_blank" rel="noopener noreferrer">MIME</a> specifying the file type. If omitted this will be inferred by S3.</li>
  <li><code>{metadata}</code>: JSON Object - Optional, see <a href="files-api.html#custom-file-metadata">custom file metadata</a>.</li>
  <li><code>{storageId}</code> selects a specific storage backend where the file will be uploaded. This field is optional.  When not specified, the default storage of the project is used.</li>
  <li><code>{tagName}</code> an optional label given to the file on its first revision.</li>
</ul>
<p><strong>Example</strong></p>
<dl>
  <dt>Request</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/files/link-post.sh" target="_blank" title="Go to snippet source">source</a><code class="language-sh">curl -X POST \
   -H &quot;Content-Type: application/json&quot; \
   &quot;http://localhost:8080/v1/link/files/myorg/myproject?storage=mys3storage&quot; -d \
   &#39;{
      &quot;path&quot;: &quot;relative/path/to/myfile.png&quot;,
      &quot;mediaType&quot;: &quot;image/png&quot;,
      &quot;metadata&quot;: {
        &quot;name&quot;: &quot;My File&quot;,
        &quot;description&quot;: &quot;a description of the file&quot;,
        &quot;keywords&quot;: {
          &quot;key1&quot;: &quot;value1&quot;,
          &quot;key2&quot;: &quot;value2&quot;
        }
      }
   }&#39;</code></pre></dd>
  <dt>Response</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/files/link-result.json" target="_blank" title="Go to snippet source">source</a><code class="language-json">{
  &quot;@context&quot; : [
    &quot;https://bluebrain.github.io/nexus/contexts/files.json&quot;,
    &quot;https://bluebrain.github.io/nexus/contexts/metadata.json&quot;
  ],
  &quot;@id&quot; : &quot;http://delta:8080/v1/resources/hkrxvoxdyiiev1p/03vctrp70usfehq/_/iwa41vwspwke6nx&quot;,
  &quot;@type&quot; : &quot;File&quot;,
  &quot;_bytes&quot; : 29625,
  &quot;_constrainedBy&quot; : &quot;https://bluebrain.github.io/nexus/schemas/files.json&quot;,
  &quot;_createdAt&quot; : &quot;2024-06-14T12:44:36.525177Z&quot;,
  &quot;_createdBy&quot; : &quot;http://delta:8080/v1/realms/test-vuaplrsvrbkpkhca/users/byfxikrrdlmmvsvv&quot;,
  &quot;_deprecated&quot; : false,
  &quot;_digest&quot; : {
    &quot;_algorithm&quot; : &quot;SHA-256&quot;,
    &quot;_value&quot; : &quot;05bf442810213b9e5fecd5242eefeff1f3d207913861c96658c75ccf58997e87&quot;
  },
  &quot;_filename&quot; : &quot;myfile.png&quot;,
  &quot;_incoming&quot; : &quot;http://delta:8080/v1/files/hkrxvoxdyiiev1p/03vctrp70usfehq/http:%2F%2Fdelta:8080%2Fv1%2Fresources%2Fhkrxvoxdyiiev1p%2F03vctrp70usfehq%2F_%2Fiwa41vwspwke6nx/incoming&quot;,
  &quot;_location&quot; : &quot;relative/path/to/myfile.png&quot;,
  &quot;_mediaType&quot; : &quot;image/png&quot;,
  &quot;_origin&quot; : &quot;Link&quot;,
  &quot;_outgoing&quot; : &quot;http://delta:8080/v1/files/hkrxvoxdyiiev1p/03vctrp70usfehq/http:%2F%2Fdelta:8080%2Fv1%2Fresources%2Fhkrxvoxdyiiev1p%2F03vctrp70usfehq%2F_%2Fiwa41vwspwke6nx/outgoing&quot;,
  &quot;_project&quot; : &quot;http://delta:8080/v1/projects/hkrxvoxdyiiev1p/03vctrp70usfehq&quot;,
  &quot;_rev&quot; : 1,
  &quot;_self&quot; : &quot;http://delta:8080/v1/files/hkrxvoxdyiiev1p/03vctrp70usfehq/http:%2F%2Fdelta:8080%2Fv1%2Fresources%2Fhkrxvoxdyiiev1p%2F03vctrp70usfehq%2F_%2Fiwa41vwspwke6nx&quot;,
  &quot;_storage&quot; : {
    &quot;@id&quot; : &quot;https://bluebrain.github.io/nexus/vocabulary/mys3storage&quot;,
    &quot;@type&quot; : &quot;S3Storage&quot;,
    &quot;_rev&quot; : 3
  },
  &quot;_updatedAt&quot; : &quot;2024-06-14T12:44:36.525177Z&quot;,
  &quot;_updatedBy&quot; : &quot;http://delta:8080/v1/realms/test-vuaplrsvrbkpkhca/users/byfxikrrdlmmvsvv&quot;,
  &quot;_uuid&quot; : &quot;79695062-ecbb-42dc-a62d-61c2c02be129&quot;
}</code></pre></dd>
</dl>
<h3><a href="#linking-a-new-file-update-an-existing-file-using-put" name="linking-a-new-file-update-an-existing-file-using-put" class="anchor"><span class="anchor-link"></span></a>Linking a new file / update an existing file using PUT</h3>
<p>This endpoint accepts a path and creates a new file resource or update an existing one based on an existing S3 file.</p>
<p>This alternative endpoint allows to specify the file <code>@id</code>.</p>
<pre><code>PUT /v1/link/files/{org_label}/{project_label}/{fileId}?storage={storageId}&amp;rev={previous_rev}&amp;tag={tagName}
  {
    &quot;path&quot;: &quot;{path}&quot;,
    &quot;mediaType&quot;: &quot;{mediaType}&quot;,
    &quot;metadata&quot;: {metadata}
  }
</code></pre>
<p>&hellip; where</p>
<ul>
  <li><code>{path}</code>: String - the relative path to the file from the root of S3.</li>
  <li><code>{mediaType}</code>: String - Optional <a href="https://en.wikipedia.org/wiki/MIME" title="MIME" target="_blank" rel="noopener noreferrer">MIME</a> specifying the file type. If omitted this will be inferred by S3.</li>
  <li><code>{metadata}</code>: JSON Object - Optional, see <a href="files-api.html#custom-file-metadata">custom file metadata</a>.</li>
  <li><code>{storageId}</code> selects a specific storage backend where the file will be uploaded. This field is optional.  When not specified, the default storage of the project is used.</li>
  <li><code>{previous_rev}</code>: the last known revision number for the file (if a file for <code>{file_id}</code> already exists on that project).</li>
  <li><code>{tagName}</code> an optional label given to the file on the new revision.</li>
</ul>
<p><strong>Example</strong></p>
<dl>
  <dt>Request</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/files/link-put.sh" target="_blank" title="Go to snippet source">source</a><code class="language-sh">curl -X PUT \
   -H &quot;Content-Type: application/json&quot; \
   &quot;http://localhost:8080/v1/link/files/myorg/myproject/fileid?storage=mys3storage&quot; -d \
   &#39;{
      &quot;path&quot;: &quot;relative/path/to/myfile.png&quot;,
      &quot;mediaType&quot;: &quot;image/png&quot;,
      &quot;metadata&quot;: {
        &quot;name&quot;: &quot;My File&quot;,
        &quot;description&quot;: &quot;a description of the file&quot;,
        &quot;keywords&quot;: {
          &quot;key1&quot;: &quot;value1&quot;,
          &quot;key2&quot;: &quot;value2&quot;
        }
      }
   }&#39;</code></pre></dd>
  <dt>Response</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/files/link-result.json" target="_blank" title="Go to snippet source">source</a><code class="language-json">{
  &quot;@context&quot; : [
    &quot;https://bluebrain.github.io/nexus/contexts/files.json&quot;,
    &quot;https://bluebrain.github.io/nexus/contexts/metadata.json&quot;
  ],
  &quot;@id&quot; : &quot;http://delta:8080/v1/resources/hkrxvoxdyiiev1p/03vctrp70usfehq/_/iwa41vwspwke6nx&quot;,
  &quot;@type&quot; : &quot;File&quot;,
  &quot;_bytes&quot; : 29625,
  &quot;_constrainedBy&quot; : &quot;https://bluebrain.github.io/nexus/schemas/files.json&quot;,
  &quot;_createdAt&quot; : &quot;2024-06-14T12:44:36.525177Z&quot;,
  &quot;_createdBy&quot; : &quot;http://delta:8080/v1/realms/test-vuaplrsvrbkpkhca/users/byfxikrrdlmmvsvv&quot;,
  &quot;_deprecated&quot; : false,
  &quot;_digest&quot; : {
    &quot;_algorithm&quot; : &quot;SHA-256&quot;,
    &quot;_value&quot; : &quot;05bf442810213b9e5fecd5242eefeff1f3d207913861c96658c75ccf58997e87&quot;
  },
  &quot;_filename&quot; : &quot;myfile.png&quot;,
  &quot;_incoming&quot; : &quot;http://delta:8080/v1/files/hkrxvoxdyiiev1p/03vctrp70usfehq/http:%2F%2Fdelta:8080%2Fv1%2Fresources%2Fhkrxvoxdyiiev1p%2F03vctrp70usfehq%2F_%2Fiwa41vwspwke6nx/incoming&quot;,
  &quot;_location&quot; : &quot;relative/path/to/myfile.png&quot;,
  &quot;_mediaType&quot; : &quot;image/png&quot;,
  &quot;_origin&quot; : &quot;Link&quot;,
  &quot;_outgoing&quot; : &quot;http://delta:8080/v1/files/hkrxvoxdyiiev1p/03vctrp70usfehq/http:%2F%2Fdelta:8080%2Fv1%2Fresources%2Fhkrxvoxdyiiev1p%2F03vctrp70usfehq%2F_%2Fiwa41vwspwke6nx/outgoing&quot;,
  &quot;_project&quot; : &quot;http://delta:8080/v1/projects/hkrxvoxdyiiev1p/03vctrp70usfehq&quot;,
  &quot;_rev&quot; : 1,
  &quot;_self&quot; : &quot;http://delta:8080/v1/files/hkrxvoxdyiiev1p/03vctrp70usfehq/http:%2F%2Fdelta:8080%2Fv1%2Fresources%2Fhkrxvoxdyiiev1p%2F03vctrp70usfehq%2F_%2Fiwa41vwspwke6nx&quot;,
  &quot;_storage&quot; : {
    &quot;@id&quot; : &quot;https://bluebrain.github.io/nexus/vocabulary/mys3storage&quot;,
    &quot;@type&quot; : &quot;S3Storage&quot;,
    &quot;_rev&quot; : 3
  },
  &quot;_updatedAt&quot; : &quot;2024-06-14T12:44:36.525177Z&quot;,
  &quot;_updatedBy&quot; : &quot;http://delta:8080/v1/realms/test-vuaplrsvrbkpkhca/users/byfxikrrdlmmvsvv&quot;,
  &quot;_uuid&quot; : &quot;79695062-ecbb-42dc-a62d-61c2c02be129&quot;
}</code></pre></dd>
</dl>
<h3><a href="#delegating-file-uploads" name="delegating-file-uploads" class="anchor"><span class="anchor-link"></span></a>Delegating file uploads</h3>
<p>Clients can use delegation for files that cannot be uploaded through Delta (e.g. large files which may benefit from multipart upload from S3). Here Delta will provide bucket and path details for the upload. Users are then expected to upload the file using other methods, and call back to Delta to register this file with the same metadata that was initially validated. The three steps are outlined in detail below.</p>
<p>The following diagram illustrates the process of uploading a large file using the delegation method: <img src="assets/files/multipart-upload.png" alt="delegation" title="Multipart upload process" /></p>
<p>There is Delta <a href="https://github.com/BlueBrain/nexus/blob/master/delta/app/src/main/resources/app.conf" title="configuration" target="_blank" rel="noopener noreferrer">configuration</a> to be done prior to using this feature, in particular setting up the necessary RSA key to support secure communication between Delta and AWS and signing payloads.</p>
<p>The configuration can be found under the following key <code>app.jws</code>. Please note that the allowed duration of the process is configured there with a default of 3h. Check the configuration key <code>app.jws.ttl</code> to change this value.</p>
<h4><a href="#1-validate-and-generate-path-for-file-delegation" name="1-validate-and-generate-path-for-file-delegation" class="anchor"><span class="anchor-link"></span></a>1. Validate and generate path for file delegation</h4>
<p>Delta accepts and validates the following payload.</p>
<h5><a href="#generate-a-delegation-for-a-new-file-using-post" name="generate-a-delegation-for-a-new-file-using-post" class="anchor"><span class="anchor-link"></span></a>Generate a delegation for a new file using POST</h5>
<pre><code>POST /v1/delegate/files/generate/{org_label}/{project_label}?storage={storageId}&amp;tag={tagName}
  {
    &quot;filename&quot;: &quot;{filename}&quot;,
    &quot;mediaType&quot;: &quot;{mediaType}&quot;,
    &quot;metadata&quot;: {metadata}
  }
</code></pre>
<p>&hellip; where</p>
<ul>
  <li><code>{filename}</code>: String - mandatory name given to the file within the generated path.</li>
  <li><code>{mediaType}</code>: String - Optional <a href="https://en.wikipedia.org/wiki/MIME" title="MIME" target="_blank" rel="noopener noreferrer">MIME</a> specifying the file type. If omitted this will be inferred by S3.</li>
  <li><code>{metadata}</code>: JSON Object - Optional, see <a href="files-api.html#custom-file-metadata">custom file metadata</a>.</li>
  <li><code>{storageId}</code> selects a specific storage backend where the file will be uploaded. This field is optional.  When not specified, the default storage of the project is used.</li>
  <li><code>{tagName}</code>: String - an optional label given to the file on the new revision.</li>
</ul>
<h5><a href="#generate-a-delegation-for-a-new-file-update-an-existing-file-using-put" name="generate-a-delegation-for-a-new-file-update-an-existing-file-using-put" class="anchor"><span class="anchor-link"></span></a>Generate a delegation for a new file / update an existing file using PUT</h5>
<p>This endpoint accepts a path and creates a new file resource or update an existing one based on an existing S3 file.</p>
<p>This alternative endpoint allows to specify the file <code>@id</code>.</p>
<pre><code>PUT /v1/delegate/files/generate/{org_label}/{project_label}/{fileId}?storage={storageId}&amp;rev={previous_rev}&amp;tag={tagName}
  {
    &quot;filename&quot;: &quot;{filename}&quot;,
    &quot;mediaType&quot;: &quot;{mediaType}&quot;,
    &quot;metadata&quot;: {metadata}
  }
</code></pre>
<p>&hellip; where</p>
<ul>
  <li><code>{filename}</code>: String - mandatory name given to the file within the generated path.</li>
  <li><code>{mediaType}</code>: String - Optional <a href="https://en.wikipedia.org/wiki/MIME" title="MIME" target="_blank" rel="noopener noreferrer">MIME</a> specifying the file type. If omitted this will be inferred by S3.</li>
  <li><code>{metadata}</code>: JSON Object - Optional, see <a href="files-api.html#custom-file-metadata">custom file metadata</a>.</li>
  <li><code>{storageId}</code> selects a specific storage backend where the file will be uploaded. This field is optional.  When not specified, the default storage of the project is used.</li>
  <li><code>{previous_rev}</code>: the last known revision number for the file (if a file for <code>{file_id}</code> already exists on that project).</li>
  <li><code>{tagName}</code>: String - an optional label given to the file on the new revision.</li>
</ul>
<h5><a href="#delegation-payload" name="delegation-payload" class="anchor"><span class="anchor-link"></span></a>Delegation payload</h5>
<p>It then generates the following details for the file:</p>
<pre class="prettyprint"><code class="language-json"> {
    &quot;@type&quot;: &quot;FileDelegationCreationRequest&quot;,
    &quot;project&quot;: &quot;{org_label}/{project_label}&quot;,
    &quot;id&quot;: &quot;&lt;file resource identifier&gt;&quot;,
    &quot;rev&quot;: &quot;&lt;last known revision&gt;&quot;,
    &quot;targetLocation&quot;: {
      &quot;storageId&quot;: &quot;&lt;storage identifier&gt;&quot;,
      &quot;bucket&quot;: &quot;&lt;s3 bucket&gt;&quot;,
      &quot;path&quot;: &quot;&lt;path from s3 root&gt;&quot;
    },
    &quot;description&quot;: {
      &quot;filename&quot;: &quot;&lt;filename&gt;&quot;,
      &quot;mediaType&quot;: &quot;&lt;user provided mediaType&gt;&quot;,
      &quot;metadata&quot;: {}
    }
 }
</code></pre>
<p>The user is expected to upload their file to <code>path</code> within <code>bucket</code>. The <code>id</code> is reserved for when the file resource is created. <code>mediaType</code> and <code>metadata</code> are what the user specified in the request.</p>
<p>This payload is then signed using the <a href="https://datatracker.ietf.org/doc/html/rfc7515#section-7.2.2">flattened JWS serialization format</a> to ensure that Delta has validated and generated the correct data. This same payload will be passed when creating the file resource.</p>
<pre class="prettyprint"><code class="language-json"> {
    &quot;payload&quot;: &quot;&lt;base64 encoded payload contents&gt;&quot;,
    &quot;protected&quot;: &quot;&lt;integrity-protected header contents&gt;&quot;,
    &quot;signature&quot;: &quot;&lt;signature contents&gt;&quot;
 }
</code></pre>
<p>The <code>payload</code> field can be base64 decoded to access the generated file details. Note that <code>protected</code> contains an expiry field <code>exp</code> with the datetime at which this <code>signature</code> will expire (in epoch seconds). To view this can also be base64 decoded.</p>
<p><strong>Example</strong></p>
<dl>
  <dt>Request</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/files/delegate-submit-post.sh" target="_blank" title="Go to snippet source">source</a><code class="language-sh">curl -X POST \
   -H &quot;Content-Type: application/json&quot; \
   &quot;http://localhost:8080/v1/delegate/generate/files/myorg/myproject?storage=mys3storage&quot; -d \
   &#39;{
      &quot;filename&quot;: &quot;myfile.png&quot;,
      &quot;mediaType&quot;: &quot;image/png&quot;,
      &quot;metadata&quot;: {
        &quot;name&quot;: &quot;My File&quot;,
        &quot;description&quot;: &quot;a description of the file&quot;,
        &quot;keywords&quot;: {
          &quot;key1&quot;: &quot;value1&quot;,
          &quot;key2&quot;: &quot;value2&quot;
        }
      }
   }&#39;</code></pre></dd>
  <dt>Response</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/files/delegate-submit-post.json" target="_blank" title="Go to snippet source">source</a><code class="language-json">{
  &quot;protected&quot; : &quot;eyJleHAiOjE3MTg2Mjg1NDUsImFsZyI6IlJTMjU2In0&quot;,
  &quot;payload&quot; : &quot;eyJidWNrZXQiOiJqNDc4M2NjNWFkY2F1a3UiLCJwYXRoIjoibXlwcmVmaXgvYTE0bTYxZWgzajVuNzVjLzhrbXlpb2QyMzM1MnhpZC9maWxlcy9iLzIvOS80LzMvYy9jLzYvaG5qeXR3b2x0ZnVyc2JlaCIsIm1lZGlhVHlwZSI6ImltYWdlL2RhbiIsIm1ldGFkYXRhIjp7ImRlc2NyaXB0aW9uIjoicnByZndzdWpveGJpaXllaSIsImtleXdvcmRzIjp7ImtvZXZvd3Bsc3Jld2NlZGIiOiJ2dnNlaW9wa3Z5Y3d1dG1oIn0sIm5hbWUiOiJmbW94dHh3a3JvdWhtZG90In0sImlkIjoiaHR0cDovL2RlbHRhOjgwODAvdjEvcmVzb3VyY2VzL2ExNG02MWVoM2o1bjc1Yy84a215aW9kMjMzNTJ4aWQvXy9hNGE5ODE2Mi1jYTNmLTQ2YmUtYWUxMC00MzJjYTZmOTdjNGYifQ&quot;,
  &quot;signature&quot; : &quot;htQLymfQIrks7MejErb4v3mnhQT2W6iPZdkd7LVBPJ0Ksybj8XG8dbTJH5pjZJF7-HXi848R14tquZ6iSeXpEqFGiZYge8obPQRLpJA0qbc9Mmhlq-CTbIdsy5OFpdzcDadSj6_k_kzuU2PR-Fli9GtH-34z2d4C9dWsBmnUo_IA3dvSFCF_PaQuajo7cJYa_0yc4VVGKG-xYi9yV4ylD5D2cxMUDFun78NOKDD_2upF-kuf9t5E-NjCl0DffkelbqYuH6nMop2zmwfu-cwHnChaDwKM7HLJGLomD5duU5sq-mVsunnMy58NgzMecLGDbER-27zk7w0TwxkXTKfxWg&quot;
}</code></pre></dd>
</dl>
<h4><a href="#2-upload-file-to-s3" name="2-upload-file-to-s3" class="anchor"><span class="anchor-link"></span></a>2. Upload file to S3</h4>
<p>Using the bucket and path from the previous step, the file should be uploaded to S3 by whatever means are appropriate. The only restriction is that this must be finished before the expiry datetime of the signed payload.</p>
<p>Here are some tutorials in both <a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/mpu-upload-object.html#mpu-upload-low-level" title="Java with AWS SDK" target="_blank" rel="noopener noreferrer">Java with AWS SDK</a> and <a href="https://medium.com/analytics-vidhya/aws-s3-multipart-upload-download-using-boto3-python-sdk-2dedb0945f11" title="Python with Boto3" target="_blank" rel="noopener noreferrer">Python with Boto3</a> that illustrate the process of doing a multipart upload to S3.</p>
<h4><a href="#3-create-update-delegated-file-resource" name="3-create-update-delegated-file-resource" class="anchor"><span class="anchor-link"></span></a>3. Create/update delegated file resource</h4>
<p>Once the file has been uploaded to S3 at the specified path, the file resource can be created in the knowledge graph. The payload can be passed back exactly as it was returned in the previous step.</p>
<pre><code>POST /v1/delegate/files/submit
   {
      &quot;payload&quot;: &quot;&lt;base64 encoded payload contents&gt;&quot;,
      &quot;protected&quot;: &quot;&lt;integrity-protected header contents&gt;&quot;,
      &quot;signature&quot;: &quot;&lt;signature contents&gt;&quot;
   }
</code></pre>
<p>Delta will verify that the <code>signature</code> matches the payload and that the expiry date is not passed. Then the file will be registered as a resource. The usual file resource response will be returned with all the standard metadata and file location details.</p>
<p><strong>Example</strong></p>
<dl>
  <dt>Request</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/files/delegate-create-post.sh" target="_blank" title="Go to snippet source">source</a><code class="language-sh">curl -X POST \
   -H &quot;Content-Type: application/json&quot; \
   &quot;http://localhost:8080/v1/delegate/files/submit&quot; -d \
   &#39;{
      &quot;protected&quot; : &quot;eyJleHAiOjE3MTg2Mjg1NDUsImFsZyI6IlJTMjU2In0&quot;,
      &quot;payload&quot; : &quot;eyJidWNrZXQiOiJqNDc4M2NjNWFkY2F1a3UiLCJwYXRoIjoibXlwcmVmaXgvYTE0bTYxZWgzajVuNzVjLzhrbXlpb2QyMzM1MnhpZC9maWxlcy9iLzIvOS80LzMvYy9jLzYvaG5qeXR3b2x0ZnVyc2JlaCIsIm1lZGlhVHlwZSI6ImltYWdlL2RhbiIsIm1ldGFkYXRhIjp7ImRlc2NyaXB0aW9uIjoicnByZndzdWpveGJpaXllaSIsImtleXdvcmRzIjp7ImtvZXZvd3Bsc3Jld2NlZGIiOiJ2dnNlaW9wa3Z5Y3d1dG1oIn0sIm5hbWUiOiJmbW94dHh3a3JvdWhtZG90In0sImlkIjoiaHR0cDovL2RlbHRhOjgwODAvdjEvcmVzb3VyY2VzL2ExNG02MWVoM2o1bjc1Yy84a215aW9kMjMzNTJ4aWQvXy9hNGE5ODE2Mi1jYTNmLTQ2YmUtYWUxMC00MzJjYTZmOTdjNGYifQ&quot;,
      &quot;signature&quot; : &quot;htQLymfQIrks7MejErb4v3mnhQT2W6iPZdkd7LVBPJ0Ksybj8XG8dbTJH5pjZJF7-HXi848R14tquZ6iSeXpEqFGiZYge8obPQRLpJA0qbc9Mmhlq-CTbIdsy5OFpdzcDadSj6_k_kzuU2PR-Fli9GtH-34z2d4C9dWsBmnUo_IA3dvSFCF_PaQuajo7cJYa_0yc4VVGKG-xYi9yV4ylD5D2cxMUDFun78NOKDD_2upF-kuf9t5E-NjCl0DffkelbqYuH6nMop2zmwfu-cwHnChaDwKM7HLJGLomD5duU5sq-mVsunnMy58NgzMecLGDbER-27zk7w0TwxkXTKfxWg&quot;
    }&#39;</code></pre></dd>
  <dt>Response</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/files/delegate-create-post.json" target="_blank" title="Go to snippet source">source</a><code class="language-json">{
  &quot;@context&quot; : [
    &quot;https://bluebrain.github.io/nexus/contexts/files.json&quot;,
    &quot;https://bluebrain.github.io/nexus/contexts/metadata.json&quot;
  ],
  &quot;@id&quot; : &quot;http://delta:8080/v1/resources/fcp5xcw67hittxm/loeu5kgu48i8tw7/_/1205b629-2a73-4891-abff-140a64e9c391&quot;,
  &quot;@type&quot; : &quot;File&quot;,
  &quot;description&quot; : &quot;a description of the file&quot;,
  &quot;name&quot; : &quot;My File&quot;,
  &quot;_bytes&quot; : 29625,
  &quot;_constrainedBy&quot; : &quot;https://bluebrain.github.io/nexus/schemas/files.json&quot;,
  &quot;_createdAt&quot; : &quot;2024-06-14T12:53:38.516222Z&quot;,
  &quot;_createdBy&quot; : &quot;http://delta:8080/v1/realms/test-pmcfwjobxkuvebro/users/fwhbqlnnhqncpsqk&quot;,
  &quot;_deprecated&quot; : false,
  &quot;_digest&quot; : {
    &quot;_algorithm&quot; : &quot;SHA-256&quot;,
    &quot;_value&quot; : &quot;05bf442810213b9e5fecd5242eefeff1f3d207913861c96658c75ccf58997e87&quot;
  },
  &quot;_filename&quot; : &quot;myfile.png&quot;,
  &quot;_incoming&quot; : &quot;http://delta:8080/v1/files/fcp5xcw67hittxm/loeu5kgu48i8tw7/http:%2F%2Fdelta:8080%2Fv1%2Fresources%2Ffcp5xcw67hittxm%2Floeu5kgu48i8tw7%2F_%2F1205b629-2a73-4891-abff-140a64e9c391/incoming&quot;,
  &quot;_keywords&quot; : {
    &quot;key1&quot; : &quot;value1&quot;,
    &quot;key2&quot; : &quot;value2&quot;
  },
  &quot;_location&quot; : &quot;myprefix/fcp5xcw67hittxm/loeu5kgu48i8tw7/files/f/f/9/5/3/4/c/2/ngbeydtjyibvcanj&quot;,
  &quot;_mediaType&quot; : &quot;image/png&quot;,
  &quot;_origin&quot; : &quot;Link&quot;,
  &quot;_outgoing&quot; : &quot;http://delta:8080/v1/files/fcp5xcw67hittxm/loeu5kgu48i8tw7/http:%2F%2Fdelta:8080%2Fv1%2Fresources%2Ffcp5xcw67hittxm%2Floeu5kgu48i8tw7%2F_%2F1205b629-2a73-4891-abff-140a64e9c391/outgoing&quot;,
  &quot;_project&quot; : &quot;http://delta:8080/v1/projects/fcp5xcw67hittxm/loeu5kgu48i8tw7&quot;,
  &quot;_rev&quot; : 1,
  &quot;_self&quot; : &quot;http://delta:8080/v1/files/fcp5xcw67hittxm/loeu5kgu48i8tw7/http:%2F%2Fdelta:8080%2Fv1%2Fresources%2Ffcp5xcw67hittxm%2Floeu5kgu48i8tw7%2F_%2F1205b629-2a73-4891-abff-140a64e9c391&quot;,
  &quot;_storage&quot; : {
    &quot;@id&quot; : &quot;https://bluebrain.github.io/nexus/vocabulary/mys3storage&quot;,
    &quot;@type&quot; : &quot;S3Storage&quot;,
    &quot;_rev&quot; : 3
  },
  &quot;_updatedAt&quot; : &quot;2024-06-14T12:53:38.516222Z&quot;,
  &quot;_updatedBy&quot; : &quot;http://delta:8080/v1/realms/test-pmcfwjobxkuvebro/users/fwhbqlnnhqncpsqk&quot;,
  &quot;_uuid&quot; : &quot;c96a229c-8d1d-46a5-8f47-08555fd98cb3&quot;
}</code></pre></dd>
</dl>
<h2><a href="#tag" name="tag" class="anchor"><span class="anchor-link"></span></a>Tag</h2>
<p>Links a file revision to a specific name.</p>
<p>Tagging a file is considered to be an update as well.</p>
<pre><code>POST /v1/files/{org_label}/{project_label}/{file_id}/tags?rev={previous_rev}
  {
    &quot;tag&quot;: &quot;{name}&quot;,
    &quot;rev&quot;: {rev}
  }
</code></pre>
<p>&hellip; where</p>
<ul>
  <li><code>{previous_rev}</code>: is the last known revision number for the file.</li>
  <li><code>{name}</code>: String - label given to the file at specific revision.</li>
  <li><code>{rev}</code>: Number - the revision to link the provided <code>{name}</code>.</li>
</ul>
<p><strong>Example</strong></p>
<dl>
  <dt>Request</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/files/tag.sh" target="_blank" title="Go to snippet source">source</a><code class="language-sh">curl -X POST \
   -H &quot;Content-Type: application/json&quot; \
   &quot;http://localhost:8080/v1/files/myorg/myproject/myfile/tags?rev=2&quot; -d \
  &#39;{
    &quot;tag&quot;: &quot;mytag&quot;,
    &quot;rev&quot;: 1
  }&#39;</code></pre></dd>
  <dt>Payload</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/tag.json" target="_blank" title="Go to snippet source">source</a><code class="language-json">{
  &quot;tag&quot;: &quot;mytag&quot;,
  &quot;rev&quot;: 1
}</code></pre></dd>
  <dt>Response</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/files/tagged.json" target="_blank" title="Go to snippet source">source</a><code class="language-json">{
  &quot;@context&quot;: [
    &quot;https://bluebrain.github.io/nexus/contexts/files.json&quot;,
    &quot;https://bluebrain.github.io/nexus/contexts/metadata.json&quot;
  ],
  &quot;@id&quot;: &quot;http://localhost:8080/v1/resources/myorg/myproject/_/myfile&quot;,
  &quot;@type&quot;: &quot;File&quot;,
  &quot;_bytes&quot;: 13896460,
  &quot;_constrainedBy&quot;: &quot;https://bluebrain.github.io/nexus/schemas/files.json&quot;,
  &quot;_createdAt&quot;: &quot;2021-05-12T07:30:54.576Z&quot;,
  &quot;_createdBy&quot;: &quot;http://localhost:8080/v1/anonymous&quot;,
  &quot;_deprecated&quot;: false,
  &quot;_digest&quot;: {
    &quot;_algorithm&quot;: &quot;SHA-256&quot;,
    &quot;_value&quot;: &quot;4c9f4292e3c0c5fc23cd60722adb8a1535f1dd7f0cf9203140d61fb889eef3cf&quot;
  },
  &quot;_filename&quot;: &quot;myfile2.pdf&quot;,
  &quot;_incoming&quot;: &quot;http://localhost:8080/v1/files/myorg/myproject/myfile/incoming&quot;,
  &quot;_mediaType&quot;: &quot;application/pdf&quot;,
  &quot;_origin&quot;: &quot;Client&quot;,
  &quot;_outgoing&quot;: &quot;http://localhost:8080/v1/files/myorg/myproject/myfile/outgoing&quot;,
  &quot;_project&quot;: &quot;http://localhost:8080/v1/projects/myorg/myproject&quot;,
  &quot;_rev&quot;: 3,
  &quot;_self&quot;: &quot;http://localhost:8080/v1/files/myorg/myproject/myfile&quot;,
  &quot;_storage&quot;: {
    &quot;@id&quot;: &quot;https://bluebrain.github.io/nexus/vocabulary/diskStorageDefault&quot;,
    &quot;@type&quot;: &quot;DiskStorage&quot;,
    &quot;_rev&quot;: 1
  },
  &quot;_updatedAt&quot;: &quot;2021-05-12T08:07:55.442Z&quot;,
  &quot;_updatedBy&quot;: &quot;http://localhost:8080/v1/anonymous&quot;,
  &quot;_uuid&quot;: &quot;3e86d93a-c196-407d-a13c-cea7168e32e3&quot;
}</code></pre></dd>
</dl>
<h2><a href="#remove-tag" name="remove-tag" class="anchor"><span class="anchor-link"></span></a>Remove tag</h2>
<p>Removes a given tag.</p>
<p>Removing a tag is considered to be an update as well.</p>
<pre><code>DELETE /v1/files/{org_label}/{project_label}/{file_id}/tags/{tag_name}?rev={previous_rev}
</code></pre>
<p>&hellip; where</p>
<ul>
  <li><code>{previous_rev}</code>: is the last known revision number for the resource.</li>
  <li><code>{tag_name}</code>: String - label of the tag to remove.</li>
</ul>
<p><strong>Example</strong></p>
<dl>
  <dt>Request</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/files/delete-tag.sh" target="_blank" title="Go to snippet source">source</a><code class="language-sh">curl -X DELETE \
     &quot;http://localhost:8080/v1/files/myorg/myproj/myfile/tags/mytag?rev=2&quot;</code></pre></dd>
  <dt>Response</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/files/tagged.json" target="_blank" title="Go to snippet source">source</a><code class="language-json">{
  &quot;@context&quot;: [
    &quot;https://bluebrain.github.io/nexus/contexts/files.json&quot;,
    &quot;https://bluebrain.github.io/nexus/contexts/metadata.json&quot;
  ],
  &quot;@id&quot;: &quot;http://localhost:8080/v1/resources/myorg/myproject/_/myfile&quot;,
  &quot;@type&quot;: &quot;File&quot;,
  &quot;_bytes&quot;: 13896460,
  &quot;_constrainedBy&quot;: &quot;https://bluebrain.github.io/nexus/schemas/files.json&quot;,
  &quot;_createdAt&quot;: &quot;2021-05-12T07:30:54.576Z&quot;,
  &quot;_createdBy&quot;: &quot;http://localhost:8080/v1/anonymous&quot;,
  &quot;_deprecated&quot;: false,
  &quot;_digest&quot;: {
    &quot;_algorithm&quot;: &quot;SHA-256&quot;,
    &quot;_value&quot;: &quot;4c9f4292e3c0c5fc23cd60722adb8a1535f1dd7f0cf9203140d61fb889eef3cf&quot;
  },
  &quot;_filename&quot;: &quot;myfile2.pdf&quot;,
  &quot;_incoming&quot;: &quot;http://localhost:8080/v1/files/myorg/myproject/myfile/incoming&quot;,
  &quot;_mediaType&quot;: &quot;application/pdf&quot;,
  &quot;_origin&quot;: &quot;Client&quot;,
  &quot;_outgoing&quot;: &quot;http://localhost:8080/v1/files/myorg/myproject/myfile/outgoing&quot;,
  &quot;_project&quot;: &quot;http://localhost:8080/v1/projects/myorg/myproject&quot;,
  &quot;_rev&quot;: 3,
  &quot;_self&quot;: &quot;http://localhost:8080/v1/files/myorg/myproject/myfile&quot;,
  &quot;_storage&quot;: {
    &quot;@id&quot;: &quot;https://bluebrain.github.io/nexus/vocabulary/diskStorageDefault&quot;,
    &quot;@type&quot;: &quot;DiskStorage&quot;,
    &quot;_rev&quot;: 1
  },
  &quot;_updatedAt&quot;: &quot;2021-05-12T08:07:55.442Z&quot;,
  &quot;_updatedBy&quot;: &quot;http://localhost:8080/v1/anonymous&quot;,
  &quot;_uuid&quot;: &quot;3e86d93a-c196-407d-a13c-cea7168e32e3&quot;
}</code></pre></dd>
</dl>
<h2><a href="#deprecate" name="deprecate" class="anchor"><span class="anchor-link"></span></a>Deprecate</h2>
<p>Locks the file, so no further operations can be performed.</p>
<p>Deprecating a file is considered to be an update as well. </p>
<pre><code>DELETE /v1/files/{org_label}/{project_label}/{file_id}?rev={previous_rev}
</code></pre>
<p>&hellip; where <code>{previous_rev}</code> is the last known revision number for the file.</p>
<p><strong>Example</strong></p>
<dl>
  <dt>Request</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/files/deprecate.sh" target="_blank" title="Go to snippet source">source</a><code class="language-sh">curl -X DELETE \
   &quot;http://localhost:8080/v1/files/myorg/myproject/myfile?rev=3&quot;</code></pre></dd>
  <dt>Response</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/files/deprecated.json" target="_blank" title="Go to snippet source">source</a><code class="language-json">{
  &quot;@context&quot;: [
    &quot;https://bluebrain.github.io/nexus/contexts/files.json&quot;,
    &quot;https://bluebrain.github.io/nexus/contexts/metadata.json&quot;
  ],
  &quot;@id&quot;: &quot;http://localhost:8080/v1/resources/myorg/myproject/_/myfile&quot;,
  &quot;@type&quot;: &quot;File&quot;,
  &quot;_bytes&quot;: 13896460,
  &quot;_constrainedBy&quot;: &quot;https://bluebrain.github.io/nexus/schemas/files.json&quot;,
  &quot;_createdAt&quot;: &quot;2021-05-12T07:30:54.576Z&quot;,
  &quot;_createdBy&quot;: &quot;http://localhost:8080/v1/anonymous&quot;,
  &quot;_deprecated&quot;: true,
  &quot;_digest&quot;: {
    &quot;_algorithm&quot;: &quot;SHA-256&quot;,
    &quot;_value&quot;: &quot;4c9f4292e3c0c5fc23cd60722adb8a1535f1dd7f0cf9203140d61fb889eef3cf&quot;
  },
  &quot;_filename&quot;: &quot;myfile2.pdf&quot;,
  &quot;_incoming&quot;: &quot;http://localhost:8080/v1/files/myorg/myproject/myfile/incoming&quot;,
  &quot;_mediaType&quot;: &quot;application/pdf&quot;,
  &quot;_origin&quot;: &quot;Client&quot;,
  &quot;_outgoing&quot;: &quot;http://localhost:8080/v1/files/myorg/myproject/myfile/outgoing&quot;,
  &quot;_project&quot;: &quot;http://localhost:8080/v1/projects/myorg/myproject&quot;,
  &quot;_rev&quot;: 4,
  &quot;_self&quot;: &quot;http://localhost:8080/v1/files/myorg/myproject/myfile&quot;,
  &quot;_storage&quot;: {
    &quot;@id&quot;: &quot;https://bluebrain.github.io/nexus/vocabulary/diskStorageDefault&quot;,
    &quot;@type&quot;: &quot;DiskStorage&quot;,
    &quot;_rev&quot;: 1
  },
  &quot;_updatedAt&quot;: &quot;2021-05-12T08:09:23.658Z&quot;,
  &quot;_updatedBy&quot;: &quot;http://localhost:8080/v1/anonymous&quot;,
  &quot;_uuid&quot;: &quot;3e86d93a-c196-407d-a13c-cea7168e32e3&quot;
}</code></pre></dd>
</dl>
<h2><a href="#undeprecate" name="undeprecate" class="anchor"><span class="anchor-link"></span></a>Undeprecate</h2>
<p>Unlocks a previously deprecated file. Further operations can then be performed. The file will again be found when listing/querying.</p>
<p>Undeprecating a file is considered to be an update as well.</p>
<pre><code>PUT /v1/file/{org_label}/{project_label}/{file_id}/undeprecate?rev={previous_rev}
</code></pre>
<p>&hellip; where <code>{previous_rev}</code> is the last known revision number for the resource.</p>
<p><strong>Example</strong></p>
<dl>
  <dt>Request</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/files/undeprecate.sh" target="_blank" title="Go to snippet source">source</a><code class="language-sh">curl -X PUT \
   &quot;http://localhost:8080/v1/files/myorg/myproject/myfile/undeprecate?rev=4&quot;</code></pre></dd>
  <dt>Response</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/files/undeprecated.json" target="_blank" title="Go to snippet source">source</a><code class="language-json">{
  &quot;@context&quot;: [
    &quot;https://bluebrain.github.io/nexus/contexts/files.json&quot;,
    &quot;https://bluebrain.github.io/nexus/contexts/metadata.json&quot;
  ],
  &quot;@id&quot;: &quot;http://localhost:8080/v1/resources/myorg/myproject/_/myfile&quot;,
  &quot;@type&quot;: &quot;File&quot;,
  &quot;_bytes&quot;: 13896460,
  &quot;_constrainedBy&quot;: &quot;https://bluebrain.github.io/nexus/schemas/files.json&quot;,
  &quot;_createdAt&quot;: &quot;2021-05-12T07:30:54.576Z&quot;,
  &quot;_createdBy&quot;: &quot;http://localhost:8080/v1/anonymous&quot;,
  &quot;_deprecated&quot;: false,
  &quot;_digest&quot;: {
    &quot;_algorithm&quot;: &quot;SHA-256&quot;,
    &quot;_value&quot;: &quot;4c9f4292e3c0c5fc23cd60722adb8a1535f1dd7f0cf9203140d61fb889eef3cf&quot;
  },
  &quot;_filename&quot;: &quot;myfile2.pdf&quot;,
  &quot;_incoming&quot;: &quot;http://localhost:8080/v1/files/myorg/myproject/myfile/incoming&quot;,
  &quot;_mediaType&quot;: &quot;application/pdf&quot;,
  &quot;_origin&quot;: &quot;Client&quot;,
  &quot;_outgoing&quot;: &quot;http://localhost:8080/v1/files/myorg/myproject/myfile/outgoing&quot;,
  &quot;_project&quot;: &quot;http://localhost:8080/v1/projects/myorg/myproject&quot;,
  &quot;_rev&quot;: 5,
  &quot;_self&quot;: &quot;http://localhost:8080/v1/files/myorg/myproject/myfile&quot;,
  &quot;_storage&quot;: {
    &quot;@id&quot;: &quot;https://bluebrain.github.io/nexus/vocabulary/diskStorageDefault&quot;,
    &quot;@type&quot;: &quot;DiskStorage&quot;,
    &quot;_rev&quot;: 1
  },
  &quot;_updatedAt&quot;: &quot;2021-05-12T08:09:23.658Z&quot;,
  &quot;_updatedBy&quot;: &quot;http://localhost:8080/v1/anonymous&quot;,
  &quot;_uuid&quot;: &quot;3e86d93a-c196-407d-a13c-cea7168e32e3&quot;
}</code></pre></dd>
</dl>
<h2><a href="#fetch" name="fetch" class="anchor"><span class="anchor-link"></span></a>Fetch</h2>
<p>When fetching a file, the response format can be chosen through HTTP content negotiation. In order to fetch the file metadata, the client can use any of the <a href="content-negotiation.html#supported-mime-types">following MIME types</a>. However, in order to fetch the file content, the HTTP <code>Accept</code> header <code>*/*</code> (or any MIME type that matches the file MediaType) should be provided.</p>
<pre><code>GET /v1/files/{org_label}/{project_label}/{file_id}?rev={rev}&amp;tag={tag}
</code></pre>
<p>where &hellip;</p>
<ul>
  <li><code>{rev}</code>: Number - the targeted revision to be fetched. This field is optional and defaults to the latest revision.</li>
  <li><code>{tag}</code>: String - the targeted tag to be fetched. This field is optional.</li>
</ul>
<p><code>{rev}</code> and <code>{tag}</code> fields cannot be simultaneously present.</p>
<p><strong>Example</strong></p>
<dl>
  <dt>Request (binary)
  </dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/files/fetch.sh" target="_blank" title="Go to snippet source">source</a><code class="language-sh">curl -o myfile2.pdf \
   -H &quot;Accept: */*&quot; \
   &quot;http://localhost:8080/v1/files/myorg/myproject/myfile&quot;</code></pre></dd>
  <dt>Request (metadata)
  </dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/files/fetch-metadata.sh" target="_blank" title="Go to snippet source">source</a><code class="language-sh">curl -H &quot;Accept: application/ld+json&quot; \
   &quot;http://localhost:8080/v1/files/myorg/myproject/myfile&quot;</code></pre></dd>
  <dt>Response (metadata)
  </dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/files/fetched-metadata.json" target="_blank" title="Go to snippet source">source</a><code class="language-json">{
  &quot;@context&quot;: [
    &quot;https://bluebrain.github.io/nexus/contexts/files.json&quot;,
    &quot;https://bluebrain.github.io/nexus/contexts/metadata.json&quot;
  ],
  &quot;@id&quot;: &quot;http://localhost:8080/v1/resources/myorg/myproject/_/myfile&quot;,
  &quot;@type&quot;: &quot;File&quot;,
  &quot;_bytes&quot;: 13896460,
  &quot;_constrainedBy&quot;: &quot;https://bluebrain.github.io/nexus/schemas/files.json&quot;,
  &quot;_createdAt&quot;: &quot;2021-05-12T07:30:54.576Z&quot;,
  &quot;_createdBy&quot;: &quot;http://localhost:8080/v1/anonymous&quot;,
  &quot;_deprecated&quot;: true,
  &quot;_digest&quot;: {
    &quot;_algorithm&quot;: &quot;SHA-256&quot;,
    &quot;_value&quot;: &quot;4c9f4292e3c0c5fc23cd60722adb8a1535f1dd7f0cf9203140d61fb889eef3cf&quot;
  },
  &quot;_filename&quot;: &quot;myfile2.pdf&quot;,
  &quot;_incoming&quot;: &quot;http://localhost:8080/v1/files/myorg/myproject/myfile/incoming&quot;,
  &quot;_mediaType&quot;: &quot;application/pdf&quot;,
  &quot;_origin&quot;: &quot;Client&quot;,
  &quot;_outgoing&quot;: &quot;http://localhost:8080/v1/files/myorg/myproject/myfile/outgoing&quot;,
  &quot;_project&quot;: &quot;http://localhost:8080/v1/projects/myorg/myproject&quot;,
  &quot;_rev&quot;: 4,
  &quot;_self&quot;: &quot;http://localhost:8080/v1/files/myorg/myproject/myfile&quot;,
  &quot;_storage&quot;: {
    &quot;@id&quot;: &quot;https://bluebrain.github.io/nexus/vocabulary/diskStorageDefault&quot;,
    &quot;@type&quot;: &quot;DiskStorage&quot;,
    &quot;_rev&quot;: 1
  },
  &quot;_updatedAt&quot;: &quot;2021-05-12T08:09:23.658Z&quot;,
  &quot;_updatedBy&quot;: &quot;http://localhost:8080/v1/anonymous&quot;,
  &quot;_uuid&quot;: &quot;3e86d93a-c196-407d-a13c-cea7168e32e3&quot;
}</code></pre></dd>
</dl>
<p>If the <a href="../../getting-started/running-nexus/configuration/index.html#fusion-configuration">redirect to Fusion feature</a> is enabled and if the <code>Accept</code> header is set to <code>text/html</code>, a redirection to the fusion representation of the resource will be returned.</p>
<h2><a href="#fetch-tags" name="fetch-tags" class="anchor"><span class="anchor-link"></span></a>Fetch tags</h2>
<p>Retrieves all the tags available for the <code>{file_id}</code>.</p>
<pre><code>GET /v1/files/{org_label}/{project_label}/{file_id}/tags?rev={rev}&amp;tag={tag}
</code></pre>
<p>where &hellip;</p>
<ul>
  <li><code>{rev}</code>: Number - the targeted revision of the tags to be fetched. This field is optional and defaults to the latest revision.</li>
  <li><code>{tag}</code>: String - the targeted tag of the tags to be fetched. This field is optional.</li>
</ul>
<p><code>{rev}</code> and <code>{tag}</code> fields cannot be simultaneously present.</p>
<p><strong>Example</strong></p>
<dl>
  <dt>Request</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/files/fetch-tags.sh" target="_blank" title="Go to snippet source">source</a><code class="language-sh">curl &quot;http://localhost:8080/v1/files/myorg/myproject/myfile/tags&quot;</code></pre></dd>
  <dt>Response</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/tags.json" target="_blank" title="Go to snippet source">source</a><code class="language-json">{
  &quot;@context&quot;: &quot;https://bluebrain.github.io/nexus/contexts/tags.json&quot;,
  &quot;tags&quot;: [
    {
      &quot;rev&quot;: 1,
      &quot;tag&quot;: &quot;mytag&quot;
    }
  ]
}</code></pre></dd>
</dl>
<h2><a href="#list" name="list" class="anchor"><span class="anchor-link"></span></a>List</h2>
<p>There are three available endpoints to list files in different scopes.</p>
<h3><a href="#within-a-project" name="within-a-project" class="anchor"><span class="anchor-link"></span></a>Within a project</h3>
<pre><code>GET /v1/files/{org_label}/{project_label}?from={from}
                                         &amp;size={size}
                                         &amp;deprecated={deprecated}
                                         &amp;rev={rev}
                                         &amp;type={type}
                                         &amp;createdBy={createdBy}
                                         &amp;updatedBy={updatedBy}
                                         &amp;q={search}
                                         &amp;sort={sort}
                                         &amp;aggregations={aggregations}
</code></pre>
<h3><a href="#within-an-organization" name="within-an-organization" class="anchor"><span class="anchor-link"></span></a>Within an organization</h3>
<p>This operation returns only files from projects defined in the organisation <code>{org_label}</code> and where the caller has the <code>resources/read</code> permission.</p>
<pre><code>GET /v1/files/{org_label}?from={from}
                         &amp;size={size}
                         &amp;deprecated={deprecated}
                         &amp;rev={rev}
                         &amp;type={type}
                         &amp;createdBy={createdBy}
                         &amp;updatedBy={updatedBy}
                         &amp;q={search}
                         &amp;sort={sort}
                         &amp;aggregations={aggregations}
</code></pre>
<h3><a href="#within-all-projects" name="within-all-projects" class="anchor"><span class="anchor-link"></span></a>Within all projects</h3>
<p>This operation returns only files from projects where the caller has the <code>resources/read</code> permission.</p>
<pre><code>GET /v1/files?from={from}
             &amp;size={size}
             &amp;deprecated={deprecated}
             &amp;rev={rev}
             &amp;type={type}
             &amp;createdBy={createdBy}
             &amp;updatedBy={updatedBy}
             &amp;q={search}
             &amp;sort={sort}
             &amp;aggregations={aggregations}
</code></pre>
<h3><a href="#parameter-description" name="parameter-description" class="anchor"><span class="anchor-link"></span></a>Parameter description</h3>
<ul>
  <li><code>{from}</code>: Number - is the parameter that describes the offset for the current query; defaults to <code>0</code></li>
  <li><code>{size}</code>: Number - is the parameter that limits the number of results; defaults to <code>20</code></li>
  <li><code>{deprecated}</code>: Boolean - can be used to filter the resulting files based on their deprecation status</li>
  <li><code>{rev}</code>: Number - can be used to filter the resulting files based on their revision value</li>
  <li><code>{type}</code>: Iri - can be used to filter the resulting files based on their <code>@type</code> value. This parameter can appear  multiple times, filtering further the <code>@type</code> value.</li>
  <li><code>{createdBy}</code>: Iri - can be used to filter the resulting files based on their creator</li>
  <li><code>{updatedBy}</code>: Iri - can be used to filter the resulting files based on the person which performed the last update</li>
  <li><code>{search}</code>: String - can be provided to select only the files in the collection that have attribute values matching  (containing) the provided string</li>
  <li><code>{sort}</code>: String - can be used to sort files based on a payloads&rsquo; field. This parameter can appear multiple times  to enable sorting by multiple fields. The default is done by <code>_createdBy</code> and <code>@id</code>.</li>
  <li><code>{aggregations}</code>: Boolean - if <code>true</code> then the response will only contain aggregations of the <code>@type</code> and <code>_project</code> fields; defaults to <code>false</code>. See <a href="resources-api.html#aggregations">Aggregations</a>.</li>
</ul>
<p><strong>Example</strong></p>
<dl>
  <dt>Request</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/files/list.sh" target="_blank" title="Go to snippet source">source</a><code class="language-sh">curl &quot;http://localhost:8080/v1/files/myorg/myproject?deprecated=false&quot;</code></pre></dd>
  <dt>Response</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/files/listed.json" target="_blank" title="Go to snippet source">source</a><code class="language-json">{
  &quot;@context&quot;: [
    &quot;https://bluebrain.github.io/nexus/contexts/metadata.json&quot;,
    &quot;https://bluebrain.github.io/nexus/contexts/search.json&quot;,
    &quot;https://bluebrain.github.io/nexus/contexts/search-metadata.json&quot;
  ],
  &quot;_total&quot;: 3,
  &quot;_results&quot;: [
    {
      &quot;@id&quot;: &quot;http://localhost:8080/v1/resources/myorg/myproject/_/c581fdd4-6151-4430-aa33-f97ab6aa0b38&quot;,
      &quot;@type&quot;: &quot;File&quot;,
      &quot;_bytes&quot;: 8615,
      &quot;_constrainedBy&quot;: &quot;https://bluebrain.github.io/nexus/schemas/files.json&quot;,
      &quot;_createdAt&quot;: &quot;2021-05-12T07:28:30.472Z&quot;,
      &quot;_createdBy&quot;: &quot;http://localhost:8080/v1/anonymous&quot;,
      &quot;_deprecated&quot;: false,
      &quot;_digest&quot;: {
        &quot;_algorithm&quot;: &quot;SHA-256&quot;,
        &quot;_value&quot;: &quot;057a3811ecfbeb99506c538d42474d1916f1d9b66965b9e9378a00eab1bb913a&quot;
      },
      &quot;_filename&quot;: &quot;myfile.jpg&quot;,
      &quot;_incoming&quot;: &quot;http://localhost:8080/v1/files/myorg/myproject/c581fdd4-6151-4430-aa33-f97ab6aa0b38/incoming&quot;,
      &quot;_mediaType&quot;: &quot;image/jpeg&quot;,
      &quot;_outgoing&quot;: &quot;http://localhost:8080/v1/files/myorg/myproject/c581fdd4-6151-4430-aa33-f97ab6aa0b38/outgoing&quot;,
      &quot;_project&quot;: &quot;http://localhost:8080/v1/projects/myorg/myproject&quot;,
      &quot;_rev&quot;: 1,
      &quot;_self&quot;: &quot;http://localhost:8080/v1/files/myorg/myproject/c581fdd4-6151-4430-aa33-f97ab6aa0b38&quot;,
      &quot;_storage&quot;: {
        &quot;@id&quot;: &quot;https://bluebrain.github.io/nexus/vocabulary/diskStorageDefault&quot;,
        &quot;@type&quot;: &quot;DiskStorage&quot;,
        &quot;_rev&quot;: 1
      },
      &quot;_updatedAt&quot;: &quot;2021-05-12T07:28:30.472Z&quot;,
      &quot;_updatedBy&quot;: &quot;http://localhost:8080/v1/anonymous&quot;,
      &quot;_uuid&quot;: &quot;9af35be9-b2f2-4734-9646-c3423a62685d&quot;
    },
    {
      &quot;@id&quot;: &quot;http://localhost:8080/v1/resources/myorg/myproject/_/9ca0d270-35f0-4369-9c17-296fe36fd9a5&quot;,
      &quot;@type&quot;: &quot;File&quot;,
      &quot;_bytes&quot;: 1658857,
      &quot;_constrainedBy&quot;: &quot;https://bluebrain.github.io/nexus/schemas/files.json&quot;,
      &quot;_createdAt&quot;: &quot;2021-05-12T07:56:42.991Z&quot;,
      &quot;_createdBy&quot;: &quot;http://localhost:8080/v1/anonymous&quot;,
      &quot;_deprecated&quot;: false,
      &quot;_digest&quot;: {
        &quot;_algorithm&quot;: &quot;SHA-256&quot;,
        &quot;_value&quot;: &quot;e88fd2d76dd7c1a144c68e89a38c972251623dacf4c898154aae4c3b03eb4a84&quot;
      },
      &quot;_filename&quot;: &quot;myfile.png&quot;,
      &quot;_incoming&quot;: &quot;http://localhost:8080/v1/files/myorg/myproject/9ca0d270-35f0-4369-9c17-296fe36fd9a5/incoming&quot;,
      &quot;_location&quot;: &quot;file:///tmp/test/nexus/myorg/myproject/3/4/c/4/9/1/a/1/myfile.png&quot;,
      &quot;_mediaType&quot;: &quot;image/png&quot;,
      &quot;_outgoing&quot;: &quot;http://localhost:8080/v1/files/myorg/myproject/9ca0d270-35f0-4369-9c17-296fe36fd9a5/outgoing&quot;,
      &quot;_project&quot;: &quot;http://localhost:8080/v1/projects/myorg/myproject&quot;,
      &quot;_rev&quot;: 2,
      &quot;_self&quot;: &quot;http://localhost:8080/v1/files/myorg/myproject/9ca0d270-35f0-4369-9c17-296fe36fd9a5&quot;,
      &quot;_storage&quot;: {
        &quot;@id&quot;: &quot;http://localhost:8080/v1/resources/myorg/myproject/_/s3&quot;,
        &quot;@type&quot;: &quot;S3Storage&quot;,
        &quot;_rev&quot;: 1
      },
      &quot;_updatedAt&quot;: &quot;2021-05-12T07:56:48.380Z&quot;,
      &quot;_updatedBy&quot;: &quot;http://localhost:8080/v1/anonymous&quot;,
      &quot;_uuid&quot;: &quot;34c491a1-17ba-4726-bdf2-3b4e1e150750&quot;
    },
    {
      &quot;@id&quot;: &quot;http://localhost:8080/v1/resources/myorg/myproject/_/mylink&quot;,
      &quot;@type&quot;: &quot;File&quot;,
      &quot;_bytes&quot;: 1658857,
      &quot;_constrainedBy&quot;: &quot;https://bluebrain.github.io/nexus/schemas/files.json&quot;,
      &quot;_createdAt&quot;: &quot;2021-05-12T08:00:34.563Z&quot;,
      &quot;_createdBy&quot;: &quot;http://localhost:8080/v1/anonymous&quot;,
      &quot;_deprecated&quot;: false,
      &quot;_digest&quot;: {
        &quot;_algorithm&quot;: &quot;SHA-256&quot;,
        &quot;_value&quot;: &quot;e88fd2d76dd7c1a144c68e89a38c972251623dacf4c898154aae4c3b03eb4a84&quot;
      },
      &quot;_filename&quot;: &quot;myfile2.png&quot;,
      &quot;_incoming&quot;: &quot;http://localhost:8080/v1/files/myorg/myproject/mylink/incoming&quot;,
      &quot;_location&quot;: &quot;file:///tmp/test/nexus/myorg/myproject/6/6/0/4/9/9/d/9/myfile2.png&quot;,
      &quot;_mediaType&quot;: &quot;image/png&quot;,
      &quot;_outgoing&quot;: &quot;http://localhost:8080/v1/files/myorg/myproject/mylink/outgoing&quot;,
      &quot;_project&quot;: &quot;http://localhost:8080/v1/projects/myorg/myproject&quot;,
      &quot;_rev&quot;: 2,
      &quot;_self&quot;: &quot;http://localhost:8080/v1/files/myorg/myproject/mylink&quot;,
      &quot;_storage&quot;: {
        &quot;@id&quot;: &quot;http://localhost:8080/v1/resources/myorg/myproject/_/s3&quot;,
        &quot;@type&quot;: &quot;S3Storage&quot;,
        &quot;_rev&quot;: 1
      },
      &quot;_updatedAt&quot;: &quot;2021-05-12T08:00:40.790Z&quot;,
      &quot;_updatedBy&quot;: &quot;http://localhost:8080/v1/anonymous&quot;,
      &quot;_uuid&quot;: &quot;660499d9-c522-4f90-beda-2d79e538ffce&quot;
    }
  ]
}</code></pre></dd>
</dl>
<h2><a href="#server-sent-events" name="server-sent-events" class="anchor"><span class="anchor-link"></span></a>Server Sent Events</h2>
<p>From Delta 1.5, it is possible to fetch SSEs for all files or just files in the scope of an organization or a project.</p>
<pre><code>GET /v1/files/events                              # for all file events in the application
GET /v1/files/{org_label}/events                  # for file events in the given organization
GET /v1/files/{org_label}/{project_label}/events  # for file events in the given project
</code></pre>
<p>The caller must have respectively the <code>events/read</code> permission on <code>/</code>, <code>{org_label}</code> and <code>{org_label}/{project_label}</code>.</p>
<ul>
  <li><code>{org_label}</code>: String - the selected organization for which the events are going to be filtered</li>
  <li><code>{project_label}</code>: String - the selected project for which the events are going to be filtered</li>
  <li><code>Last-Event-Id</code>: String - optional HTTP Header that identifies the last consumed resource event. It can be used for  cases when a client does not want to retrieve the whole event stream, but to start after a specific event.</li>
</ul><div class="callout note warning"><div class="callout-title">Note</div>
<p>The event type for files SSEs have been changed so that it is easier to distinguish them from other types of resources.</p></div>
<p><strong>Example</strong></p>
<dl>
  <dt>Request</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/files/sse.sh" target="_blank" title="Go to snippet source">source</a><code class="language-sh">curl -H &quot;Last-Event-Id: fc6078f0-b2f3-11eb-96af-ed7fe24c2ccf&quot; \
   &quot;http://localhost:8080/v1/files/myorg/myproject/events&quot;</code></pre></dd>
  <dt>Response</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/assets/files/sse.json" target="_blank" title="Go to snippet source">source</a><code class="language-json">data:{&quot;@context&quot;:[&quot;https://bluebrain.github.io/nexus/contexts/metadata.json&quot;,&quot;https://bluebrain.github.io/nexus/contexts/files.json&quot;],&quot;@type&quot;:&quot;FileCreated&quot;,&quot;_attributes&quot;:{&quot;_bytes&quot;:1658857,&quot;_digest&quot;:{&quot;_value&quot;:&quot;&quot;},&quot;_filename&quot;:&quot;myfile.png&quot;,&quot;_location&quot;:&quot;file:///tmp/test/nexus/myorg/myproject/3/4/c/4/9/1/a/1/myfile.png&quot;,&quot;_mediaType&quot;:&quot;image/png&quot;,&quot;_origin&quot;:&quot;Storage&quot;,&quot;_uuid&quot;:&quot;34c491a1-17ba-4726-bdf2-3b4e1e150750&quot;},&quot;_fileId&quot;:&quot;http://localhost:8080/v1/resources/myorg/myproject/_/9ca0d270-35f0-4369-9c17-296fe36fd9a5&quot;,&quot;_instant&quot;:&quot;2021-05-12T07:56:42.991Z&quot;,&quot;_project&quot;:&quot;http://localhost:8080/v1/projects/myorg/myproject&quot;,&quot;_resourceId&quot;:&quot;http://localhost:8080/v1/resources/myorg/myproject/_/9ca0d270-35f0-4369-9c17-296fe36fd9a5&quot;,&quot;_rev&quot;:1,&quot;_storage&quot;:{&quot;@id&quot;:&quot;http://localhost:8080/v1/resources/myorg/myproject/_/s3&quot;,&quot;@type&quot;:&quot;S3Storage&quot;,&quot;_resourceId&quot;:&quot;http://localhost:8080/v1/resources/myorg/myproject/_/s3&quot;,&quot;_rev&quot;:1},&quot;_subject&quot;:&quot;http://localhost:8080/v1/anonymous&quot;}
event:FileCreated
id:9750c010-b2f7-11eb-96af-ed7fe24c2ccf

data:{&quot;@context&quot;:[&quot;https://bluebrain.github.io/nexus/contexts/metadata.json&quot;,&quot;https://bluebrain.github.io/nexus/contexts/files.json&quot;],&quot;@type&quot;:&quot;FileAttributesUpdated&quot;,&quot;_bytes&quot;:1658857,&quot;_digest&quot;:{&quot;_algorithm&quot;:&quot;SHA-256&quot;,&quot;_value&quot;:&quot;e88fd2d76dd7c1a144c68e89a38c972251623dacf4c898154aae4c3b03eb4a84&quot;},&quot;_fileId&quot;:&quot;http://localhost:8080/v1/resources/myorg/myproject/_/9ca0d270-35f0-4369-9c17-296fe36fd9a5&quot;,&quot;_instant&quot;:&quot;2021-05-12T07:56:48.380Z&quot;,&quot;_mediaType&quot;:&quot;image/png&quot;,&quot;_project&quot;:&quot;http://localhost:8080/v1/projects/myorg/myproject&quot;,&quot;_resourceId&quot;:&quot;http://localhost:8080/v1/resources/myorg/myproject/_/9ca0d270-35f0-4369-9c17-296fe36fd9a5&quot;,&quot;_rev&quot;:2,&quot;_subject&quot;:&quot;http://localhost:8080/v1/anonymous&quot;}
event:FileAttributesUpdated
id:9a8229e0-b2f7-11eb-96af-ed7fe24c2ccf

data:{&quot;@context&quot;:[&quot;https://bluebrain.github.io/nexus/contexts/metadata.json&quot;,&quot;https://bluebrain.github.io/nexus/contexts/files.json&quot;],&quot;@type&quot;:&quot;FileCreated&quot;,&quot;_attributes&quot;:{&quot;_bytes&quot;:1658857,&quot;_digest&quot;:{&quot;_value&quot;:&quot;&quot;},&quot;_filename&quot;:&quot;myfile2.png&quot;,&quot;_location&quot;:&quot;file:///tmp/test/nexus/myorg/myproject/6/6/0/4/9/9/d/9/myfile2.png&quot;,&quot;_origin&quot;:&quot;Storage&quot;,&quot;_uuid&quot;:&quot;660499d9-c522-4f90-beda-2d79e538ffce&quot;},&quot;_fileId&quot;:&quot;http://localhost:8080/v1/resources/myorg/myproject/_/mylink&quot;,&quot;_instant&quot;:&quot;2021-05-12T08:00:34.563Z&quot;,&quot;_project&quot;:&quot;http://localhost:8080/v1/projects/myorg/myproject&quot;,&quot;_resourceId&quot;:&quot;http://localhost:8080/v1/resources/myorg/myproject/_/mylink&quot;,&quot;_rev&quot;:1,&quot;_storage&quot;:{&quot;@id&quot;:&quot;http://localhost:8080/v1/resources/myorg/myproject/_/s3&quot;,&quot;@type&quot;:&quot;S3Storage&quot;,&quot;_resourceId&quot;:&quot;http://localhost:8080/v1/resources/myorg/myproject/_/s3&quot;,&quot;_rev&quot;:1},&quot;_subject&quot;:&quot;http://localhost:8080/v1/anonymous&quot;}
event:FileCreated
id:21564eb0-b2f8-11eb-96af-ed7fe24c2ccf

data:{&quot;@context&quot;:[&quot;https://bluebrain.github.io/nexus/contexts/metadata.json&quot;,&quot;https://bluebrain.github.io/nexus/contexts/files.json&quot;],&quot;@type&quot;:&quot;FileAttributesUpdated&quot;,&quot;_bytes&quot;:1658857,&quot;_digest&quot;:{&quot;_algorithm&quot;:&quot;SHA-256&quot;,&quot;_value&quot;:&quot;e88fd2d76dd7c1a144c68e89a38c972251623dacf4c898154aae4c3b03eb4a84&quot;},&quot;_fileId&quot;:&quot;http://localhost:8080/v1/resources/myorg/myproject/_/mylink&quot;,&quot;_instant&quot;:&quot;2021-05-12T08:00:40.790Z&quot;,&quot;_mediaType&quot;:&quot;image/png&quot;,&quot;_project&quot;:&quot;http://localhost:8080/v1/projects/myorg/myproject&quot;,&quot;_resourceId&quot;:&quot;http://localhost:8080/v1/resources/myorg/myproject/_/mylink&quot;,&quot;_rev&quot;:2,&quot;_subject&quot;:&quot;http://localhost:8080/v1/anonymous&quot;}
event:FileAttributesUpdated
id:2508f670-b2f8-11eb-96af-ed7fe24c2ccf

data:{&quot;@context&quot;:[&quot;https://bluebrain.github.io/nexus/contexts/metadata.json&quot;,&quot;https://bluebrain.github.io/nexus/contexts/files.json&quot;],&quot;@type&quot;:&quot;FileUpdated&quot;,&quot;_attributes&quot;:{&quot;_bytes&quot;:13896460,&quot;_digest&quot;:{&quot;_algorithm&quot;:&quot;SHA-256&quot;,&quot;_value&quot;:&quot;4c9f4292e3c0c5fc23cd60722adb8a1535f1dd7f0cf9203140d61fb889eef3cf&quot;},&quot;_filename&quot;:&quot;myfile2.pdf&quot;,&quot;_mediaType&quot;:&quot;application/pdf&quot;,&quot;_origin&quot;:&quot;Client&quot;,&quot;_uuid&quot;:&quot;3e86d93a-c196-407d-a13c-cea7168e32e3&quot;},&quot;_fileId&quot;:&quot;http://localhost:8080/v1/resources/myorg/myproject/_/myfile&quot;,&quot;_instant&quot;:&quot;2021-05-12T08:04:08.440Z&quot;,&quot;_project&quot;:&quot;http://localhost:8080/v1/projects/myorg/myproject&quot;,&quot;_resourceId&quot;:&quot;http://localhost:8080/v1/resources/myorg/myproject/_/myfile&quot;,&quot;_rev&quot;:2,&quot;_storage&quot;:{&quot;@id&quot;:&quot;https://bluebrain.github.io/nexus/vocabulary/diskStorageDefault&quot;,&quot;@type&quot;:&quot;DiskStorage&quot;,&quot;_resourceId&quot;:&quot;https://bluebrain.github.io/nexus/vocabulary/diskStorageDefault&quot;,&quot;_rev&quot;:1},&quot;_subject&quot;:&quot;http://localhost:8080/v1/anonymous&quot;}
event:FileUpdated
id:a0cdd690-b2f8-11eb-96af-ed7fe24c2ccf

data:{&quot;@context&quot;:[&quot;https://bluebrain.github.io/nexus/contexts/metadata.json&quot;,&quot;https://bluebrain.github.io/nexus/contexts/files.json&quot;],&quot;@type&quot;:&quot;FileTagAdded&quot;,&quot;tag&quot;:&quot;mytag&quot;,&quot;targetRev&quot;:1,&quot;_fileId&quot;:&quot;http://localhost:8080/v1/resources/myorg/myproject/_/myfile&quot;,&quot;_instant&quot;:&quot;2021-05-12T08:07:55.442Z&quot;,&quot;_project&quot;:&quot;http://localhost:8080/v1/projects/myorg/myproject&quot;,&quot;_resourceId&quot;:&quot;http://localhost:8080/v1/resources/myorg/myproject/_/myfile&quot;,&quot;_rev&quot;:3,&quot;_subject&quot;:&quot;http://localhost:8080/v1/anonymous&quot;}
event:FileTagAdded
id:281b9830-b2f9-11eb-96af-ed7fe24c2ccf

data:{&quot;@context&quot;:[&quot;https://bluebrain.github.io/nexus/contexts/metadata.json&quot;,&quot;https://bluebrain.github.io/nexus/contexts/files.json&quot;],&quot;@type&quot;:&quot;FileDeprecated&quot;,&quot;_fileId&quot;:&quot;http://localhost:8080/v1/resources/myorg/myproject/_/myfile&quot;,&quot;_instant&quot;:&quot;2021-05-12T08:09:23.658Z&quot;,&quot;_project&quot;:&quot;http://localhost:8080/v1/projects/myorg/myproject&quot;,&quot;_resourceId&quot;:&quot;http://localhost:8080/v1/resources/myorg/myproject/_/myfile&quot;,&quot;_rev&quot;:4,&quot;_subject&quot;:&quot;http://localhost:8080/v1/anonymous&quot;}
event:FileDeprecated
id:5cb049b0-b2f9-11eb-96af-ed7fe24c2ccf</code></pre></dd>
</dl>
</div>
<div>
<a href="https://github.com/BlueBrain/nexus/tree/master/docs/src/main/paradox/docs/delta/api/files-api.md" title="Edit this page" class="md-source-file md-edit">
Edit this page
</a>
</div>
<div class="print-only">
<span class="md-source-file md-version">
Snapshot
</span>
</div>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-nav">
<nav class="md-footer-nav__inner md-grid">
<a href="../../../docs/delta/api/storages-api.html" title="Storages" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
<div class="md-flex__cell md-flex__cell--shrink">
<i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
</div>
<div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
<span class="md-flex__ellipsis">
<span class="md-footer-nav__direction">
Previous
</span>
Storages
</span>
</div>
</a>
<a href="../../../docs/delta/api/archives-api.html" title="Archives" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
<div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
<span class="md-flex__ellipsis">
<span class="md-footer-nav__direction">
Next
</span>
Archives
</span>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
</div>
</a>
</nav>
</div>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-footer-copyright">
<div class="md-footer-copyright__highlight">
Nexus is Open Source and available under the Apache 2 License.<br/>
Â© 2017-2024 <a href="https://epfl.ch/">EPFL</a>
 <a href="https://bluebrain.epfl.ch/">The Blue Brain Project</a>

</div>
</div>
<div class="md-footer-social">
<a href="https://github.com/BlueBrain" class="md-footer-social__link fa fa-github"></a><a href="https://github.com/BlueBrain/nexus/discussions" class="md-footer-social__link fa fa-github"></a>
</div>

</div>
</div>
</footer>

</div>
<script src="../../../assets/javascripts/application.583bbe55.js"></script>
<script src="../../../assets/javascripts/paradox-material-theme.js"></script>
<script>app.initialize({version:"0.17",url:{base:"../../../."}})</script>
<script type="text/javascript" src="../../../lib/prettify/prettify.js"></script>
<script type="text/javascript" src="../../../lib/prettify/lang-scala.js"></script>
<script type="text/javascript">
document.addEventListener("DOMContentLoaded", function(event) {
window.prettyPrint && prettyPrint();
});
</script>
<script src="../../.././public/js/gtm.js"></script>
</body>
</html>
